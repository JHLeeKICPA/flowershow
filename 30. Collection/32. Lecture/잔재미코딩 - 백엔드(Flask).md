---
collection:
  - ğŸ“¼Lecture
---
# 1_understand_fullstack

## 0. í’€ìŠ¤íƒ ì„œë¹„ìŠ¤ ê°œë°œ ëª©í‘œ

### ëª©í‘œ
- ìµœì¢… ëª©í‘œ: 
	1. ë‚˜ë§Œì˜ í’€ìŠ¤íƒ ì„œë¹„ìŠ¤ ê°œë°œ
	2. ììœ ìì¬ë¡œ ë‹¤ì–‘í•œ ê¸°ìˆ ì„ ìµíˆê³  í™œìš©í•  ìˆ˜ ìˆëŠ” ê¸°ë³¸ê¸° ìŒ“ê¸°
	3. í˜¼ìì„œë„ ì„œë¹„ìŠ¤ ê°œë°œì´ ê°€ëŠ¥í•œ í…Œí¬íŠ¸ë¦¬
  
### ì›ì¹™

1. ê°€ê¸‰ì  ì‰¬ìš´ ê¸°ìˆ  ì‚¬ìš©
2. ìµœì‹  ê¸°ìˆ ë§Œ ì‚¬ìš©
3. ë‹¤ë¥¸ ê¸°ìˆ ê³¼ ì—°ê²°ë˜ì–´ ìˆì§€ ì•Šê³ , í•™ìŠµê³¡ì„ ì´ ë†’ê¸°ë§Œí•œ í”„ë ˆì„ì›Œí¬ëŠ” ë°°ì œ
4. í•™ìŠµê³¡ì„ ê¹Œì§€ í¬í•¨í•´ì„œ, ë†’ì€ ìƒì‚°ì„±ì„ ê°€ì§„ ê¸°ìˆ  ì‚¬ìš©
5. ë‹¨ê³„ë³„ ë‚œì´ë„ ê³ ë ¤
6. <b>í”„ë¡œí† íƒ€ì…ì´ ì•„ë‹ˆë¼, ì‹¤ì œ ìƒìš©í™” ìˆ˜ì¤€ìœ¼ë¡œ ê°œë°œ</b>

### í•™ìŠµ ê³¡ì„  (ëŸ¬ë‹ ì»¤ë¸Œ)
- ë‹¤ì–‘í•œ ê¸°ìˆ ì„ ìµí ë•Œì—ëŠ” ë‹¨ê³„ê°€ ìˆìŒ
- ê° ê¸°ìˆ ë§ˆë‹¤ í•™ìŠµ ê³¡ì„  (ëŸ¬ë‹ ì»¤ë¸Œ)ê°€ ìˆìŒ
- [ëŸ¬ë‹ ì»¤ë¸Œ](https://www.google.com/search?q=programming+learning+curve+python+java&tbm=isch&ved=2ahUKEwiI3v-_jOzoAhUFfN4KHSD7CGUQ2-cCegQIABAA&oq=programming+learning+curve+python+java&gs_lcp=CgNpbWcQAzoECAAQHjoGCAAQCBAeUMHKAVi02AFgtNkBaABwAHgAgAFwiAHyCZIBBDAuMTKYAQCgAQGqAQtnd3Mtd2l6LWltZw&sclient=img&ei=h92XXsj-CoX4-Qag9qOoBg&bih=977&biw=1920&rlz=1C5CHFA_enKR883KR883#imgrc=lParFoOQXrDjwM)
- ì˜ˆ:
	- ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì²˜ìŒ ìµíˆë ¤ë©´ SQLì„ ë¨¼ì € ìµí˜€ì•¼ í•¨
	- íšŒì‚¬ì—ì„œ ì˜¤ë¼í´(ëŒ€ê·œëª¨ ê¸ˆìœµ ì‹œìŠ¤í…œë“±ì—ì„œ ì‚¬ìš©) ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì“´ë‹¤ê³ , ì˜¤ë¼í´ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ìµíˆë©´ì„œ, ë³µì¡í•œ ì˜¤ë¼í´ íŠ¹í™” ê¸°ëŠ¥ì„ ìµíˆë©´ SQL, ì˜¤ë¼í´ ë‘˜ë‹¤ ìµíˆëŠ”ë° í° ì–´ë ¤ì›€ì„ ê²ªìŒ
	- ì‹¤ì œ ìì‹ ë§Œì˜ ì„œë¹„ìŠ¤ ê°œë°œì—ë„ ì•„ë¬´ ë„ì›€ì´ ì•ˆë¨


> ë‚®ì€ í•™ìŠµ ê³¡ì„ ì˜ ê¸°ìˆ ì„ ì„ íƒí•œ í›„, í•„ìš”ì— ë”°ë¼ ë†’ì€ í•™ìŠµ ê³¡ì„ ì„ ì‹ ì¤‘íˆ ì„ íƒí•´ì•¼, ì›í•˜ëŠ” ê¸°ê°„ ë‚´ì— ê°œë°œì´ ê°€ëŠ¥í•¨ <br>
> ìœ í–‰í•˜ëŠ” ê¸°ìˆ ì€ ìˆ˜ì‹œë¡œ ë‹¬ë¼ì§, ë‹¤ì–‘í•œ ê¸°ìˆ  ê²½í—˜ì„ ìŒ“ëŠ” ê²ƒì´ ì¢‹ìŒ


### ìŠ¤íƒ€íŠ¸ì—… ê°œë°œ í”„ë¡œì„¸ìŠ¤
- ì ì€ ë¦¬ì†ŒìŠ¤ë¡œ ì§§ì€ ê¸°ê°„ì— ê³ ê° ë°˜ì‘ í™•ì¸
- **ë§¤í•´ ë³€ê²½ë˜ëŠ” ê¸°ìˆ  íŠ¸ë Œë“œì— ë”°ë¼ ìµœê·¼ ì‚¬ìš©ì„ ê³ ë ¤í• ë§Œí•œ ê¸°ìˆ ë¡œ ì´ë¯¸ì§€ë¥¼ ì—…ë°ì´íŠ¸í•˜ì˜€ìŠµë‹ˆë‹¤**

<center><img src="https://davelee-fun.github.io/fixeddata/abtest_process.png"></center>

## 1. í”„ë ˆì„ì›Œí¬ë€?
- í”„ë ˆì„(Frame, í‹€) + ì›Œí¬(work, ì¼í•˜ë‹¤)
  - ë¯¸ë¦¬ ë§Œë“¤ì–´ì§„ í‹€ì„ ê°€ì§€ê³  ì¼í•˜ë‹¤.
<table>
    <tr>
        <td><img src="https://www.fun-coding.org/style/images/ads/lego_frame.jpg"></td>
        <td><img src="https://www.fun-coding.org/style/images/ads/lego_set.jpg"></td>
    </tr>
</table>

#### í…œí”Œë¦¿ ì½”ë“œ: í¬ë¡¤ë§(íƒ€ì´í‹€)
- ì‚¬ìš©ë²•
	- crawling_template(ì›¹ì£¼ì†Œ, css selector)

#### í¬ë¡¤ë§ í”„ë ˆì„ì›Œí¬ë¥¼ ë§Œë“¤ê³ , crawling_template() í•¨ìˆ˜ë¥¼ ì œê³µ 
- ì¥ì : í¬ë¡¤ë§ ì›ë¦¬ë¥¼ ëª°ë¼ë„ í¬ë¡¤ë§ ê°€ëŠ¥
- ë‹¨ì : ì œê³µí•˜ëŠ” ê¸°ëŠ¥ ì™¸ì—ëŠ” ì‚¬ìš© ë¶ˆê°€, í•´ë‹¹ í•¨ìˆ˜ ì‚¬ìš©ë²•ì„ ì˜ ì•Œì•„ë„, í”„ë¡œê·¸ë˜ë° ì‹¤ë ¥ì´ ëŠ˜ê±°ë‚˜, ë‹¤ë¥¸ ê¸°ìˆ ì„ ìµí ë•Œ, ì‹œë„ˆì§€ê°€ ì—†ìŒ


```python
import requests
from bs4 import BeautifulSoup

def crawling_template(url, css_selector):
    return_data = list()
    res = requests.get(url)
    soup = BeautifulSoup(res.content, 'html.parser')
    datas1 = soup.select(css_selector)
    for item in datas1:
        return_data.append(item.get_text())
    return return_data
```

### Why flask? : ê°€ì¥ ì§§ì€ ì‹œê°„ì— ìµíˆê³ , ê°€ì¥ ë¹ ë¥´ê²Œ êµ¬í˜„í•  ìˆ˜ ìˆìŒ!
- ë°±ì—”ë“œ ê¸°ìˆ ì„ ì²˜ìŒ ìµíˆëŠ”ë° ì í•©
- íŒŒì´ì¬ì„ ì‚¬ìš©í•˜ë¯€ë¡œ, ë‹¤ì–‘í•œ íŒŒì´ì¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ í™œìš© ê°€ëŠ¥í•¨ (í™•ì¥ì„±ì´ ë§¤ìš° í¼)
- ì²˜ìŒ ìµí ì‹œì—ëŠ” ë³µì¡ë„ë¥¼ ë‚®ì¶°ì•¼ í•¨
	- ìƒˆë¡œìš´ ì–¸ì–´ + ì²˜ìŒ ìµíˆëŠ” ë°±ì—”ë“œ ì¡°í•©ì€ ë³µì¡ë„ê°€ í›¨ì”¬ ë†’ì•„ì ¸ì„œ, ì•„ë¬´ê²ƒë„ ìµí ìˆ˜ ì—†ìŒ
- flask ë¡œ ë°±ì—”ë“œë¥¼ ìµíˆë©´, ê¸°ë³¸ì ì¸ ë°±ì—”ë“œ ê¸°ìˆ ì— ëŒ€í•´ ì´í•´ë„ê°€ ë†’ì•„ì§€ê³ , ë‹¤ë¥¸ ê¸°ìˆ ì„ ìµíˆëŠ”ë° ë„ì›€ì´ ë¨
	- Rest API, CORS, ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²°, MVC ë“± ê°€ì¥ ê¸°ë³¸ì ì¸ ê¸°ìˆ ì„ ë‹¤ë£° ìˆ˜ ìˆìœ¼ë©°, ì´ëŠ” ë‹¤ë¥¸ ì–¸ì–´/í”„ë ˆì„ì›Œí¬ì— ê·¸ëŒ€ë¡œ ì ìš© ê°€ëŠ¥
	- ë°±ì—”ë“œ ì´í•´ì™€ êµ¬í˜„ ê²½í—˜ì„ ê¸°ë°˜ìœ¼ë¡œ JAVA Spring/Go ë“± ë‹¤ë¥¸ ì–¸ì–´ë¡œ êµ¬í˜„ì„ ëŒ€ì²´í•˜ë©´ ë¹ ë¥´ê²Œ ë‹¤ì–‘í•œ ê¸°ìˆ ì„ ìµí ìˆ˜ ìˆìŒ

>*ì”ì¬ë¯¸ì½”ë”© Dave Lee ì¶”ê°€ ì˜ê²¬*
ì´ ê°•ì˜ëŠ” ë°±ì—”ë“œ ê¸°ìˆ ì„ ì²˜ìŒ ë°°ìš°ëŠ” ë¶„ë“¤ì´ íŒŒì´ì¬ì„ í†µí•´ ì‰½ê²Œ ë°±ì—”ë“œë¥¼ ìµíˆê³  í™œìš©í•  ìˆ˜ ìˆë„ë¡ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤. ë°±ì—”ë“œëŠ” ê°œë°œì ìˆ˜ì¤€ì˜ IT ì—­ëŸ‰ì´ í•„ìš”í•˜ê¸° ë•Œë¬¸ì—, íŒŒì´ì¬ ì¤‘ê¸‰ ê¸°ìˆ ê³¼ ë°±ì—”ë“œ ê¸°ìˆ ì„ í•¨ê»˜ ë‹¤ë£¨ì–´ ê°œë°œì ì—­ëŸ‰ì„ ìŒ“ê³ , ë°±ì—”ë“œì˜ ë†’ì€ ì§„ì…ì¥ë²½ì„ ê°€ì¥ ì‰¬ìš´ ë°©ë²•ìœ¼ë¡œ ê·¹ë³µí•  ìˆ˜ ìˆë„ë¡ í–ˆìŠµë‹ˆë‹¤. 
ë‹¤ë§Œ, ë°±ì—”ë“œ ê¸°ìˆ ì„ ë°°ìš°ë ¤ë©´ ê°ì²´ì§€í–¥ í”„ë¡œê·¸ë˜ë°(OOP) ê¸°ë²•ì— ìµìˆ™í•´ì•¼ í•˜ì§€ë§Œ, OOPëŠ” ë‚´ìš©ì´ ë°©ëŒ€í•˜ê³  ë³¸ ê°•ì˜ ì£¼ì œì™€ ê±°ë¦¬ê°€ ìˆì–´ ê°•ì˜ ë‚´ì—ì„œ ë‹¤ë£¨ì§€ ì•ŠìŠµë‹ˆë‹¤. ë”°ë¼ì„œ OOPì— ìµìˆ™í•˜ì§€ ì•Šì€ ë¶„ë“¤ì€ ë³¸ ê°•ì˜ì™€ í•¨ê»˜ ë‹¤ìŒ ê°•ì˜ ìë£Œ ëª¨ìŒì—ì„œ <b>íŒŒì´ì¬ê³¼ ê°ì²´ì§€í–¥ í”„ë¡œê·¸ë˜ë° ì±•í„°</b> ì „ ë¬¸ì„œë¥¼ ì •ë…í•˜ì‹  í›„ì— ë³¸ ê°•ì˜ë¥¼ ë“¤ìœ¼ì‹œëŠ” ê²ƒì„ ì¶”ì²œë“œë¦½ë‹ˆë‹¤.
ë˜í•œ, Flaskë¥¼ ë°°ìš°ë©´ ë¹„ìŠ·í•œ ë¬¸ë²•ìœ¼ë¡œ FastAPIë„ ë°”ë¡œ ìµíˆê³  í™œìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. FastAPIëŠ” Flaskì™€ êµ¬ì¡° ë° ë¬¸ë²•ì´ ìœ ì‚¬í•˜ë©´ì„œë„ ì„±ëŠ¥ì´ ë” ë›°ì–´ë‚˜ë‹ˆ, ê°•ì˜ ìˆ˜ê°• í›„ FastAPIë„ í•¨ê»˜ ì‚´í´ë³´ì‹œë©´ ì¢‹ìŠµë‹ˆë‹¤. Flaskì™€ FastAPIë¥¼ ë¹„êµí•˜ë©° í•™ìŠµí•˜ë©´ ë‘ ê¸°ìˆ ì˜ ìœ ì‚¬ì„±ê³¼ ì°¨ì´ì ì„ ì´í•´í•˜ê³ , ìƒˆë¡œìš´ ê¸°ìˆ ì— ì ì‘í•˜ëŠ” ê°œë°œìì  ì ‘ê·¼ë²•ì„ ìµí ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### ê°™ì€ íŒŒì´ì¬ ê¸°ë°˜ì¸ë°, Djangoë¥¼ ì„ íƒí•˜ì§€ ì•Šì€ ì´ìœ 
- í•™ìŠµê³¡ì„ ì´ ë†’ê³ , ë‹¤ë¥¸ ê¸°ìˆ ê³¼ ì—°ê²°ë˜ì–´ ìˆì§€ ì•ŠìŒ
  - ì¦‰, ì´ ê¸°ìˆ ì˜ ì‚¬ìš©ë²•ì„ ìµíŒë‹¤ê³  í•´ì„œ, ë‹¤ë¥¸ ê¸°ìˆ ë“±ì„ ìµíˆëŠ”ë° ë„ì›€ì´ ì•ˆë¨ 
    - Django í•¨ìˆ˜ ì‚¬ìš©ë²•ë§Œ ìµíˆëŠ” ê²ƒì´ë¯€ë¡œ, ë‹¤ë¥¸ ì–¸ì–´/í”„ë ˆì„ì›Œí¬ì— ì ìš© ì•ˆë¨
  - <b>Django ë§Œ</b> ì˜í•˜ëŠ” ê°œë°œìë¥¼ ì±„ìš©í•˜ëŠ” ê±°ì˜ ì—†ë‹¤ê³  ë´ì•¼í•¨
    - ë¹„ì¦ˆë‹ˆìŠ¤ ë³€í™”ì— ë”°ë¼ ë‹¤ì–‘í•œ ê¸°ìˆ ì„ ë¹ ë¥´ê²Œ ìµíˆê³  í™œìš©í•  ìˆ˜ ìˆëŠ” ê°œë°œìë¥¼ ì›í•¨
    
> ê¸°ìˆ  íŠ¸ëœë“œê°€ ìˆ˜ì‹œë¡œ ë³€í™”í•˜ë¯€ë¡œ ìµœê·¼ ê¸€ë¡œë²Œë¡œ ì‚¬ìš©í•˜ëŠ” ë°±ì—”ë“œ ê¸°ìˆ  ê¸°ë°˜ ê³µì‹ ì´ë¯¸ì§€ë„ ê³µìœ ë“œë¦½ë‹ˆë‹¤

<img src="https://davelee-fun.github.io/fixeddata/framework2023.png">

## í”„ë¡ íŠ¸ì—”ë“œì™€ ë°±ì—”ë“œ ê¸°ë³¸ êµ¬ì„±
- ë°±ì—”ë“œëŠ” ë‹¤ì–‘í•˜ê²Œ êµ¬ì„± ê°€ëŠ¥í•˜ê³ , architecturing ì„ í•  ìˆ˜ ìˆìŒ
- ì£¼ë¡œ ë™ì‹œ ì ‘ì†ì ìˆ˜ ê·œëª¨ì— ë”°ë¼, ë³€ê²½ 
<img src="https://www.fun-coding.org/00_Images/fullstack_web.jpg">

## 2. ì›¹ì„œë¹„ìŠ¤ ê°œë°œê³¼ íŒŒì´ì¬ flask ë¥¼ í™œìš©í•œ ì›¹ì„œë¹„ìŠ¤ ê°œë°œ
* ë„“ê²Œ í° ê·¸ë¦¼ìœ¼ë¡œ ì´í•´í•˜ëŠ” ì›¹ ì„œë¹„ìŠ¤ ê°œë°œ ë™í–¥
	- 1ì„¸ëŒ€: USER ---- INTERNET --- WEB SERVER (Read static HTML)
	- 2ì„¸ëŒ€: USER ---- INTERNET --- WEB SERVER (Create request-based HTML from CGI + DB)  
	- 3ì„¸ëŒ€: USER ---- INTERNET --- WEB SERVER MVC íŒ¨í„´ ê¸°ë°˜ í”„ë ˆì„ì›Œí¬ í™œìš© 
		- MVC: Model - View - Control íŒ¨í„´ìœ¼ë¡œ êµ¬ì¡°í™”ëœ í”„ë ˆì„ì›Œí¬ë¥¼ ì‚¬ìš©, ë¹ ë¥´ê²Œ ë‹¤ì–‘í•œ ê¸°ëŠ¥ì„ ì œê³µ
	- 4ì„¸ëŒ€: OpenAPI, RestAPI ë¥¼ í˜¼í•©í•˜ì—¬ ë‹¤ì–‘í•œ ì„œë¹„ìŠ¤ ì œê³µ, ë‹¤ì–‘í•œ ì›¹ ì„œë¹„ìŠ¤ í™˜ê²½ ê°œë°œ



# 2_flask_basic

## 0. í’€ìŠ¤íƒ í”„ë ˆì„ì›Œí¬ì™€ ë§ˆì´í¬ë¡œ í”„ë ˆì„ì›Œí¬
> ì—¬ê¸°ì„œ ë§í•˜ëŠ” í’€ìŠ¤íƒì€ í”„ë ˆì„ì›Œí¬ ì•ˆì— ëª¨ë“  ê¸°ëŠ¥ì„ ê°€ì§€ê³  ìˆë‹¤ëŠ” ì˜ë¯¸

#### í’€ìŠ¤íƒ í”„ë ˆì„ì›Œí¬: ì›¹ ê°œë°œì— ê´€ë ¨ëœ ëª¨ë“  ê¸°ëŠ¥ì„ ì œê³µ 
- ëŒ€í‘œì  í”„ë ˆì„ì›Œí¬: JAVA Spring, Python Django, Ruby on Rails  
  - ìš”ì²­/ì‘ë‹µ ì¶”ìƒí™”, ì„¸ì…˜ ìƒíƒœ ê´€ë¦¬, ì‚¬ìš©ì ì¸ì¦/ê¶Œí•œ ê´€ë¦¬, ì›¹í˜ì´ì§€ í…œí”Œë¦¿, URL ë§¤í•‘, ë°ì´í„°ë² ì´ìŠ¤ ì ‘ê·¼, ë³´ì•ˆ, ìºì‹œ, ë°ì´í„° ì ‘ê·¼ ì¶”ìƒí™”ë“± ë‹¤ì–‘í•œ ê¸°ëŠ¥ì„ ì œê³µ
  - ê° í”„ë ˆì„ì›Œí¬ë¥¼ í™œìš©í•˜ëŠ”ë° í•™ìŠµê³¡ì„ ì´ í¼
  - í•˜ë‚˜ì˜ ì›¹ì„œë¹„ìŠ¤ë¥¼ êµ¬ì¶•í•˜ëŠ”ë°ì—ë„ ë‹¤ì–‘í•œ í”„ë ˆì„ì›Œí¬ ê¸°ëŠ¥ì„ ì´í•´í•˜ê³ , ë¶ˆí•„ìš”í•œ ë¶€ë¶„ê¹Œì§€ êµ¬ì¶•í•´ì•¼í•¨

#### ë§ˆì´í¬ë¡œ í”„ë ˆì„ì›Œí¬: ì›¹ ê°œë°œì— í•„ìš”í•œ ìµœì†Œ ê¸°ëŠ¥ë§Œ ì œê³µ, ë‚˜ë¨¸ì§€ ê¸°ëŠ¥ì€ ìì‹ ì´ ì›í•˜ëŠ” ë‹¤ë¥¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ë‚˜ í”„ë ˆì„ì›Œí¬ë¥¼ í™•ì¥í•´ ì‚¬ìš©
- ë¹ ë¥´ê²Œ ì›í•˜ëŠ” ê¸°ëŠ¥ì„ ê¸°ë°˜ìœ¼ë¡œ ì›¹ì„œë¹„ìŠ¤ êµ¬ì¶• ê°€ëŠ¥, ì´í›„ í•„ìš”í•œ ê¸°ëŠ¥ë§Œ í™•ì¥ ê°€ëŠ¥ 

#### Flask (í”Œë¼ìŠ¤í¬) íŠ¹ì§•
* ë§ˆì´í¬ë¡œ í”„ë ˆì„ì›Œí¬ ê¸°ë°˜
* ì›¹ ê°œë°œ ìµœì†Œ ê¸°ëŠ¥ ì œê³µ, RESTful ìš”ì²­ ì²˜ë¦¬, ìœ ë‹ˆì½”ë“œ ê¸°ë°˜, í•„ìš”í•œ ë¶€ë¶„ì€ ì¶”ê°€í•´ì„œ í™•ì¥ ê°€ëŠ¥ 
* ì°¸ê³ : http://flask.pocoo.org/

## 1. flask ê¸°ë³¸ ì‚¬ìš©ë²•

### 1.1. Flask ëª¨ë“ˆ ì„í¬íŠ¸ (ë³´í†µ ë‹¤ìŒê³¼ ê°™ì´ ì„í¬íŠ¸)
* pip install flask

```python
!pip install flask
```

```python
from flask import Flask
```

### 1.2. Flask ê°ì²´ë¥¼ appì— í• ë‹¹

```python
app = Flask(__name__)
```

```python
__name__
```
    '__main__'

#### \_\_name\_\_ ì´ë€?
-  \_\_name\_\_ ì´ë¼ëŠ” ë³€ìˆ˜ëŠ” ëª¨ë“ˆì˜ ì´ë¦„ì´ ì €ì¥ë¨
- ì‹¤í–‰í•˜ëŠ” ì½”ë“œì—ì„œëŠ” \_\_main\_\_ ê°’ì´ ë“¤ì–´ê°

#### test.py

```python
print ('test.py __name__:', __name__)
```

#### start.py

```python
import test

print ('start.py __name__:', __name__)
```

> start.py ë¥¼ ì‹¤í–‰í•˜ë©´

```bash
test.py __name__: test
start.py __name__: __main__
```

#### ì‹œì‘ì (entry point)
- C, JAVA ì™€ ê°™ì€ ë³´í†µì˜ ì–¸ì–´ëŠ” ì½”ë“œë¥¼ ì‹œì‘í•˜ëŠ” ì‹œì‘ì (entry point)ë¥¼ ê°€ì§€ê³  ìˆìŒ
- ì˜ˆ:
```c
int main(int argc, char *argv[])      // ì˜µì…˜ì˜ ê°œìˆ˜ì™€ ì˜µì…˜ ë¬¸ìì—´ì„ ë°°ì—´ë¡œ ë°›ìŒ
{
    return 0;
}
```

#### íŒŒì´ì¬ê³¼ ì‹œì‘ì (entry point)
- íŒŒì´ì¬ì€ ìŠ¤í¬ë¦½íŠ¸ ì–¸ì–´
- ìŠ¤í¬ë¦½íŠ¸ ì–¸ì–´ëŠ” ì „í†µì ìœ¼ë¡œ ì‹œì‘ì ì—†ì´ ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œë¥¼ ë°”ë¡œ ì‹¤í–‰í•¨

#### ëª¨ë“ˆì´ ì•„ë‹ˆë¼, í•´ë‹¹ ì½”ë“œ ì§ì ‘ ì‹¤í–‰ì‹œë§Œ ì‹¤í–‰ë˜ëŠ” ì½”ë“œ

```python
def add_one(data):
    return data + 1
 
def add_two(data):
    return data + 2
 
if __name__ == '__main__': # ëª¨ë“ˆì´ ì•„ë‹ˆë¼, í•´ë‹¹ ì½”ë“œ ì§ì ‘ ì‹¤í–‰ì‹œë§Œ ì‹¤í–‰
    print(add_one(10))
    print(add_two(10))
```
    11
    12

#### flask ê°ì²´ ìƒì„±

- Flask(`__name__`) ìœ¼ë¡œ ì„¤ì •í•˜ì—¬, í˜„ì¬ ìœ„ì¹˜ë¥¼ flask ê°ì²´ì— ì•Œë ¤ì¤˜ì•¼ í•¨
  - ì´ë¦„ì„ ë³€ê²½í•´ë„ ì •ìƒ ì‹¤í–‰ë˜ì§€ë§Œ, ì¼ë¶€ í™•ì¥ ê¸°ëŠ¥ ì‚¬ìš©ì‹œì—ëŠ” í•´ë‹¹ ì´ë¦„ì„ ì •í™•íˆ ì•Œë ¤ì£¼ì§€ ì•Šì„ ê²½ìš°, ì •ìƒ ë™ì‘ë˜ì§€ ì•ŠìŒ

```python
from flask import Flask
app = Flask(__name__)
```

```python
app
```
    <Flask '__main__'>

### 1.3. ë¼ìš°íŒ… ê²½ë¡œë¥¼ ì„¤ì •

#### URL ì´ë€
- Uniform Resource Locator
- ì¸í„°ë„· ìƒì˜ ìì› ìœ„ì¹˜ í‘œê¸°ë¥¼ ìœ„í•œ ê·œì•½
- WWW ì£¼ìš” ìš”ì†Œ ì¤‘ í•˜ë‚˜: HTML, URL, HTTP


#### ì°¸ê³ : URL vs URI
- URI(Uniform Resource Identifier): í†µí•© ìì› ì‹ë³„ì
- URIì˜ í•˜ìœ„ ê°œë…ì´ URL

  - https://www.fun-coding.org ì£¼ì†Œ
    - https://www.fun-coding.org ë¼ëŠ” ì„œë²„ë¥¼ ë‚˜íƒ€ë‚´ëŠ” URLì´ë©´ì„œ URI
  - https://www.fun-coding.org/input?id=dave&pw=1111 ì£¼ì†Œ
    - https://www.fun-coding.org/input ì€ URL
      - https://www.fun-coding.org/input?id=dave&pw=1111 ì€ URI 
      - ë‚´ê°€ ì›í•˜ëŠ” ì •ë³´ë¥¼ ì–»ê¸° ìœ„í•´ì„œëŠ” **?id=dave&pw=1111** ë¼ëŠ” ì‹ë³„ìê°€ í•„ìš”í•˜ê¸° ë•Œë¬¸

> ë‘ ìš©ì–´ëŠ” í˜¼ìš©í•˜ê³  ìˆìœ¼ë¯€ë¡œ, ì°¸ê³ ë¡œë§Œ ì´í•´

#### ë¼ìš°íŒ…(route)ì´ë€?
- ì ì ˆí•œ ëª©ì ì§€ë¥¼ ì°¾ì•„ì£¼ëŠ” ê¸°ëŠ¥ 
- URL ì„ í•´ë‹¹ URL ì— ë§ëŠ” ê¸°ëŠ¥ê³¼ ì—°ê²°í•´ ì¤Œ
  - ì˜ˆ:
    - http://www.fun-coding.org/hello
    - http://www.fun-coding.org ì„œë²„ì—ì„œ hello ì´ë¼ëŠ” ëª©ì ì§€ì— ë§ëŠ” í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•´ì¤Œ 


```python
@app.route("/hello")
def hello():                           
    return "<h1>Hello World!</h1>"
```

- @ ìœ¼ë¡œ ì‹œì‘í•˜ëŠ” ì½”ë“œëŠ” ë°ì½”ë ˆì´í„°ë¼ê³  í•¨ (ë³„ë„ ì±•í„°ë¡œ ì„¤ëª…)

### 1.4. ë©”ì¸ ëª¨ë“ˆë¡œ ì‹¤í–‰ë  ë•Œ flask ì›¹ ì„œë²„ êµ¬ë™ 
- ì„œë²„ë¡œ êµ¬ë™í•œ IP ì™€ í¬íŠ¸ë¥¼ ì˜µì…˜ìœ¼ë¡œ ë„£ì–´ì¤„ ìˆ˜ ìˆìŒ
- app.run() í•¨ìˆ˜ë¡œ ì„œë²„ êµ¬ë™ ê°€ëŠ¥
  - host, port, debug ë¥¼ ì£¼ë¡œ ì‚¬ìš©í•¨
    - host: ì›¹ì£¼ì†Œ
    - port: í¬íŠ¸
    - debug: True or False

```python
run(host=None, port=None, debug=True)
```

#### ì°¸ê³ : Web Server ì™€ WAS í”„ë ˆì„ì›Œí¬

* ì›¹ì„œë²„ëŠ” ì •ì ì¸ HTML í˜ì´ì§€ë¥¼ ë°˜í™˜í•œë‹¤.
  - ìš”ì²­ì— ë”°ë¥¸ ì •ì ì¸ ë°ì´í„°ë¥¼ ë°˜í™˜í•œë‹¤.
* ì›¹ì„œë²„ê°€ ë™ì ìœ¼ë¡œ ë°ì´í„°ë¥¼ ë°˜í™˜í•˜ë„ë¡ í•˜ê¸° ìœ„í•´ì„œëŠ”, WAS í”„ë ˆì„ì›Œí¬ê°€ í•„ìš”í•˜ë‹¤.
  - ì£¼ìš” WAS í”„ë ˆì„ì›Œí¬ë¡œëŠ” flask, django, rails, node.js ë“±ì´ ìˆë‹¤.
  
> ìƒìš©í™”ë¥¼ ìœ„í•´ì„œëŠ” ë³„ë„ ì „ë¬¸ ì›¹ì„œë²„ë¥¼ ì‚¬ìš©í•´ì•¼ í•˜ì§€ë§Œ, <br>
> flask ëŠ” ê¸°ë³¸ Web Server ë„ ê°„ë‹¨í•œ ëª…ë ¹ìœ¼ë¡œ ì œê³µí•¨ 

<img src="https://www.fun-coding.org/style/images/ads/fullstack_web.jpg">

#### ê¸°ë³¸ ê°œë°œ í”„ë¡œì„¸ìŠ¤
- ìì‹ ì˜ PC ì—ì„œ ì›¹ì„œë¹„ìŠ¤ êµ¬í˜„
  - localhost, 127.0.0.1, ë˜ëŠ” 0.0.0.0 ìœ¼ë¡œ host ì„¤ì •
  - app.run() í•¨ìˆ˜ë¡œ ìì²´ ì›¹ì„œë²„ êµ¬í˜„ ê°€ëŠ¥

```python
host_addr = "0.0.0.0"
port_num = "8080"
```

```python
if __name__ == "__main__":              
    app.run(host=host_addr, port=port_num)
```

     * Serving Flask app '__main__'
     * Debug mode: off
    WARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.
     * Running on all addresses (0.0.0.0)
     * Running on http://127.0.0.1:8080
     * Running on http://192.168.0.15:8080
    Press CTRL+C to quit
    

### 1.5. ì „ì²´ ê¸°ë³¸ ì½”ë“œ


```python
from flask import Flask

app = Flask(__name__)
@app.route("/hello")
def test():                           
    return "Hello Flask!"

if __name__ == "__main__":              
    app.run(host="127.0.0.1", port="8080")
```
     * Serving Flask app '__main__'
     * Debug mode: off
    WARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.
     * Running on http://127.0.0.1:8080
    Press CTRL+C to quit
    127.0.0.1 - - [24/Jul/2025 07:26:22] "GET /hello HTTP/1.1" 200 -
    
* flask ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•œ ì½”ë“œëŠ” ë³´í†µ íŒŒì¼ì´ë¦„.py ë¡œ ì‘ì„±í•œ í›„
  - python íŒŒì¼ì´ë¦„.py
* ìœ„ì™€ ê°™ì´ ì„œë²„ì—ì„œ ì‹¤í–‰í•˜ëŠ” ê²ƒì´ ì¼ë°˜ì 
* ë…¸íŠ¸ë¶ì—ì„œëŠ” ì‹¤í–‰ í›„, í…ŒìŠ¤íŠ¸ ëë‚˜ë©´, Terminateë¥¼ ëˆŒëŸ¬ì¤˜ì•¼ í•¨



# 3_python_decorator

## 2. íŒŒì´ì¬ ì¤‘ê¸‰: ë°ì½”ë ˆì´í„°ì˜ ì´í•´
- ë°ì½”ë ˆì´í„°ëŠ” ë‹¨ì§€ íŒŒì´ì¬ flask ë¿ë§Œ ì•„ë‹ˆë¼, ë‹¤ì–‘í•œ ì–¸ì–´ ì „ë°˜ì— ê±¸ì³ì„œ ë§ì´ ì‚¬ìš©ë¨
- íŒŒì´ì¬ flask ì—ì„œ ë‚˜ì˜¤ëŠ” ë°ì½”ë ˆì´í„°ë¥¼ ì“°ê¸° ì „ì—, ì–¸ì–´ ì „ë°˜ì— ê±¸ì¹œ ë°ì½”ë ˆì´í„° ê´€ë ¨ ê¸°ìˆ ì„ ì´í•´í•˜ê¸°ë¡œ í•¨
- í•œë²ˆ ì´í•´í•´ë†“ìœ¼ë©´, ë‹¤ì–‘í•œ ì–¸ì–´ ì „ë°˜ì—ì„œ ë°ì½”ë ˆì´í„°ë¥¼ ë§Œë‚¬ì„ ë•Œë§ˆë‹¤ ê¾¸ì¤€íˆ ë„ì›€ì´ ë¨

### 2.1. ì¤‘ì²© í•¨ìˆ˜ (Nested function)
* í•¨ìˆ˜ ë‚´ë¶€ì— ì •ì˜ëœ ë˜ ë‹¤ë¥¸ í•¨ìˆ˜
* ì¤‘ì²©í•¨ìˆ˜ëŠ” í•´ë‹¹ í•¨ìˆ˜ê°€ ì •ì˜ëœ í•¨ìˆ˜ ë‚´ì—ì„œ í˜¸ì¶œ ë° ë°˜í™˜ ê°€ëŠ¥
* í•¨ìˆ˜ ì•ˆì— ì„ ì–¸ëœ ë³€ìˆ˜ëŠ” í•¨ìˆ˜ ì•ˆì—ì„œë§Œ ì‚¬ìš© ê°€ëŠ¥í•œ ì›ë¦¬ì™€ ë™ì¼ (ë¡œì»¬ ë³€ìˆ˜)

```python
def outer_func():
    print('call outer_func function')
    
    # ì¤‘ì²© í•¨ìˆ˜ì˜ ì •ì˜
    def inner_func():
        return 'call inner_func function'
    
    # ì¤‘ì²© í•¨ìˆ˜ í˜¸ì¶œ 
    print(inner_func())
```

```python
outer_func()
```
    call outer_func function
    call inner_func function

<div class="alert alert-block" style="border: 1px solid #FFB300;background-color:#F9FBE7;">
<font size="3em" style="font-weight:bold;color:#3f8dbf;">ìƒê°í•´ë³´ê¸°</font><br>
outer_func() í•¨ìˆ˜ì˜ ì¶œë ¥ì„ ë³´ë©´ì„œ ì™œ ì´ë ‡ê²Œ ì¶œë ¥ì´ ë˜ì—ˆëŠ”ì§€ ìƒê°í•´ë³´ê¸°~
</div>


```python
# ì¤‘ì²©í•¨ìˆ˜ëŠ” í•¨ìˆ˜ ë°–ì—ì„œëŠ” í˜¸ì¶œ ë¶ˆê°€ (outer_func í•¨ìˆ˜ ì•ˆì—ì„œ ì„ ì–¸ë˜ì—ˆìœ¼ë‹ˆ, outer_func í•¨ìˆ˜ ì•ˆì—ì„œë§Œ í˜¸ì¶œ ê°€ëŠ¥)
inner_func()
```
    ---------------------------------------------------------------------------
    NameError                                 Traceback (most recent call last)
    Cell In[7], line 2
	  1 # ì¤‘ì²©í•¨ìˆ˜ëŠ” í•¨ìˆ˜ ë°–ì—ì„œëŠ” í˜¸ì¶œ ë¶ˆê°€ (outer_func í•¨ìˆ˜ ì•ˆì—ì„œ ì„ ì–¸ë˜ì—ˆìœ¼ë‹ˆ, outer_func í•¨ìˆ˜ ì•ˆì—ì„œë§Œ í˜¸ì¶œ ê°€ëŠ¥)
    ----> 2 inner_func()
    NameError: name 'inner_func' is not defined


#### ê·¸ëŸ°ë° ì¤‘ì²©í•¨ìˆ˜ë¥¼ í•¨ìˆ˜ ë°–ì—ì„œë„ í˜¸ì¶œí•  ìˆ˜ ìˆëŠ” ë°©ë²•ì´ ìˆë‹¤. ì´ ë°©ë²•ì„ ì´í•´í•˜ê¸° ìœ„í•´ First-class function, closure ì— ëŒ€í•´ ë‹¤ìŒ ì¥ì—ì„œ ì•Œì•„ë³´ì.


```python
def outer_func(num):
    # ì¤‘ì²© í•¨ìˆ˜ì—ì„œ ì™¸ë¶€ í•¨ìˆ˜ì˜ ë³€ìˆ˜ì— ì ‘ê·¼ ê°€ëŠ¥
    def inner_func():
        print(num)
        return 'complex'
    
    return inner_func

fn = outer_func(10)    # <--- First-class function
print(fn())            # <--- Closure í˜¸ì¶œ 
```

### 2.2. First-class function 

#### First-class í•¨ìˆ˜ 
- ë‹¤ìŒê³¼ ê°™ì´ ë‹¤ë£° ìˆ˜ ìˆëŠ” í•¨ìˆ˜ë¥¼ First-class í•¨ìˆ˜ë¼ê³  ë¶€ë¦„
  - í•¨ìˆ˜ ìì²´ë¥¼ ë³€ìˆ˜ì— ì €ì¥ ê°€ëŠ¥
  - í•¨ìˆ˜ì˜ ì¸ìì— ë‹¤ë¥¸ í•¨ìˆ˜ë¥¼ ì¸ìˆ˜ë¡œ ì „ë‹¬ ê°€ëŠ¥
  - í•¨ìˆ˜ì˜ ë°˜í™˜ ê°’(return ê°’)ìœ¼ë¡œ í•¨ìˆ˜ë¥¼ ì „ë‹¬ ê°€ëŠ¥

#### íŒŒì´ì¬ê³¼ First-class í•¨ìˆ˜
- ì‚¬ì‹¤ íŒŒì´ì¬ì—ì„œëŠ” ëª¨ë“  ê²ƒì´ ê°ì²´!
- íŒŒì´ì¬ í•¨ìˆ˜ë„ ê°ì²´ë¡œ ë˜ì–´ ìˆì–´ì„œ, ê¸°ë³¸ í•¨ìˆ˜ ê¸°ëŠ¥ ì´ì™¸ ê°ì²´ì™€ ê°™ì€ í™œìš©ì´ ê°€ëŠ¥ 
  - ì¦‰, íŒŒì´ì¬ì˜ í•¨ìˆ˜ë“¤ì€ First-class í•¨ìˆ˜ë¡œ ì‚¬ìš© ê°€ëŠ¥

> <font color='#BF360C'>ì§€ê¸ˆê¹Œì§€ ë°°ìš´ ì–¸ì–´ì˜ ë§¥ë½ê³¼ëŠ” ë¿Œë¦¬ê°€ ë‹¤ë¥¸ ì‚¬ê³  - í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë°ì—ì„œë¶€í„° ê³ ì•ˆëœ ê¸°ë²•</font>

#### ì°¸ê³ : ì–¸ì–´ë³„ First-class í•¨ìˆ˜ ì§€ì› ì—¬ë¶€
- python, Go, javascript, Kotlin ì€ First-class í•¨ìˆ˜ ì§€ì›
- C ì–¸ì–´ë“±ì€ First-class í•¨ìˆ˜ ë¯¸ì§€ì›

#### ë‹¤ë¥¸ ë³€ìˆ˜ì— í•¨ìˆ˜ í• ë‹¹ ê°€ëŠ¥

```python
def calc_square(digit):
    return digit * digit
```

```python
calc_square(2)
```

```python
# 1. func1 ì´ë¼ëŠ” ë³€ìˆ˜ì— í•¨ìˆ˜ë¥¼ í• ë‹¹ ê°€ëŠ¥
func1 = calc_square
```

```python
print (func1)
```

```python
func1(4)
```

#### í•¨ìˆ˜ê°€ í• ë‹¹ëœ ë³€ìˆ˜ëŠ” ë™ì¼í•œ í•¨ìˆ˜ì²˜ëŸ¼ í™œìš© ê°€ëŠ¥ 

```python
# 2. func1 ì´ë¼ëŠ” ë³€ìˆ˜ëŠ” calc_square í•¨ìˆ˜ë¥¼ ê°€ë¦¬í‚¤ê³ , calc_square ì™€ ë§ˆì°¬ê°€ì§€ë¡œ ì¸ìë„ ë„£ì–´ì„œ ê²°ê³¼ë„ ì–»ì„ ìˆ˜ ìˆìŒ (ì™„ì „ calc_squareì™€ ë™ì¼)
print (func1)
func1(2)
```

#### í•¨ìˆ˜ë¥¼ ë‹¤ë¥¸ í•¨ìˆ˜ì— ì¸ìë¡œ ë„£ì„ ìˆ˜ë„ ìˆìŒ

```python
def calc_square(digit):
    return digit * digit

def calc_plus(digit):
    return digit + digit

def calc_quad(digit):
    return digit * digit * digit * digit
```

```python
def list_square(function, digit_list):
    result = list()
    for digit in digit_list:
        result.append(function(digit)) 
    print (result)
```

```python
num_list = [1, 2, 3, 4, 5]
```

```python
list_square(calc_square, num_list)
list_square(calc_plus, num_list)
list_square(calc_quad, num_list)
```

#### í•¨ìˆ˜ì˜ ê²°ê³¼ê°’ìœ¼ë¡œ í•¨ìˆ˜ë¥¼ ë¦¬í„´í•  ìˆ˜ë„ ìˆìŒ

```python
def logger(msg):
    message = msg
    def msg_creator():    # <--- í•¨ìˆ˜ ì•ˆì— í•¨ìˆ˜ë¥¼ ë§Œë“¤ ìˆ˜ë„ ìˆìŒ
        print ('[HIGH LEVEL]: ', msg)
    return msg_creator
```

```python
log1 = logger('Dave Log-in')
```

```python
print(log1)
```

```python
log1()
```

<div class="alert alert-block" style="border: 1px solid #FFB300;background-color:#F9FBE7;">
<font size="3em" style="font-weight:bold;color:#3f8dbf;">ìƒê°í•´ë³´ê¸°</font><br>
1. í•¨ìˆ˜ ì•ˆì— ì„ ì–¸ëœ ë³€ìˆ˜ë¥¼ ì¹­í•˜ëŠ” ìš©ì–´ëŠ”?<br>
2. í•¨ìˆ˜ ì•ˆì— ì„ ì–¸ëœ ë³€ìˆ˜ ê°’ì´ ìœ ì§€ë˜ëŠ” ê¸°ê°„ì€?<br>
3. ìœ„ ì½”ë“œì—ì„œ log1() ê²°ê³¼ê°’ì—ì„œ íŠ¹ì´í•œ ì ì€?
</div>

> logger í•¨ìˆ˜ë¥¼ ì‚­ì œí•´ë„ log1() í•¨ìˆ˜ëŠ” logger í•¨ìˆ˜ ì•ˆì— ìˆëŠ” msg_creator í•¨ìˆ˜ì™€ msg ê°’ì„ ìœ ì§€

```python
del logger
```

```python
log1()
```

#### First-class í•¨ìˆ˜ í™œìš©

```python
def html_creator(tag):
    def text_wrapper(msg):
        print ('<{0}>{1}</{0}>'.format(tag, msg))
    return text_wrapper
```

```python
h1_html_creator = html_creator('h1') #1
print (h1_html_creator)
```
    <function html_creator.<locals>.text_wrapper at 0x7fc9f6c56710>
    

```python
h1_html_creator('H1 íƒœê·¸ëŠ” íƒ€ì´í‹€ì„ í‘œì‹œí•˜ëŠ” íƒœê·¸ì…ë‹ˆë‹¤.')
```
    <h1>H1 íƒœê·¸ëŠ” íƒ€ì´í‹€ì„ í‘œì‹œí•˜ëŠ” íƒœê·¸ì…ë‹ˆë‹¤.</h1>
    

```python
p_html_creator = html_creator('p')
p_html_creator('P íƒœê·¸ëŠ” ë¬¸ë‹¨ì„ í‘œì‹œí•˜ëŠ” íƒœê·¸ì…ë‹ˆë‹¤.')
```

<div class="alert alert-block" style="border: 1px solid #FFB300;background-color:#F9FBE7;">
<font size="3em" style="font-weight:bold;color:#3f8dbf;">ìƒê°í•´ë³´ê¸°</font><br>
ìœ„ì™€ ê°™ì´ ì¶œë ¥ë˜ëŠ” ì´ìœ ë¥¼ ìƒê°í•´ë´…ë‹ˆë‹¤.
</div>

<div class="alert alert-block" style="border: 1px solid #FFB300;background-color:#F9FBE7;">
<font size="3em" style="font-weight:bold;color:#3f8dbf;">ì—°ìŠµ</font><br>
ìŠ¤íŠ¸ë§ìœ¼ë¡œ ëœ ë¬¸ìì—´ì´ ì£¼ì–´ì§€ë©´, ì •í•´ì§„ ëª©ì°¨ ê¸°í˜¸ë¡œ ë‚˜ì—´í•´ì£¼ëŠ” First-class í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ë³´ì„¸ìš”<br>
<pre>
ì˜ˆ: 
func1 = index_creator('-')
func1(list_data)

ì¶œë ¥:
* ....
* ....
* ....
</pre>
</div>


```python
def list_creator(tag):
    def text_wrapper(list_data):
        for item in list_data:
            print ('{0} {1}'.format(tag, item))
    return text_wrapper

data_list_minus = list_creator('-')
data_list_minus(['ì•ˆë…•', 'í•˜ì„¸ìš”'])

data_list_mul = list_creator('*')
data_list_mul(['ì•ˆë…•', 'í•˜ì„¸ìš”'])

data_list_x = list_creator('X')
data_list_x(['ì•ˆë…•', 'í•˜ì„¸ìš”'])

```

    - ì•ˆë…•
    - í•˜ì„¸ìš”
    * ì•ˆë…•
    * í•˜ì„¸ìš”
    X ì•ˆë…•
    X í•˜ì„¸ìš”
    

<div class="alert alert-block" style="border: 1px solid #FFB300;background-color:#F9FBE7;">
<font size="3em" style="font-weight:bold;color:#3f8dbf;">ë„ì „ ê³¼ì œ (í¬ë¡¤ë§ ê¸°ìˆ ì„ ìµíˆì‹  ë¶„ë§Œ í•´ë‹¹) </font><br>
ìœ„ì—ì„œ ë§Œë“  First-class í•¨ìˆ˜ë¡œ ë‹¤ìŒ ì‚¬ì´íŠ¸ì˜ ë‚˜ë§Œì˜ ì—£ì§€ìˆëŠ” ë¸”ë¡œê·¸ ì‚¬ì´íŠ¸ ë§Œë“¤ê¸° (ì·¨ë¯¸ë¡œ ìµíˆëŠ” IT)' ì½”ìŠ¤ ë¦¬ìŠ¤íŠ¸ë¥¼ ì¶œë ¥í•´ë³´ì„¸ìš”
    
https://davelee-fun.github.io/blog/crawl_html_css.html
    
</div>


```python
import requests
from bs4 import BeautifulSoup

res = requests.get('https://davelee-fun.github.io/blog/crawl_html_css.html')
soup = BeautifulSoup(res.content, 'html.parser')
# a íƒœê·¸ì´ë©´ì„œ href ì†ì„± ê°’ì´ íŠ¹ì •í•œ ê°’ì„ ê°–ëŠ” ê²½ìš° íƒìƒ‰
link_titles = soup.select("ul#hobby_course_list > li")
data = list()
for link_title in link_titles:
    data.append(link_title.get_text())

data_list_minus(data)
```

    - (ì™•ì´ˆë³´) - í´ë˜ìŠ¤ ì†Œê°œ
    - (ì™•ì´ˆë³´) - ë¸”ë¡œê·¸ ê°œë°œ í•„ìš”í•œ ì¤€ë¹„ë¬¼ ì¤€ë¹„í•˜ê¸°
    - (ì™•ì´ˆë³´) - Github pages ì„¤ì •í•´ì„œ ë¸”ë¡œê·¸ ì²« í˜ì´ì§€ ë§Œë“¤ì–´ë³´ê¸°
    - (ì™•ì´ˆë³´) - ì´ˆê°„ë‹¨ í˜ì´ì§€ ë§Œë“¤ì–´ë³´ê¸°
    - (ì™•ì´ˆë³´) - ì´ì˜ê²Œ í…Œë§ˆ ì ìš©í•´ë³´ê¸°
    - (ì™•ì´ˆë³´) - ë§ˆí¬ë‹¤ìš´ ê¸°ì´ˆ ì´í•´í•˜ê³ , ì‹¤ì œ ë‚˜ë§Œì˜ ë¸”ë¡œê·¸ í˜ì´ì§€ ë§Œë“¤ê¸°
    - (ì™•ì´ˆë³´) - ë‹¤ì–‘í•œ ë§ˆí¬ë‹¤ìš´ ê¸°ë²• ìµí˜€ë³´ë©°, ë‚˜ë§Œì˜ ë¸”ë¡œê·¸ í˜ì´ì§€ ê¾¸ë©°ë³´ê¸°
    

### 2.3. Closure function
* í•¨ìˆ˜ì™€ í•´ë‹¹ í•¨ìˆ˜ê°€ ê°€ì§€ê³  ìˆëŠ” **ë°ì´í„°ë¥¼ í•¨ê»˜ ë³µì‚¬, ì €ì¥í•´ì„œ ë³„ë„ í•¨ìˆ˜**ë¡œ í™œìš©í•˜ëŠ” ê¸°ë²•ìœ¼ë¡œ First-class í•¨ìˆ˜ì™€ ë™ì¼
* ì™¸ë¶€ í•¨ìˆ˜ê°€ ì†Œë©¸ë˜ë”ë¼ë„, ì™¸ë¶€ í•¨ìˆ˜ ì•ˆì— ìˆëŠ” ë¡œì»¬ ë³€ìˆ˜ ê°’ê³¼ ì¤‘ì²©í•¨ìˆ˜(ë‚´ë¶€í•¨ìˆ˜)ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ê¸°ë²•
* <font color='#BF360C'>ì§€ê¸ˆê¹Œì§€ ë°°ìš´ ì–¸ì–´ì˜ ë§¥ë½ê³¼ëŠ” ë¿Œë¦¬ê°€ ë‹¤ë¥¸ ì‚¬ê³  - í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë°ì—ì„œë¶€í„° ê³ ì•ˆëœ ê¸°ë²•</font>
* <font color='#BF360C'>ê·¸ë˜ì„œ ì²˜ìŒì— ì ‘í•˜ë©´ ë§¤ìš° ì´í•´í•˜ê¸° ì–´ë ¤ì›€, ì˜ˆì œ ì½”ë“œë¡œ ë³´ë©´ì„œ ì´í•´í•˜ì</font>



```python
def outer_func(num):
    # ì¤‘ì²© í•¨ìˆ˜ì—ì„œ ì™¸ë¶€ í•¨ìˆ˜ì˜ ë³€ìˆ˜ì— ì ‘ê·¼ ê°€ëŠ¥
    def inner_func():
        print(num)
        return 'ì•ˆë…•'
    
    return inner_func                 # ì¤‘ì²© í•¨ìˆ˜ ì´ë¦„ì„ ë¦¬í„´í•©ë‹ˆë‹¤.
```


```python
closure_func = outer_func(10)    # <--- First-class function
closure_func()            # <--- Closure í˜¸ì¶œ 
```

#### ì˜ˆì œ ì½”ë“œë¡œ ì´í•´í•˜ëŠ” closure
* ìœ„ì˜ ì˜ˆì œì—ì„œ closure_funcì´ ë°”ë¡œ closure ì„
* closure_func = outer_func(10) ì—ì„œ outer_func í•¨ìˆ˜ëŠ” í˜¸ì¶œ ì¢…ë£Œ
* closure_func() ì€ ê²°êµ­ inner_func í•¨ìˆ˜ë¥¼ í˜¸ì¶œ
* outer_func(10) í˜¸ì¶œ ì¢…ë£Œì‹œ num ê°’ì€ ì—†ì–´ì¡Œìœ¼ë‚˜, closure_func()ì—ì„œ inner_funcì´ í˜¸ì¶œë˜ë©´ì„œ ì´ì „ì˜ numê°’(10)ì„ ì‚¬ìš©í•¨


```python
del outer_func
```

#### ì‹¬ì§€ì–´ outer_func í•¨ìˆ˜ë¥¼ ì•„ì˜ˆ ì‚­ì œí•´ë²„ë ¤ë„ fn(), ì¦‰ inner_func() ì™€ numê°’(10)ì€ ì‚´ì•„ìˆìŒ


```python
closure_func()
```

### ì–¸ì œ closureë¥¼ ì‚¬ìš©í• ê¹Œ?
* closureëŠ” ê°ì²´ì™€ ìœ ì‚¬
* ì¼ë°˜ì ìœ¼ë¡œ ì œê³µí•´ì•¼í•  ê¸°ëŠ¥(method)ì´ ì ì€ ê²½ìš°, closureë¥¼ ì‚¬ìš©í•˜ê¸°ë„ í•¨
* ì œê³µí•´ì•¼í•  ê¸°ëŠ¥(method)ê°€ ë§ì€ ê²½ìš°ë“±ì€ classë¥¼ ì‚¬ìš©í•˜ì—¬ êµ¬í˜„


```python
def calc_square(digit):
    return digit * digit

def calc_power_3(digit):
    return digit * digit * digit

def calc_quad(digit):
    return digit * digit * digit * digit
```


```python
print (calc_square(2))
print (calc_power_3(2))
print (calc_quad(2))
```


```python
def calc_power(n):
    def power(digit):
        return digit ** n
    return power
```


```python
power2 = calc_power(2)
power3 = calc_power(3)
power4 = calc_power(4)
```


```python
print (power2(2))
print (power3(2))
print (power4(2))
```

<div class="alert alert-block" style="border: 1px solid #FFB300;background-color:#F9FBE7;">
<font size="3em" style="font-weight:bold;color:#3f8dbf;">ì—°ìŠµ</font><br>
1ì—ì„œ 5ê¹Œì§€ 1ìŠ¹ë¶€í„° 5ìŠ¹ê¹Œì§€ ì¶œë ¥í•˜ê¸° (ìœ„ calc_power() í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•´ì„œ list_data ë¦¬ìŠ¤íŠ¸ ë³€ìˆ˜ì— 1ìŠ¹ë¶€í„° 5ìŠ¹ê¹Œì§€ ê³„ì‚° í´ë¡œì ¸ í•¨ìˆ˜ë¥¼ ë„£ì–´ì„œ ì‚¬ìš©)
</div>


```python
list_data = list()
for num in range(1, 6):
    list_data.append(calc_power(num))

for func in list_data:
    print(func(2))
```

### 2.4. ë°ì½”ë ˆì´í„° (Decorator)
 - í•¨ìˆ˜ ì•ë’¤ì— ê¸°ëŠ¥ì„ ì¶”ê°€í•´ì„œ ì†ì‰½ê²Œ í•¨ìˆ˜ë¥¼ í™œìš©í•  ìˆ˜ ìˆëŠ” ê¸°ë²•
 - Closure functionì„ í™œìš©
 - https://www.python.org/dev/peps/pep-0318/


#### í˜¹ì‹œ ë‹¤ìŒê³¼ ê°™ì´ @ ê°€ ì‚¬ìš©ëœ íŒŒì´ì¬ ì½”ë“œë¥¼ ë³¸ ì ì´ ìˆìœ¼ì‹ ì§€?
<pre>
@decorator_func
def function():
    print ("what is decorator?")
</pre>
#### ìœ„ ì½”ë“œì—ì„œ @decorator_func ë¶€ë¶„ì´ ë°ì½”ë ˆì´í„°ì„ 


```python
# ë‹¤ìŒ í•¨ìˆ˜ë¥¼ í•¨ ë³´ì
def logger_login():
     print ("Dave login")

logger_login()
```


```python
# ì‹œê°„ì„ ì•ë’¤ë¡œ ì¶”ê°€í•˜ê³  ì‹¶ë‹¤.
# ì´ë ‡ê²Œ ë„£ìœ¼ë©´ ë©ë‹ˆë‹¤.
import datetime

def logger_login():
    print (datetime.datetime.now())
    print ("Dave login")
    print (datetime.datetime.now())

logger_login()
```


```python
# ì•„ì°¨ ë‹¤ë¥¸ ë¹„ìŠ·í•œ í•¨ìˆ˜ë„ ë‹¤ ë„£ìœ¼ë ¤ë©´.... ì´ê±¸ ì¢€ ê¹”ë”í•˜ê²Œ...
def logger_login_david():
     print ("David login")

def logger_login_anthony():
     print ("Anthony login")

def logger_login_tina():
     print ("Tina login")
```

#### ì§ì ‘ ê° í•¨ìˆ˜ì— ê¸°ëŠ¥ì„ ì•ë’¤ë¡œ ì½”ë“œë¡œ ë„£ì–´ë„ ë˜ê¸´ ë˜ì§€ ì•Šì„ê¹Œ?
* ì—¬ëŸ¬ í•¨ìˆ˜ì— ë™ì¼í•œ ê¸°ëŠ¥ì„ @ë°ì½”ë ˆì´í„° í•˜ë‚˜ë¡œ ê°„í¸í•˜ê²Œ ì¶”ê°€í•  ìˆ˜ ìˆê³ ,
* ì˜ˆë¥¼ ë“¤ì–´, íŒŒë¼ë¯¸í„°ê°€ ìˆëŠ” í•¨ìˆ˜ì— íŒŒë¼ë¯¸í„°ì˜ ìœ íš¨ì„± ê²€ì‚¬ê°€ í•„ìš”í•  ë•Œ
  - íŒŒë¼ë¯¸í„°ê°€ ìˆëŠ” í•¨ìˆ˜ê°€ ìˆì„ ë•Œë§ˆë‹¤, ìœ íš¨ì„± ê²€ì‚¬ ì½”ë“œë¥¼ ë„£ê¸°ê°€ ë¶ˆí¸!
  - ë§Œì•½ ìœ íš¨ì„± ê²€ì‚¬ ì½”ë“œ ìˆ˜ì •ì´ í•„ìš”í•˜ë‹¤ë©´ ê´€ë ¨ í•¨ìˆ˜ë¥¼ ëª¨ë‘ ìˆ˜ì •í•´ì•¼ í•˜ë¯€ë¡œ ë§¤ìš° ë¶ˆí¸

### 2.5. ë°ì½”ë ˆì´í„° ì‘ì„±ë²•


```python
# ë°ì½”ë ˆì´í„° ì‘ì„±í•˜ê¸°
def datetime_decorator(func):           # <--- datetime_decorator ëŠ” ë°ì½”ë ˆì´í„° ì´ë¦„, func ê°€ ì´ í•¨ìˆ˜ ì•ˆì— ë„£ì„ í•¨ìˆ˜ê°€ ë¨
    def wrapper():                      # <--- í˜¸ì¶œí•  í•¨ìˆ˜ë¥¼ ê°ì‹¸ëŠ” í•¨ìˆ˜
        print ('time ' + str(datetime.datetime.now())) # <--- í•¨ìˆ˜ ì•ì—ì„œ ì‹¤í–‰í•  ë‚´ìš©
        func()                          # <--- í•¨ìˆ˜  
        print (datetime.datetime.now()) # <--- í•¨ìˆ˜ ë’¤ì—ì„œ ì‹¤í–‰í•  ë‚´ìš©
    return wrapper                      # <--- closure í•¨ìˆ˜ë¡œ ë§Œë“ ë‹¤.
```


```python
# ë°ì½”ë ˆì´í„° ì ìš©í•˜ê¸°
@datetime_decorator    # @ë°ì½”ë ˆì´í„°
def logger_login_david():
     print ("David login")

logger_login_david()
```


```python
@datetime_decorator    # @ë°ì½”ë ˆì´í„°
def logger_login_anthony():
     print ("Anthony login")

logger_login_anthony()
```


```python
@datetime_decorator    # @ë°ì½”ë ˆì´í„°
def logger_login_tina():
     print ("Tina login")

logger_login_tina()
```

### Nested function, Closure function ê³¼ í•¨ê»˜ ë°ì½”ë ˆì´í„°ë¥¼ í’€ì–´ì„œ ì‘ì„±í•´ë³´ì 


```python
# decorator í•¨ìˆ˜ ì •ì˜
def outer_func(function):
    def inner_func():
        print('decoration added')
        function()
    return inner_func

# decoratingí•  í•¨ìˆ˜
def log_func():
    print('logging')
```


```python
# ë³¸ë˜ í•¨ìˆ˜
log_func()
```


```python
# log_func í•¨ìˆ˜ì— inner_func í•¨ìˆ˜ì˜ ê¸°ëŠ¥ì„ ì¶”ê°€í•œ decorated_func í•¨ìˆ˜
decorated_func = outer_func(log_func)
decorated_func()  # <--- ê²°ê³¼ëŠ” ë°ì½”ë ˆì´í„°ë¥¼ ì‚¬ìš©í•  ë•Œì™€ ë™ì¼í•¨
```

### ì´ê²ƒì„ í•œë²ˆì— ë°ì½”ë ˆì´í„°ë¡œ ì‘ì„±í•˜ë©´!


```python
@outer_func
def log_func():
    print('logging')

log_func()
```

<div class="alert alert-block" style="border: 1px solid #FFB300;background-color:#F9FBE7;">
<font size="3em" style="font-weight:bold;color:#3f8dbf;">ìƒê°í•´ë³´ê¸°</font><br>
1. ìœ„ ì½”ë“œì—ì„œ Nested functionì€?<br>
2. ìœ„ ì½”ë“œì—ì„œ Closure functionì€?<br>
</div>

### íŒŒë¼ë¯¸í„°ê°€ ìˆëŠ” í•¨ìˆ˜ì— Decorator ì ìš©í•˜ê¸°
* ì¤‘ì²©í•¨ìˆ˜ì— ê¾¸ë¯¸ê³ ì í•˜ëŠ” í•¨ìˆ˜ì™€ ë™ì¼í•˜ê²Œ íŒŒë¼ë¯¸í„°ë¥¼ ê°€ì ¸ê°€ë©´ ë¨


```python
# ë°ì½”ë ˆì´í„°
def outer_func(function):
    def inner_func(digit1, digit2):
        if digit2 == 0:                       # <--- ìœ íš¨ì„± ê²€ì‚¬ì˜ ì˜ˆ
            print('cannot be divided with zero')
            return
        function(digit1, digit2)
    return inner_func
```


```python
# ë°ì½”ë ˆì´í„° ì‚¬ìš©í•˜ê¸° (ìœ íš¨ì„± ê²€ì‚¬)
@outer_func
def divide(digit1, digit2):
    print (digit1 / digit2)
```


```python
divide(4, 2)
```


```python
divide(9, 0)
```

<div class="alert alert-block" style="border: 1px solid #FFB300;background-color:#F9FBE7;">
<font size="3em" style="font-weight:bold;color:#3f8dbf;">ì—°ìŠµ</font><br>
type_checker ë°ì½”ë ˆì´í„° ë§Œë“¤ê¸° (ì¸ì ìœ íš¨ì„± ê²€ì‚¬)<br>
digit1, digit2 ë¥¼ ê³±í•œ ê°’ì„ ì¶œë ¥í•˜ëŠ” í•¨ìˆ˜ ë§Œë“¤ê¸°<br>
type_checker ë°ì½”ë ˆì´í„°ë¡œ digit1, digit2 ê°€ ì •ìˆ˜ê°€ ì•„ë‹ˆë©´ 'only integer support' ì¶œë ¥í•˜ê³  ëëƒ„<br>
if (type(digit1) != int) or (type(digit2) != int):
</div>


```python
# ë°ì½”ë ˆì´í„°
def type_checker(function):
    def inner_func(digit1, digit2):
        if (type(digit1) != int) or (type(digit2) != int):                       # <--- ìœ íš¨ì„± ê²€ì‚¬ì˜ ì˜ˆ
            print('the only int is supported')
            return 
        return function(digit1, digit2)
    return inner_func

# ë°ì½”ë ˆì´í„° ì‚¬ìš©í•˜ê¸° (ìœ íš¨ì„± ê²€ì‚¬)
@type_checker
def divide(digit1, digit2):
    return digit1 * digit2

divide(0.1, 1)
```

### íŒŒë¼ë¯¸í„°ì™€ ê´€ê³„ì—†ì´ ëª¨ë“  í•¨ìˆ˜ì— ì ìš© ê°€ëŠ¥í•œ Decorator ë§Œë“¤ê¸°
* íŒŒë¼ë¯¸í„°ëŠ” ì–´ë–¤ í˜•íƒœì´ë“  ê²°êµ­ (*args, ***kwargs) ë¡œ í‘œí˜„ ê°€ëŠ¥
* ë°ì½”ë ˆì´í„°ì˜ ë‚´ë¶€í•¨ìˆ˜ íŒŒë¼ë¯¸í„°ë¥¼ (*args, ***kwargs) ë¡œ ì‘ì„±í•˜ë©´ ì–´ë–¤ í•¨ìˆ˜ì´ë“  ë°ì½”ë ˆì´í„° ì ìš© ê°€ëŠ¥


```python
# ë°ì½”ë ˆì´í„° ì‘ì„±í•˜ê¸°
def general_decorator(function):
    def wrapper(*args, **kwargs):
        print('function is decorated')
        return function(*args, **kwargs)
    return wrapper
```


```python
# ë°ì½”ë ˆì´í„° ì ìš©í•˜ê¸°
@general_decorator
def calc_square(digit):
    return digit * digit

@general_decorator
def calc_plus(digit1, digit2):
    return digit1 + digit2

@general_decorator
def calc_quad(digit1, digit2, digit3, digit4):
    return digit1 * digit2 * digit3 * digit4
```


```python
# í•¨ìˆ˜ í˜¸ì¶œí•˜ê¸°
print (calc_square(2))
print (calc_plus(2, 3))
print (calc_quad(2, 3, 4, 5))
```

### í•œ í•¨ìˆ˜ì— ë°ì½”ë ˆì´í„° ì—¬ëŸ¬ ê°œ ì§€ì •í•˜ê¸°
* í•¨ìˆ˜ì— ì—¬ëŸ¬ ê°œì˜ ë°ì½”ë ˆì´í„° ì§€ì • ê°€ëŠ¥ (ì—¬ëŸ¬ ì¤„ë¡œ @ë°ì½”ë ˆì´í„°ë¥¼ ì¨ì£¼ë©´ ë¨)
* ë°ì½”ë ˆì´í„°ë¥¼ ë‚˜ì—´í•œ ìˆœì„œëŒ€ë¡œ ì‹¤í–‰ë¨ 


```python
# ì—¬ëŸ¬ ë°ì½”ë ˆì´í„° ì‘ì„±í•˜ê¸°
def decorator1(function):
    def wrapper():
        print('decorator1')
        function()
    return wrapper
 
def decorator2(function):
    def wrapper():
        print('decorator2')
        function()
    return wrapper
```


```python
# ì—¬ëŸ¬ ë°ì½”ë ˆì´í„°ë¥¼ í•¨ìˆ˜ì— í•œë²ˆì— ì ìš©í•˜ê¸°
@decorator1
@decorator2
def hello():
    print('hello')
```


```python
hello()
```

    decorator1
    decorator2
    hello
    

<div class="alert alert-block" style="border: 1px solid #FFB300;background-color:#F9FBE7;">
<font size="3em" style="font-weight:bold;color:#3f8dbf;">ë„ì „ ê³¼ì œ</font><br>
ë‹¤ìŒ ê·¸ë¦¼ì— ìˆëŠ” HTML ì›¹í˜ì´ì§€ íƒœê·¸ë¥¼ ë¶™ì—¬ì£¼ëŠ” ë°ì½”ë ˆì´í„° ë§Œë“¤ê¸°<br>
í•´ë‹¹ ë°ì½”ë ˆì´í„°ë¥¼ ì‚¬ìš©í•´ì„œ ì•ˆë…•í•˜ì„¸ìš” ì¶œë ¥í•´ë³´ê¸°<br>
<img src="https://www.fun-coding.org/00_Images/tag.png" />
</div>


```python
def mark_bold(function):
    def wrapper(*args, **kwargs):
        return '<b>' + function(*args, **kwargs) + '</b>'
    return wrapper

def mark_italic(function):
    def wrapper(*args, **kwargs):
        return '<i>' + function(*args, **kwargs) + '</i>'
    return wrapper

@mark_bold
@mark_italic
def add_html(string):
    return string

print (add_html('ì•ˆë…•í•˜ì„¸ìš”'))
```

    <b><i>ì•ˆë…•í•˜ì„¸ìš”</i></b>
    


```python
%%html
<b>ì•ˆë…•</b>
<i>ì•ˆë…•</i>
<b><i>ì•ˆë…•</i></b>
```


<b>ì•ˆë…•</b>
<i>ì•ˆë…•</i>
<b><i>ì•ˆë…•</i></b>



### Method Decorator
* í´ë˜ìŠ¤ì˜ methodì—ë„ ë°ì½”ë ˆì´í„° ì ìš© ê°€ëŠ¥
  - í´ë˜ìŠ¤ methodëŠ” ì²« íŒŒë¼ë¯¸í„°ê°€ self ì´ë¯€ë¡œ ì´ ë¶€ë¶„ì„ ë°ì½”ë ˆì´í„° ì‘ì„±ì‹œì— í¬í•¨ì‹œì¼œì•¼ í•¨


```python

```


```python
# ë°ì½”ë ˆì´í„° ì‘ì„±í•˜ê¸° (for method)
def h1_tag(function):
    def func_wrapper(self, *args, **kwargs):            # <--- self ë¥¼ ë¬´ì¡°ê±´ ì²« íŒŒë¼ë¯¸í„°ë¡œ ë„£ì–´ì•¼ ë©”ì„œë“œì— ì ìš©ê°€ëŠ¥
        return "<h1>{0}</h1>".format(function(self, *args, **kwargs))  # <--- function í•¨ìˆ˜ì—ë„ self ë¥¼ ë„£ì–´ì•¼ í•¨
    return func_wrapper
```


```python
# í´ë˜ìŠ¤ ì„ ì–¸ì‹œ ë©”ì„œë“œì— ë°ì½”ë ˆì´í„° ì ìš©í•˜ê¸°
class Person:
    def __init__(self, first_name, last_name):
        self.first_name = first_name
        self.last_name = last_name

    @h1_tag
    def get_name(self):
        return self.first_name + ' ' + self.last_name
```


```python
# ë°ì½”ë ˆì´í„° ì ìš© í™•ì¸í•´ë³´ê¸°
davelee = Person('Lee', 'Dave')
print(davelee.get_name())
```

    <h1>Lee Dave</h1>
    

<div class="alert alert-block" style="border: 1px solid #FFB300;background-color:#F9FBE7;">
<font size="3em" style="font-weight:bold;color:#3f8dbf;">íŒŒì´ì¬ format() í•¨ìˆ˜ ì´í•´í•˜ê¸°</font><br>
ë‹¤ìŒ ì½”ë“œ ì‹¤í–‰ ê²°ê³¼ ì˜ˆìƒí•˜ê³ , í™•ì¸í•˜ê¸°
</div>


```python
print('{} {}'.format(10, 100))
```

    10 100
    


```python
print('{0} {2} {0} {1}'.format(10, 100, 20))
```

    10 20 10 100
    


```python
print('{1} {0}'.format(10, 100))
```


```python
print('{aa} {bb}'.format(aa = 'aaaa', bb = 'cccc'))
```

### íŒŒë¼ë¯¸í„°ê°€ ìˆëŠ” Decorator ë§Œë“¤ê¸° (ì‹¬í™”)
* decoratorì— íŒŒë¼ë¯¸í„°ë¥¼ ì¶”ê°€ ê°€ëŠ¥


```python
# ì¤‘ì²© í•¨ìˆ˜ì˜ í•˜ë‚˜ ë” ê¹Šê²Œ ë‘ì–´ ìƒì„±
def decorator1(num):
    def outer_wrapper(function):
        def innter_wrapper(*args, **kwargs):
            print('decorator1 {}'.format(num))
            return function(*args, **kwargs)
        return innter_wrapper
    return outer_wrapper
```


```python
def print_hello():
    print ('hello')
```


```python
# ìœ„ì™€ ê°™ì´ ì‘ì„±í•˜ë©´, ë‹¤ìŒê³¼ ê°™ì´ í˜¸ì¶œí•  ìˆ˜ ìˆë‹¤.
print_hello2 = decorator1(1)(print_hello)
print_hello2()
```

    decorator1 1
    hello
    


```python
# ì´ë¥¼ ë°ì½”ë ˆì´í„°ë¡œ í‘œí˜„í•˜ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.
@decorator1(1)
def print_hello():
    print('hello')
```


```python
print_hello()
```

    decorator1 1
    hello
    


```python
# ì´ë¥¼ ë°ì½”ë ˆì´í„°ë¡œ í‘œí˜„í•˜ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.(ì´ë ‡ê²Œ ì¨ë„ ë¨)
@decorator1(num=2)
def print_hello():
    print('hello')
```


```python
print_hello()
```

    decorator1 2
    hello
    

<div class="alert alert-block" style="border: 1px solid #FFB300;background-color:#F9FBE7;">
<font size="3em" style="font-weight:bold;color:#3f8dbf;">ë„ì „ ê³¼ì œ</font><br>
ë‹¤ìŒ ê·¸ë¦¼ì— ìˆëŠ” HTML ì›¹í˜ì´ì§€ íƒœê·¸ì™€ ê°™ì´ íƒœê·¸ ì´ë¦„ì„ ë„£ìœ¼ë©´ HTML ë¬¸ë²•ì— ë§ê²Œ ì¶œë ¥í•´ì£¼ëŠ” ë°ì½”ë ˆì´í„°ë¥¼ ë§Œë“¤ê¸°<br>
í•´ë‹¹ ë°ì½”ë ˆì´í„°ë¥¼ ì‚¬ìš©í•´ì„œ b, i, h1, h2, h3, h4, h5, h6, center íƒœê·¸ë¥¼ ë¦¬ìŠ¤íŠ¸ë¡œ ë„£ì–´ì„œ ì•ˆë…•í•˜ì„¸ìš” ì¶œë ¥í•´ë³´ê¸°<br>

```python
@mark_html('b')
def print_title(title):
    return title
print ('ì”ì¬ë¯¸ì½”ë”© Dave Lee ì…ë‹ˆë‹¤.')
ì¶œë ¥:
    <b>ì”ì¬ë¯¸ì½”ë”© Dave Lee ì…ë‹ˆë‹¤.</b>    
```
</div>


```python
def mark_html(tag):
    def outer_wrapper(function):
        def inner_wrapper(*args, **kwargs):
            return '<' + tag + '>' + function(*args, **kwargs) + '</' + tag + '>'
        return inner_wrapper
    return outer_wrapper

@mark_html('b')
def print_bold(title):
    return title

@mark_html('h1')
def print_title(title):
    return title

print(print_title('ì”ì¬ë¯¸ì½”ë”© Dave Lee ì…ë‹ˆë‹¤.'))
```

    <h1>ì”ì¬ë¯¸ì½”ë”© Dave Lee ì…ë‹ˆë‹¤.</h1>
    

<div class="alert alert-block" style="border: 2px solid #1976D2;background-color:#E3F2FD;padding:5px;font-size:0.9em;">
ë³¸ ìë£ŒëŠ” ì €ì‘ê¶Œë²• ì œ25ì¡° 2í•­ì— ì˜í•´ ë³´í˜¸ë¥¼ ë°›ìŠµë‹ˆë‹¤. ë³¸ ìë£Œë¥¼ ì™¸ë¶€ì— ê³µê°œí•˜ì§€ ë§ì•„ì£¼ì„¸ìš”.<br>
ë³¸ ê°•ì˜ë§Œ ì˜ ì •ë¦¬í•˜ë©´, ë°ì´í„° ë¶„ì„, ë°ì´í„° ê³¼í•™, í’€ìŠ¤íƒ(ë°±ì—”ë“œ, í”„ë¡ íŠ¸ì—”ë“œ) ê°œë°œ ëª¨ë‘ ê°€ëŠ¥í•©ë‹ˆë‹¤!<br>
<b><a href="https://school.fun-coding.org/">ì”ì¬ë¯¸ì½”ë”©</a> ì—ì„œ ë³¸ ê°•ì˜ ê¸°ë°˜ ìµœì í™”ëœ ë¡œë“œë§µë„ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤</b></div>



# 4_flask_basic
<div class="alert alert-block" style="border: 2px solid #1976D2;background-color:#E3F2FD;padding:5px;font-size:0.9em;">
ë³¸ ìë£ŒëŠ” ì €ì‘ê¶Œë²• ì œ25ì¡° 2í•­ì— ì˜í•´ ë³´í˜¸ë¥¼ ë°›ìŠµë‹ˆë‹¤. ë³¸ ìë£Œë¥¼ ì™¸ë¶€ì— ê³µê°œí•˜ì§€ ë§ì•„ì£¼ì„¸ìš”.<br>
ë³¸ ê°•ì˜ë§Œ ì˜ ì •ë¦¬í•˜ë©´, ë°ì´í„° ë¶„ì„, ë°ì´í„° ê³¼í•™, í’€ìŠ¤íƒ(ë°±ì—”ë“œ, í”„ë¡ íŠ¸ì—”ë“œ) ê°œë°œ ëª¨ë‘ ê°€ëŠ¥í•©ë‹ˆë‹¤!<br>
<b><a href="https://school.fun-coding.org/">ì”ì¬ë¯¸ì½”ë”©</a> ì—ì„œ ë³¸ ê°•ì˜ ê¸°ë°˜ ìµœì í™”ëœ ë¡œë“œë§µë„ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤</b></div>

## 3. flask ì™€ Rest API
- HTML ì–¸ì–´ëŠ” í”„ë¡ íŠ¸ì—”ë“œ ê°•ì˜ì—ì„œ ë³´ë‹¤ ìƒì„¸í•˜ê²Œ ë‹¤ë£¨ë©°, ë³¸ ê°•ì˜ì—ì„œëŠ” íŒŒì´ì¬ ê¸°ì´ˆì™€ í¬ë¡¤ë§ ë¶€íŠ¸ìº í”„ì—ì„œ ì„¤ëª…í•œ HTML íƒœê·¸ êµ¬ì¡°ì— ëŒ€í•œ ì´í•´ë§Œì„ ê¸°ë°˜ìœ¼ë¡œ í•¨

### ì •ì  í˜ì´ì§€ ë¦¬í„´í•˜ê¸° (HTML)
* ë³µì¡í•œ URIë¥¼ í•¨ìˆ˜ë¡œ ì‰½ê²Œ ì—°ê²°í•˜ëŠ” ë°©ë²• ì œê³µ
* h1 ~ h6 ëŠ” HTML ì œëª© íƒœê·¸


```python
from flask import Flask

app = Flask(__name__)
@app.route("/")
def hello():                           
    return "<h1>Hello World!</h1>"

@app.route("/hello")
def hello_flask():
    return "<h1>Hello Flash!</h1>"

@app.route("/first")
def hello_first():
    return "<h3>Hello First</h3>"

if __name__ == "__main__":              
    app.run(host="0.0.0.0", port="8080")
```

     * Serving Flask app "__main__" (lazy loading)
     * Environment: production
    [31m   WARNING: This is a development server. Do not use it in a production deployment.[0m
    [2m   Use a production WSGI server instead.[0m
     * Debug mode: off
    

     * Running on http://0.0.0.0:8080/ (Press CTRL+C to quit)
    127.0.0.1 - - [05/Aug/2020 11:38:30] "[37mGET / HTTP/1.1[0m" 200 -
    127.0.0.1 - - [05/Aug/2020 11:43:17] "[37mGET / HTTP/1.1[0m" 200 -
    127.0.0.1 - - [05/Aug/2020 11:43:44] "[37mGET /hello HTTP/1.1[0m" 200 -
    127.0.0.1 - - [05/Aug/2020 11:43:56] "[37mGET /first HTTP/1.1[0m" 200 -
    

<div class="alert alert-block" style="border: 1px solid #FFB300;background-color:#F9FBE7;">
<font size="3em" style="font-weight:bold;color:#3f8dbf;">ì‹¤ìŠµí•˜ê¸°</font><br>
http://0.0.0.0:8080/first ë¡œ ì ‘ì†ì‹œ, h3 íƒœê·¸ë¡œ Hello First ì¶œë ¥í•˜ê¸°
</div>

### ë³µì¡í•œ ë¼ìš°íŒ…: ë°ì´í„° ì „ë‹¬í•˜ê¸°

* URIë¥¼ ë³€ìˆ˜ë¡œ ì‚¬ìš©
  - ë‹¤ìŒ ì½”ë“œ ì¶”ê°€ í›„, http://0.0.0.0:8080/profile/dave ì ‘ì†
  
```python
@app.route("/profile/<username>")
def get_profile(username):
    return "profile: " + username
```


```python
from flask import Flask

app = Flask(__name__)
@app.route("/")
def hello():                           
    return "<h1>Hello World!</h1>"

@app.route("/profile/<username>")
def get_profile(username):
    return "profile: " + username

@app.route("/first/<username>")
def get_first(username):
    return "<h3>Hello " + username + "!</h3>"

if __name__ == "__main__":              
    app.run(host="0.0.0.0", port="8080")
```

     * Serving Flask app "__main__" (lazy loading)
     * Environment: production
    [31m   WARNING: This is a development server. Do not use it in a production deployment.[0m
    [2m   Use a production WSGI server instead.[0m
     * Debug mode: off
    

     * Running on http://0.0.0.0:8080/ (Press CTRL+C to quit)
    127.0.0.1 - - [05/Aug/2020 11:57:54] "[37mGET /first/3 HTTP/1.1[0m" 200 -
    127.0.0.1 - - [05/Aug/2020 11:57:59] "[37mGET /first/end HTTP/1.1[0m" 200 -
    

<div class="alert alert-block" style="border: 1px solid #FFB300;background-color:#F9FBE7;">
<font size="3em" style="font-weight:bold;color:#3f8dbf;">ì‹¤ìŠµí•˜ê¸°</font><br>
http://0.0.0.0:8080/first/userid ë¡œ ì ‘ì†ì‹œ, h3 íƒœê·¸ë¡œ Hello userid ! ì¶œë ¥í•˜ê¸°
</div>

* URIë¥¼ ë³€ìˆ˜ë¡œ ì‚¬ìš©, ë³€ìˆ˜ì— ë°ì´í„° íƒ€ì…ë„ ì¤„ ìˆ˜ ìˆìŒ
  - ë°ì´í„° íƒ€ì…ì´ ì—†ìœ¼ë©´ ë¬¸ìì—´ë¡œ ì¸ì‹
  - int ì´ì™¸ì— float ë„ ë°ì´í„° íƒ€ì…ìœ¼ë¡œ ì¤„ ìˆ˜ ìˆìŒ
  - ë‹¤ìŒ ì½”ë“œ ì¶”ê°€ í›„, http://0.0.0.0:8080/message/1 ì ‘ì†


```python
@app.route("/message/<int:message_id>")
def get_message(message_id):
    return "message id: " + message_id
```


```python
from flask import Flask

app = Flask(__name__)

def add_file(data):
    return data + 5

@app.route("/")
def hello():                           
    return "<h1>Hello World!</h1>"

@app.route("/message/<int:message_id>")
def get_message(message_id):
    return "message id: %d" % message_id   # %d ëŠ” int, %f ëŠ” float, %s ëŠ” string

@app.route("/first/<int:messageid>")
def get_first(messageid):
    data = add_file(messageid)
    return "<h1>%d</h1>" % (data)


if __name__ == "__main__":              
    app.run(host="0.0.0.0", port="8080")
```

     * Serving Flask app "__main__" (lazy loading)
     * Environment: production
    [31m   WARNING: This is a development server. Do not use it in a production deployment.[0m
    [2m   Use a production WSGI server instead.[0m
     * Debug mode: off
    

     * Running on http://0.0.0.0:8080/ (Press CTRL+C to quit)
    127.0.0.1 - - [05/Aug/2020 12:01:44] "[37mGET / HTTP/1.1[0m" 200 -
    127.0.0.1 - - [05/Aug/2020 12:01:56] "[37mGET /message/1 HTTP/1.1[0m" 200 -
    127.0.0.1 - - [05/Aug/2020 12:02:22] "[37mGET /first/1 HTTP/1.1[0m" 200 -
    

<div class="alert alert-block" style="border: 1px solid #FFB300;background-color:#F9FBE7;">
<font size="3em" style="font-weight:bold;color:#3f8dbf;">ì‹¤ìŠµí•˜ê¸°</font><br>
http://0.0.0.0:8080/first/ìˆ«ì ë¡œ ì ‘ì†ì‹œ, h1 íƒœê·¸ë¡œ ìˆ«ì + 5 ì¶œë ¥í•˜ê¸°
</div>

### 3. flask ë¡œ REST API êµ¬í˜„í•˜ê¸°


### HTTP(Hypertext Transfer Protocol)
- Server/Client ëª¨ë¸ë¡œ Request/Response ì‚¬ìš©
  - Clientì—ì„œ ìš”ì²­(Request)ì„ ë³´ë‚´ë©´, Serverì—ì„œ ì‘ë‹µ(Response)ì„ ì¤€ë‹¤.


<center><img src="https://www.fun-coding.org/00_Images/web_http.png" height=350 /></center>

> í”„ë¡œí† ì½œ (protocol): ì»´í“¨í„°ê°„ í†µì‹ ì„ í•˜ê¸° ìœ„í•œ ê·œì¹™ 

### HTTP(Hypertext Transfer Protocol) Request/Response

- Request
<center><img src="https://www.fun-coding.org/00_Images/http_request.png" /></center>


### HTTP(Hypertext Transfer Protocol) Request/Response

- Response
<center><img src="https://www.fun-coding.org/00_Images/http_response.png" /></center>


### REST
- REST(REpresentational State Transfer)
  - ìì›(resource)ì˜ í‘œí˜„(representation)ì— ì˜í•œ ìƒíƒœ ì „ë‹¬
  - HTTP URIë¥¼ í†µí•´ ìì›ì„ ëª…ì‹œí•˜ê³ , HTTP Methodë¥¼ í†µí•´ ìì›ì— ëŒ€í•œ CRUD Operation ì ìš©
    - CRUD Operationì™€ HTTP Method
      - Create: ìƒì„± (POST)
      - Read: ì¡°íšŒ (GET)
      - Update: ìˆ˜ì • (PUT)
      - Delete: ì‚­ì œ (DELETE)

### REST API
- REST ê¸°ë°˜ìœ¼ë¡œ ì„œë¹„ìŠ¤ APIë¥¼ êµ¬í˜„í•œ ê²ƒ
- ë§ˆì´í¬ë¡œ ì„œë¹„ìŠ¤, OpenAPI(ëˆ„êµ¬ë‚˜ ì‚¬ìš©í•˜ë„ë¡ ê³µê°œëœ API) ë“±ì—ì„œ ë§ì´ ì‚¬ìš©ë¨

### flask ë¡œ REST API êµ¬í˜„ ë°©ë²•
- íŠ¹ì •í•œ URIë¥¼ ìš”ì²­í•˜ë©´ JSON í˜•ì‹ìœ¼ë¡œ ë°ì´í„°ë¥¼ ë°˜í™˜í•˜ë„ë¡ ë§Œë“¤ë©´ ë¨
- ì¦‰, ì›¹ì£¼ì†Œ(URI) ìš”ì²­ì— ëŒ€í•œ ì‘ë‹µ(Response)ë¥¼ JSON í˜•ì‹ìœ¼ë¡œ ì‘ì„±
- Flaskì—ì„œëŠ” dict(ì‚¬ì „) ë°ì´í„°ë¥¼ ì‘ë‹µ ë°ì´í„°ë¡œ ë§Œë“¤ê³ , ì´ë¥¼ jsonify() ë©”ì„œë“œë¥¼ í™œìš©í•´ì„œ JSON ì‘ë‹µ ë°ì´í„°ë¡œ ë§Œë“¤ ìˆ˜ ìˆìŒ

### REST API í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•œ ì¤€ë¹„

### httpie ì„¤ì¹˜
- https://httpie.org/

!pip install httpie

### httpie ê¸°ë³¸ ì‚¬ìš©ë²•

> **ğŸ’¡ ì£¼ì˜:** ìœˆë„ìš° í™˜ê²½ì—ì„œëŠ” `cmd`ë³´ë‹¤ **Powershell**ì—ì„œ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ê¶Œì¥í•©ë‹ˆë‹¤. (`cmd`ì—ì„œëŠ” ì¼ë¶€ ê¸°ëŠ¥ ì‚¬ìš© ë¬¸ë²•ì´ ë‹¬ë¼ì„œ, ì •ìƒì ìœ¼ë¡œ ë™ì‘í•˜ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.)

#### 1. ê¸°ë³¸ ìš”ì²­ ë³´ë‚´ê¸°

-   **ëª…ë ¹ í˜•ì‹:** `http [HTTPë©”ì„œë“œ] <URI>`
-   ì§€ì •í•œ URIë¡œ HTTP ìš”ì²­ì„ ë³´ëƒ…ë‹ˆë‹¤.
-   `HTTPë©”ì„œë“œ`ë¥¼ ìƒëµí•˜ë©´ ê¸°ë³¸ê°’ì¸ `GET`ìœ¼ë¡œ ìš”ì²­í•©ë‹ˆë‹¤.

**ì˜ˆì‹œ:**
```bash
# GET ìš”ì²­ (ë©”ì„œë“œ ëª…ì‹œ)
http GET http://localhost:8080/json_test

# GET ìš”ì²­ (ë©”ì„œë“œ ìƒëµ - ìœ„ì™€ ë™ì¼)
http http://localhost:8080/json_test
```

#### 2. ìš”ì²­/ì‘ë‹µ ìƒì„¸ ì •ë³´ ë³´ê¸° (`-v` ì˜µì…˜)

-   **ëª…ë ¹ í˜•ì‹:** `http -v [HTTPë©”ì„œë“œ] <URI>`
-   `-v` (verbose) ì˜µì…˜ì„ ì‚¬ìš©í•˜ë©´ ìš”ì²­ í—¤ë”, ìš”ì²­ ë³¸ë¬¸ ë“± **ì†¡ì‹ **í•˜ëŠ” HTTP í”„ë¡œí† ì½œ ë°ì´í„°ê¹Œì§€ í•¨ê»˜ ì¶œë ¥ë˜ì–´ ë””ë²„ê¹…ì— ìœ ìš©í•©ë‹ˆë‹¤.

**ì˜ˆì‹œ:**
```bash
http -v GET http://localhost:8080/json_test
```


### REST API êµ¬í˜„


```python
from flask import Flask, jsonify
app = Flask(__name__)
```

* dataë¥¼ ì‚¬ì „ ë°ì´í„°ë¡œ ë§Œë“¤ê³ , ì´ë¥¼ jsonify() ë©”ì„œë“œì— ë„£ì–´ì„œ return í•´ì£¼ë©´ ë¨

### flask jsonify() í•¨ìˆ˜
- ë¦¬í„´ ë°ì´í„°ë¥¼ JSON í¬ë§·ìœ¼ë¡œ ì œê³µ

> í˜¹ì‹œ JSON í¬ë§·ì— ëŒ€í•œ ì´í•´ê°€ í•„ìš”í•  ì‹œì—ëŠ” íŒŒì´ì¬ ì…ë¬¸ê³¼ í¬ë¡¤ë§ ë¶€íŠ¸ìº í”„ ë˜ëŠ” ì²˜ìŒí•˜ëŠ” íŒŒì´ì¬ ë°ì´í„° ë¶„ì„ ê°•ì˜ ìˆ˜ê°•

#### ì°¸ê³ 
- ì‚¬ì‹¤ `return [JSON ë°ì´í„°]` ë¡œ ì‘ì„±í•´ë„ json í¬ë©§ì„ ìë™ ì¸ì‹í•˜ì—¬, ì •ìƒì ìœ¼ë¡œ ì „ë‹¬í•´ì¤Œ
- ë‹¨, `jsonify()`ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ë” ëª…ì‹œì ì´ë©° í‘œì¤€ì ì¸ ë°©ë²•ì„
  - ë³´ë‹¤ ê¸°ìˆ ì ìœ¼ë¡œëŠ” `jsonify()`ëŠ” ë‚´ë¶€ì ìœ¼ë¡œ `Response` ê°ì²´ë¥¼ ìƒì„±í•˜ê³  `Content-Type: application/json` í—¤ë”ë¥¼ ëª…ì‹œì ìœ¼ë¡œ ì„¤ì •í•¨


```python
@app.route('/json_test')
def hello_json():
    data = {'name' : 'ê¹€ëŒ€ë¦¬', 'family' : 'Byun'}
    return jsonify(data)

@app.route('/server_info')
def server_json():
    data = { 'server_name' : '0.0.0.0', 'server_port' : '8080' }
    return jsonify(data)
```


```python
if __name__ == "__main__":              
    app.run(host="0.0.0.0", port="8081")
```

     * Serving Flask app '__main__'
     * Debug mode: off
    

    WARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.
     * Running on all addresses (0.0.0.0)
     * Running on http://127.0.0.1:8081
     * Running on http://172.30.1.24:8081
    Press CTRL+C to quit
    127.0.0.1 - - [02/May/2025 15:36:33] "GET /json_test HTTP/1.1" 200 -
    

<div class="alert alert-block" style="border: 1px solid #FFB300;background-color:#F9FBE7;">
<font size="3em" style="font-weight:bold;color:#3f8dbf;">ì‹¤ìŠµí•˜ê¸°</font><br>
- http GET http://localhost:8080/json_test <br>
- http GET http://localhost:8080/server_info <br>
        
</div>

### Visual Studio Code ì—ë””í„° ì„¤ì¹˜í•´ë³´ê¸°
> ê¸°ë³¸ì ìœ¼ë¡œ ì£¼í”¼í„° ë…¸íŠ¸ë¶ì—ì„œ ì½”ë“œ ì¡°ê°ì„ í…ŒìŠ¤íŠ¸í•˜ê³ , ìµœì¢… íŒŒì¼ì„ ì‘ì„±í•˜ì—¬ ì‹¤í–‰ <br>
> ë‹¨, ì—¬ëŸ¬ íŒŒì¼ë¡œ ì½”ë“œê°€ ì´ë£¨ì–´ì ¸ ìˆê³ , ì„œë¡œ ì—°ê²°ë˜ì–´ ì‹¤í–‰ë˜ì–´ì•¼ í•  ê²½ìš°ì—ëŠ” ì½”ë“œ ì—ë””í„°ë¥¼ ì‚¬ìš©í•˜ëŠ” í¸ì´ ì¢‹ìŒ

- ì½”ë“œ ì—ë””í„°
  - ì½”ë“œ ì‘ì„±ì„ ë„ì™€ì£¼ëŠ” íˆ´
  - íŒŒì´ì¬ì˜ ê²½ìš°, Pycharm, Visual Studio Code ë¥¼ ë§ì´ ì‚¬ìš©
  - Visual Studio Code ëŠ” íŒŒì´ì¬ ì™¸ì—ë„ ë‹¤ì–‘í•œ ì–¸ì–´ ì§€ì›
    - ë°˜ë©´ì—, Pycharm ì€ íŒŒì´ì¬ ì „ìš© ì—ë””í„°
  
> ì¥ê¸°ì ìœ¼ë¡œ íŒŒì´ì¬ ì™¸ì—ë„ ë‹¤ì–‘í•œ ì–¸ì–´ë¥¼ êµ¬í˜„í•´ì•¼ í•˜ê³ , ìµœê·¼ì— Visual Studio Code ê°€ ë§ì´ ì‚¬ìš©ë˜ë¯€ë¡œ, Visual Studio Code ì„ íƒ <br>
> íšŒì‚¬ì—ì„œë„ í•œ ê°œë°œíŒ€ì—ì„œëŠ” ë™ì¼í•œ ì—ë””í„°ë¥¼ ì“°ëŠ” ê²½ìš°ê°€ ë§ìœ¼ë¯€ë¡œ, ê°€ì¥ ë§ì´ ì“°ëŠ” íˆ´ì„ ì“°ëŠ” ê²ƒì´ ë” ì¢‹ìŒ

### Visual Studio Code ì„¤ì¹˜ ë°©ë²•
- https://code.visualstudio.com/ ì—ì„œ í”„ë¡œê·¸ë¨ ë‹¤ìš´ë¡œë“œ ë° ì„¤ì¹˜
- Visual Studio Code ì‹¤í–‰ í›„, Extension ë©”ë‰´ì—ì„œ ë‹¤ìŒ í”ŒëŸ¬ê·¸ì¸ ì„¤ì¹˜
  - Python
  - Python Extension Pack
  
- Python Interpreter ì„¤ì •
  - íŒŒì´ì¬ ì¸í„°í”„ë¦¬í„°(ì»´íŒŒì¼ëŸ¬) ìœ„ì¹˜ëŠ” ë‹¤ìŒ ëª…ë ¹ìœ¼ë¡œ í„°ë¯¸ë„ì—ì„œ í™•ì¸
    - ë§¥: `which python`
    - ìœˆë„ìš° (Powershell ì—ì„œ ì‹¤í–‰ ì¶”ì²œ): `where.exe python`

### í”„ë¡ íŠ¸ì—”ë“œì™€ ë°±ì—”ë“œ flask ë¡œ í•œë²ˆì— êµ¬í˜„í•´ë³´ê¸°
- 01_flask_test í´ë”ì— login_test.py íŒŒì¼ ì‘ì„±
- GET ìš”ì²­ìœ¼ë¡œ ë°›ëŠ” urlì€ ì•„ë˜ì™€ ê°™ì´ ì½”ë“œ ì‘ì„±

```python
from flask import Flask, jsonify, request
app = Flask(__name__)


@app.route('/login')
def login():
    username = request.args.get('user_name')
    if username == 'dave':
        return_data = {'auth':'success'}
    else:
        return_data = {'auth':'failed'}
    return jsonify(return_data)

if __name__ == '__main__':
    app.run(host="0.0.0.0", port="8080")
```

<div class="alert alert-block" style="border: 1px solid #FFB300;background-color:#F9FBE7;">
<font size="3em" style="font-weight:bold;color:#3f8dbf;">ì‹¤ìŠµí•˜ê¸°</font><br>
http "http://localhost:8080/login?user_name=222" <br>
http "http://localhost:8080/login?user_name=dave"
</div>

### Rest API ìš”ì²­ì‹œ íŒŒë¼ë¯¸í„°/íŒŒë¼ë¯¸í„°ê°’ ë„£ê¸°
- HTTP ì˜ ìš”ì²­ ë°©ì‹ ì¤‘, ê°€ì¥ ë§ì´ ì‚¬ìš©ë˜ëŠ” ë°©ì‹ì´ GET ë°©ì‹
  - GET ë°©ì‹ì—ì„œëŠ” URI ìƒì— íŒŒë¼ë¯¸í„°ì™€ íŒŒë¼ë¯¸í„° ê°’ì„ ë„£ì„ ìˆ˜ ìˆìŒ
    - ê·œì¹™: URL?íŒŒë¼ë¯¸í„°1=íŒŒë¼ë¯¸í„°1ê°’&íŒŒë¼ë¯¸í„°2=íŒŒë¼ë¯¸í„°2ê°’ 
    - URL ì´í›„ ì²« íŒŒë¼ë¯¸í„° ì´ë¦„ ì „ì— ? ë¥¼ í‘œì‹œí•˜ê³ , ì¶”ê°€ íŒŒë¼ë¯¸í„°ê°€ ìˆì„ ì‹œì—ëŠ” & í‘œì‹œë¥¼ í•´ì•¼ í•¨
<center><img src="https://www.fun-coding.org/00_Images/http_method_get.png"/></center>

### í”„ë¡ íŠ¸ì—”ë“œ, HTML ì½”ë“œì™€ ì—°ê³„í•´ì„œ êµ¬í˜„í•´ë³´ê¸°
- Visual Studio Code ì— Emmet ê¸°ëŠ¥ì´ êµ¬í˜„ë˜ì–´ ìˆìŒ
  - Emmet ê¸°ëŠ¥ì€ íŠ¹ì • ì•½ì–´ë¡œ í…œí”Œë¦¿ ì½”ë“œ ìƒì„±
  
  ```
  html:5 ë¼ê³  ì“°ê³  <íƒ­ í‚¤> ë¥¼ ëˆ„ë¥´ë©´ HTML5 ê¸°ë³¸ í…œí”Œë¦¿ ìƒì„±
  ```

> HTML ê¸°ë³¸ì ì¸ ë¶€ë¶„ì€ íŒŒì´ì¬ ê¸°ì´ˆì™€ í¬ë¡¤ë§ ë¶€íŠ¸ìº í”„ ê°•ì˜ì—ì„œ ë‹¤ë£¬ ë¶€ë¶„ì„ ì°¸ì¡°! <br>
> ë§¤ìš° ìƒì„¸í•œ HTML/CSS ì½”ë“œ ì‘ì„±ì€ í”„ë¡ íŠ¸ì—”ë“œ ê³¼ì •ì—ì„œ ì„¤ëª… ì˜ˆì • (ë°±ì—”ë“œ flask ì— ì§‘ì¤‘!)

### í´ë” êµ¬ì¡°ë¥¼ ë‹¤ìŒê³¼ ìƒì„±í•˜ê³ , login.html ìƒì„±

```
/login_test.py
/templates
    /login.html
```

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <form action="/login" method="get">
      <p>Enter Name:</p>
      <p><input type="text" name="user_name" /></p>
      <p><input type="submit" value="submit" /></p>
    </form>
  </body>
</html>
```

### flask ë¡œ ì •ì  ì›¹í˜ì´ì§€ ë¡œë“œí•˜ê¸° 
> í”„ë¡ íŠ¸ì—”ë“œ í˜ì´ì§€ë„ flask ë¡œ ë³´ì—¬ì¤„ ìˆ˜ ìˆìŒ

- flask render_template(HTMLíŒŒì¼ëª…): HTML íŒŒì¼ ì „ì†¡í•˜ê¸°
  - HTMLíŒŒì¼ì€ flask ê°€ ì‹¤í–‰ë˜ëŠ” í•˜ìœ„ í´ë”ì¸ templates í´ë” ì•ˆì— ìœ„ì¹˜í•´ì•¼ í•¨

```python
@app.route('/html_test')
def hello_html():
    # html fileì€ templates í´ë”ì— ìœ„ì¹˜í•´ì•¼ í•¨
    return render_template('login.html')
```

### login_test.py íŒŒì¼ ì—…ë°ì´íŠ¸
- flask ì˜ render_template í•¨ìˆ˜ ì¶”ê°€
- @app.route('html_test') ì¶”ê°€

```python
from flask import Flask, jsonify, request, render_template
app = Flask(__name__)


@app.route('/login')
def login():
    username = request.args.get('user_name')
    if username == 'dave':
        return_data = {'auth': 'success'}
    else:
        return_data = {'auth': 'failed'}
    return jsonify(return_data)


@app.route('/html_test')
def hello_html():
    # html fileì€ templates í´ë”ì— ìœ„ì¹˜í•´ì•¼ í•¨
    return render_template('login.html')


if __name__ == '__main__':
    app.run(host="0.0.0.0", port="8080")
```

<div class="alert alert-block" style="border: 1px solid #FFB300;background-color:#F9FBE7;">
<font size="3em" style="font-weight:bold;color:#3f8dbf;">ì‹¤ìŠµí•˜ê¸°</font><br>
login_test.py ì‹¤í–‰ í›„, http://localhost:8080/html_test ì›¹í˜ì´ì§€ ë¸Œë¼ìš°ì €ë¡œ ì˜¤í”ˆí•˜ê¸°
</div>

### bootstrap ê³¼ static_url_path
- 03_flask_bootstrap í´ë”

> ìˆ˜ì‹œë¡œ ì†ŒìŠ¤ê°€ ë‹¬ë¼ì§€ë¯€ë¡œ, í˜„ì¬ ì œê³µí•´ë“œë¦° ì†ŒìŠ¤ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì†ŒìŠ¤ê°€ ì–´ë–»ê²Œ êµ¬ì„±ë˜ì—ˆëŠ”ì§€ë§Œ ì„¤ëª…

### flask ë¡œ ì •ì  í˜ì´ì§€ ë¡œë“œì‹œ, ê²½ë¡œë¥¼ ì°¾ì§€ ëª»í•¨
- ê°€ì¥ í•©ë¦¬ì ì¸ ë°©ë²•ì€ static_url_path ë¥¼ flask ê°ì²´ ìƒì„±ì‹œ ì„ ì–¸í•´ì£¼ëŠ” ê²ƒì„
```
from flask import Flask, jsonify, request, render_template
app = Flask(__name__, static_url_path='/static')
```

- html ìƒì˜ ê²½ë¡œ ë³€ê²½
```html
<link rel="canonical" href="https://getbootstrap.com/docs/4.5/examples/sign-in/" />
<link href="/static/dist/css/bootstrap.min.css" rel="stylesheet" />
```



<div class="alert alert-block" style="border: 2px solid #1976D2;background-color:#E3F2FD;padding:5px;font-size:0.9em;">
ë³¸ ìë£ŒëŠ” ì €ì‘ê¶Œë²• ì œ25ì¡° 2í•­ì— ì˜í•´ ë³´í˜¸ë¥¼ ë°›ìŠµë‹ˆë‹¤. ë³¸ ìë£Œë¥¼ ì™¸ë¶€ì— ê³µê°œí•˜ì§€ ë§ì•„ì£¼ì„¸ìš”.<br>
ë³¸ ê°•ì˜ë§Œ ì˜ ì •ë¦¬í•˜ë©´, ë°ì´í„° ë¶„ì„, ë°ì´í„° ê³¼í•™, í’€ìŠ¤íƒ(ë°±ì—”ë“œ, í”„ë¡ íŠ¸ì—”ë“œ) ê°œë°œ ëª¨ë‘ ê°€ëŠ¥í•©ë‹ˆë‹¤!<br>
<b><a href="https://school.fun-coding.org/">ì”ì¬ë¯¸ì½”ë”©</a> ì—ì„œ ë³¸ ê°•ì˜ ê¸°ë°˜ ìµœì í™”ëœ ë¡œë“œë§µë„ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤</b></div>



# 5_flask_jinja2
<div class="alert alert-block" style="border: 2px solid #1976D2;background-color:#E3F2FD;padding:5px;font-size:0.9em;">
ë³¸ ìë£ŒëŠ” ì €ì‘ê¶Œë²• ì œ25ì¡° 2í•­ì— ì˜í•´ ë³´í˜¸ë¥¼ ë°›ìŠµë‹ˆë‹¤. ë³¸ ìë£Œë¥¼ ì™¸ë¶€ì— ê³µê°œí•˜ì§€ ë§ì•„ì£¼ì„¸ìš”.<br>
ë³¸ ê°•ì˜ë§Œ ì˜ ì •ë¦¬í•˜ë©´, ë°ì´í„° ë¶„ì„, ë°ì´í„° ê³¼í•™, í’€ìŠ¤íƒ(ë°±ì—”ë“œ, í”„ë¡ íŠ¸ì—”ë“œ) ê°œë°œ ëª¨ë‘ ê°€ëŠ¥í•©ë‹ˆë‹¤!<br>
<b><a href="https://school.fun-coding.org/">ì”ì¬ë¯¸ì½”ë”©</a> ì—ì„œ ë³¸ ê°•ì˜ ê¸°ë°˜ ìµœì í™”ëœ ë¡œë“œë§µë„ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤</b></div>

## 5. ì›¹í˜ì´ì§€(HTML)ë¥¼ íŒŒì´ì¬ flaskë¡œ ë§Œë“¤ê¸°

### Jinja2 í…œí”Œë¦¿
- ì›¹í˜ì´ì§€ì— í•„ìš”í•œ ë¶€ë¶„ì„ ë³€ê²½í•  í•„ìš”ê°€ ìˆì„ ë•Œ ì‚¬ìš©í•˜ëŠ” ê°„ë‹¨í•œ ë¬¸ë²•
- ì›¹í˜ì´ì§€ì—ì„œ íŒŒì´ì¬ í”„ë¡œê·¸ë˜ë°ì´ ê°€ëŠ¥
- ë¬¸ë²•ì´ë¯€ë¡œ ì„¸ì„¸í•œ ê¸°ëŠ¥ì´ ìˆì§€ë§Œ, ì²˜ìŒ ìµí ë•ŒëŠ” í•µì‹¬ì— ì§‘ì¤‘
- ë‹¤ìŒ ë‘ ê°€ì§€ ë¬¸ë²•ì´ í•µì‹¬

```python
{{ ë³€ìˆ˜ëª… }}

{% íŒŒì´ì¬ ì†ŒìŠ¤ì½”ë“œ %}
```

###  Jinja2 í…œí”Œë¦¿ ì—”ì§„
 - jinja2 í…œí”Œë¦¿ ì—”ì§„ì´ í•´ë‹¹ HTML ì½”ë“œë¥¼ í…œí”Œë¦¿ìœ¼ë¡œ ë§Œë“¤ê³ , í…œí”Œë¦¿ ì•ˆì— íŒŒì´ì¬ ì½”ë“œë¥¼ ì‹¤í–‰í•˜ì—¬, í…œí”Œë¦¿ì„ ì±„ìš´ í›„ ìµœì¢… HTML íŒŒì¼ ìƒì„±

### 5.1. ë³€ìˆ˜ (Jinja2 template ë¬¸ë²•)

### í´ë” êµ¬ì¡°

```
/variable_test.py
/templates
    /variable.html
```

### variable_html.py
- render_template() í•¨ìˆ˜ì— í…œí”Œë¦¿ ì½”ë“œì—ì„œ ì‚¬ìš©í•˜ëŠ” ë³€ìˆ˜ê°’ì„ ë„£ì–´ì„œ ë³´ë‚´ì¤˜ì•¼ í•¨


```python
from flask import Flask, render_template
app = Flask(__name__)

@app.route('/hello/<user>')
def hello_name(user):
   return render_template('variable.html', name=user)

if __name__ == '__main__':
    app.run(host="0.0.0.0", port="8080")
```

### variable.html
- ë³€ìˆ˜ê°’ì´ ì”Œì—¬ì§ˆ ê³³ì— ë‹¤ìŒê³¼ ê°™ì´ ì‘ì„±í•¨

```
{{ ë³€ìˆ˜ëª… }}
```

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <h1>Hello {{ name }}</h1>
  </body>
</html>
```

<div class="alert alert-block" style="border: 1px solid #FFB300;background-color:#F9FBE7;">
<font size="3em" style="font-weight:bold;color:#3f8dbf;">ì‹¤ìŠµí•˜ê¸°</font><br>
http://localhost:8080/hello/dave ë¡œ í…ŒìŠ¤íŠ¸í•´ë³´ê¸°
</div>

### 5.2. ë°˜ë³µë¬¸ (Jinja2 template ë¬¸ë²•)

### í´ë” êµ¬ì¡°

```
/loop_test.py
/templates
    /loop.html
```

### Jinja2 í…œí”Œë¦¿ì—ì„œì˜ ë°˜ë³µë¬¸ ë¬¸ë²•
- ê¸°ë³¸ ë¬¸ë²•: for ë¡œ ì„ ì–¸í•˜ê³ , endfor ë¡œ ëë‚˜ì•¼ í•¨

```
{% for %} {% endfor %} 
```

- ì˜ˆ:
  - ì¸ë´í…Œì´ì…˜(ë“¤ì—¬ì“°ê¸°)ëŠ” ì•ˆí•´ë„ ë¨   

```
{% for value in values %}
{{ value }}
{% endfor %}
```

### loop_test.py


```python
from flask import Flask, render_template
app = Flask(__name__)

@app.route('/hello_loop')
def hello_name():
    value_list = ['list1', 'list2', 'list3']
    return render_template('loop.html', values=value_list)

if __name__ == '__main__':
    app.run(host="0.0.0.0", port="8080")
```

### loop.html

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <ul>
      {% for value in values %}
      <li>{{ value }}</li>
      {% endfor %}
    </ul>
  </body>
</html>
```

<div class="alert alert-block" style="border: 1px solid #FFB300;background-color:#F9FBE7;">
<font size="3em" style="font-weight:bold;color:#3f8dbf;">ì‹¤ìŠµí•˜ê¸°</font><br>
http://localhost:8080/hello_loop ë¡œ í…ŒìŠ¤íŠ¸í•´ë³´ê¸°
</div>

### ë°˜ë³µë¬¸ ì¶”ê°€ ë¬¸ë²•
- range() : íŒŒì´ì¬ê³¼ ë™ì¼
  - for index in range(len(values)) ëŠ” ì •ìƒë™ì‘í•˜ì§€ ì•ŠìŒ
  
- len(values) : values | length ë¡œ ì‘ì„±í•´ì•¼ í•¨
- loop.index : ë°˜ë³µë¬¸ íšŸìˆ˜ë¥¼ ë°˜ë³µë¬¸ ì•ˆì—ì„œ ê°€ì ¸ì˜¬ ìˆ˜ ìˆìŒ
- value[index] : íŒŒì´ì¬ ë¦¬ìŠ¤íŠ¸ì™€ ë™ì¼



```html
    <ul>
      {% for index in range(values | length) %}
      <li>{{ values[index] }} {{ loop.index }}</li>
      {% endfor %}
    </ul>
```

### 5.3. ì¡°ê±´ë¬¸ (Jinja2 template ë¬¸ë²•)

### í´ë” êµ¬ì¡°

```
/condition_test.py
/templates
    /condition.html
```

### Jinja2 í…œí”Œë¦¿ì—ì„œì˜ ì¡°ê±´ë¬¸ ë¬¸ë²•
- ê¸°ë³¸ ë¬¸ë²•: if, elif, else, endif ë¡œ êµ¬ì„± ê°€ëŠ¥
  - ë‹¹ì—°íˆ elif, else ëŠ” ì¡°ê±´ì— ë”°ë¼ ì•ˆì¨ë„ ë¨
```
{% if %} {% elif %} {% else %} {% endif %} 
```

- ì˜ˆ:
  - ì¸ë´í…Œì´ì…˜(ë“¤ì—¬ì“°ê¸°)ëŠ” ì•ˆí•´ë„ ë¨   

```
    {% if data >= 30 %}
    <h3>30ë³´ë‹¤ í½ë‹ˆë‹¤.</h3>
    {% elif data > 25 %}
    <h3>25ë³´ë‹¤ í½ë‹ˆë‹¤.</h3>
    {% else %}
    <h3>{{ data }}</h3>
    {% endif %}
```

### condition_test.py


```python
from flask import Flask, render_template
app = Flask(__name__)

@app.route('/hello_if')
def hello_html():
    value = 27
    return render_template('condition.html', data=value)

if __name__ == "__main__":
    app.run(host="0.0.0.0", port="8080")
```

### condition.html

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    {% if data >= 30 %}
    <h3>30ë³´ë‹¤ í½ë‹ˆë‹¤.</h3>
    {% elif data > 25 %}
    <h3>25ë³´ë‹¤ í½ë‹ˆë‹¤.</h3>
    {% else %}
    <h3>{{ data }}</h3>
    {% endif %}
  </body>
</html>
```

<div class="alert alert-block" style="border: 1px solid #FFB300;background-color:#F9FBE7;">
<font size="3em" style="font-weight:bold;color:#3f8dbf;">ì‹¤ìŠµí•˜ê¸°</font><br>
http://localhost:8080/hello_if ë¡œ í…ŒìŠ¤íŠ¸í•´ë³´ê¸°
</div>

### 5.4. ì£¼ì„ (Jinja2 template ë¬¸ë²•)
- {# #} ìœ¼ë¡œ ì£¼ì„ í‘œì‹œ ê°€ëŠ¥
```
{# #} 
```

### condition.html ìˆ˜ì •

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    {% if data >= 30 %}
    <h3>30ë³´ë‹¤ í½ë‹ˆë‹¤.</h3>
    {% elif data > 25 %}
    <h3>25ë³´ë‹¤ í½ë‹ˆë‹¤.</h3>
    {# 
    {% else %}
    <h3>{{ data }}</h3>
    #} 
    {% endif %}
  </body>
</html>
```

<div class="alert alert-block" style="border: 1px solid #FFB300;background-color:#F9FBE7;">
<font size="3em" style="font-weight:bold;color:#3f8dbf;">ì‹¤ìŠµí•˜ê¸°</font><br>
http://localhost:8080/hello_if ë¡œ í…ŒìŠ¤íŠ¸í•´ë³´ê¸°
</div>

### 5.5. í¥ë¯¸ìˆëŠ” í…ŒìŠ¤íŠ¸: í¬ë¡¤ë§ ë°ì´í„°ë¥¼ ê·¸ëŒ€ë¡œ ë¿Œë ¤ë³´ë©´!


```python
from flask import Flask 
import requests

app = Flask(__name__)   

@app.route("/google")
def get_google():
    response = requests.get("http://www.google.co.kr")
    return response.text 

if __name__ == "__main__":
    app.run(host="0.0.0.0", port="8080")
```

     * Serving Flask app "__main__" (lazy loading)
     * Environment: production
    [31m   WARNING: This is a development server. Do not use it in a production deployment.[0m
    [2m   Use a production WSGI server instead.[0m
     * Debug mode: off
    

     * Running on http://0.0.0.0:8080/ (Press CTRL+C to quit)
    127.0.0.1 - - [11/Aug/2020 13:49:28] "[37mGET /google HTTP/1.1[0m" 200 -
    127.0.0.1 - - [11/Aug/2020 13:49:29] "[33mGET /images/branding/googlelogo/1x/googlelogo_white_background_color_272x92dp.png HTTP/1.1[0m" 404 -
    127.0.0.1 - - [11/Aug/2020 13:49:29] "[33mGET /textinputassistant/tia.png HTTP/1.1[0m" 404 -
    127.0.0.1 - - [11/Aug/2020 13:49:29] "[33mGET /client_204?&atyp=i&biw=1280&bih=601&ei=WCMyX4_mMcWo-Qbci5kw HTTP/1.1[0m" 404 -
    127.0.0.1 - - [11/Aug/2020 13:49:29] "[33mGET /images/nav_logo229.png HTTP/1.1[0m" 404 -
    127.0.0.1 - - [11/Aug/2020 13:49:29] "[33mGET /xjs/_/js/k=xjs.hp.en.8iDfQQEpWd0.O/m=sb_he,d/am=AJ5gcw/d=1/rs=ACT90oEyS-XCWHQjXp8ZwaF55L7rwkeVoA HTTP/1.1[0m" 404 -
    127.0.0.1 - - [11/Aug/2020 13:49:29] "[33mGET /images/nav_logo229.png HTTP/1.1[0m" 404 -
    

<div class="alert alert-block" style="border: 1px solid #FFB300;background-color:#F9FBE7;">
<font size="3em" style="font-weight:bold;color:#3f8dbf;">ì‹¤ìŠµí•˜ê¸°</font><br>
http://localhost:8080/google ë¡œ í…ŒìŠ¤íŠ¸í•´ë³´ê¸°
</div>

<div class="alert alert-block" style="border: 2px solid #1976D2;background-color:#E3F2FD;padding:5px;font-size:0.9em;">
ë³¸ ìë£ŒëŠ” ì €ì‘ê¶Œë²• ì œ25ì¡° 2í•­ì— ì˜í•´ ë³´í˜¸ë¥¼ ë°›ìŠµë‹ˆë‹¤. ë³¸ ìë£Œë¥¼ ì™¸ë¶€ì— ê³µê°œí•˜ì§€ ë§ì•„ì£¼ì„¸ìš”.<br>
ë³¸ ê°•ì˜ë§Œ ì˜ ì •ë¦¬í•˜ë©´, ë°ì´í„° ë¶„ì„, ë°ì´í„° ê³¼í•™, í’€ìŠ¤íƒ(ë°±ì—”ë“œ, í”„ë¡ íŠ¸ì—”ë“œ) ê°œë°œ ëª¨ë‘ ê°€ëŠ¥í•©ë‹ˆë‹¤!<br>
<b><a href="https://school.fun-coding.org/">ì”ì¬ë¯¸ì½”ë”©</a> ì—ì„œ ë³¸ ê°•ì˜ ê¸°ë°˜ ìµœì í™”ëœ ë¡œë“œë§µë„ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤</b></div>



# 6_flask_restapi_with_vue
<div class="alert alert-block" style="border: 2px solid #1976D2;background-color:#E3F2FD;padding:5px;font-size:0.9em;">
ë³¸ ìë£ŒëŠ” ì €ì‘ê¶Œë²• ì œ25ì¡° 2í•­ì— ì˜í•´ ë³´í˜¸ë¥¼ ë°›ìŠµë‹ˆë‹¤. ë³¸ ìë£Œë¥¼ ì™¸ë¶€ì— ê³µê°œí•˜ì§€ ë§ì•„ì£¼ì„¸ìš”.<br>
ë³¸ ê°•ì˜ë§Œ ì˜ ì •ë¦¬í•˜ë©´, ë°ì´í„° ë¶„ì„, ë°ì´í„° ê³¼í•™, í’€ìŠ¤íƒ(ë°±ì—”ë“œ, í”„ë¡ íŠ¸ì—”ë“œ) ê°œë°œ ëª¨ë‘ ê°€ëŠ¥í•©ë‹ˆë‹¤!<br>
<b><a href="https://school.fun-coding.org/">ì”ì¬ë¯¸ì½”ë”©</a> ì—ì„œ ë³¸ ê°•ì˜ ê¸°ë°˜ ìµœì í™”ëœ ë¡œë“œë§µë„ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤</b></div>

## 4. ì‹¤ì œ í”„ë¡ íŠ¸ì—”ë“œ(vue)ì™€ flask  ê¸°ë°˜ Rest API

### CDNì´ë€?
- CDN(Contents Delivery Network) ì€ ì§€ë¦¬ì , ë¬¼ë¦¬ì ìœ¼ë¡œ ë–¨ì–´ì ¸ ìˆëŠ” ì‚¬ìš©ìì—ê²Œ ì»¨í…ì¸  ì œê³µìì˜ ì»¨í…ì¸ ë¥¼ ë” ë¹ ë¥´ê²Œ ì œê³µí•  ìˆ˜ ìˆëŠ” ê¸°ìˆ ì„ ì˜ë¯¸
- ì‚¬ìš©ìê°€ ë©€ë¦¬ ìˆëŠ” ì„œë²„ë¡œë¶€í„° ì»¨í…ì¸ ë¥¼ ë‹¤ìš´ë¡œë“œ ë°›ìœ¼ë©´, ì‹œê°„ì´ ì˜¤ë˜ ê±¸ë¦¬ë¯€ë¡œ, ì‚¬ìš©ìì™€ ê°€ê¹Œìš´ ê³³ì— ìœ„ì¹˜í•œ Cache Serverì— í•´ë‹¹ ì»¨í…ì¸ ë¥¼ ì €ì¥í•´ë†“ê³ , ì»¨í…ì¸  ìš”ì²­ì‹œ, ì„œë²„ê°€ ì•„ë‹Œ,  Cache Serverê°€ ì‘ë‹µì„ ì£¼ëŠ” ê¸°ìˆ 
- ì˜ˆ: https://getbootstrap.com/docs/4.5/getting-started/introduction/

### í´ë” êµ¬ì„±
- vue í´ë”ì™€ flask í´ë” êµ¬ë¶„
- vue í´ë”ì— vue_test.html íŒŒì¼ ìƒì„±
  - https://getbootstrap.com/docs/4.5/getting-started/introduction/ ì—ì„œ ë‹¤ìŒ í…œí”Œë¦¿ ì½”ë“œ ë³µì‚¬

```html
<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">

    <title>Hello, world!</title>
  </head>
  <body>
    <h1>Hello, world!</h1>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
  </body>
</html>
```


> CDN í™œìš©ë²•: ì£¼ìš” javascript, css íŒŒì¼ì„ ì„œë²„ì— ë†“ì§€ ì•Šê³ , íŠ¹ì • ì£¼ì†Œë¥¼ í†µí•´ ì›¹í˜ì´ì§€ ì˜¤í”ˆì‹œ ìë™ìœ¼ë¡œ ë‹¤ìš´ë¡œë“œë˜ë„ë¡ í•˜ëŠ” ë°©ë²•

### Vue ì½”ë“œ ì¶”ê°€
1. ```<body>``` íƒœê·¸ ì•ˆì— ```<div id="app"></div>``` ë¡œ í‘œì‹œë  ë¶€ë¶„ì„ ê°ì‹¸ê¸°
2. ```</body>``` ë°”ë¡œ ìœ„ì— vue íŒŒì¼ì„ CDN ì£¼ì†Œë¡œ ì—°ê²°

```html
<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">

    <title>Hello, world!</title>
  </head>
  <body>
    <div id="app">      
    <h1>Hello, world!</h1>
    </div>
    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>

    <!-- Vue Start -->
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
  </body>
</html>
```

### Vue + Axios ì½”ë“œ ì¶”ê°€
- axios ë¡œ flask Rest API í˜¸ì¶œ

- bootstrap ìœ¼ë¡œ ë²„íŠ¼ ì¶”ê°€

```html
      <button type="submit" class="btn btn-secondary" v-on:click="axios_test">
        GET TEST
      </button>

```

```html
    <script>
      const app = new Vue({
        el: "#app",
        methods: {
          axios_test() {
            axios("http://localhost:8082/test", {
              method: "get",
            })
              .then((response) => {
                console.log(response);
              })
              .catch((error) => {
                console.log(error);
              });
          },
        },
      });
    </script>
```

### 3. CORS(Cross Origin Resource Sharing)

- ì›¹ì—ì„œ ì‚¬ìš©í•˜ëŠ” HTTP requestëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ë‹¤ë¥¸ ë„ë©”ì¸ì˜ ë°ì´í„°ë¥¼ ìš”ì²­í•  ìˆ˜ ìˆìŒ
  - ì˜ˆ:
    - ë‚´ê°€ ì ‘ì†í•œ ì›¹í˜ì´ì§€: www.fun-coding.org/index.html
    - í•´ë‹¹ ì›¹í˜ì´ì§€ ì•ˆì—ì„œ `<img>` íƒœê·¸ë¡œ www.kkk.co.kr/google.jpg íŒŒì¼ì„ ê°€ì ¸ì™€ì„œ ì´ë¯¸ì§€ë¡œ ë³´ì—¬ì¤„ ìˆ˜ ìˆìŒ
    - í•´ë‹¹ ì›¹í˜ì´ì§€ ì•ˆì—ì„œ `<link>` íƒœê·¸ë¡œ www.kkk.co.kr/style.css íŒŒì¼ì„ ê°€ì ¸ì™€ì„œ CSS ìŠ¤íƒ€ì¼ì„ ì ìš©í•  ìˆ˜ ìˆìŒ
    - **í•˜ì§€ë§Œ! ë‹¤ìŒ ìŠ¤í¬ë¦½íŠ¸ íƒœê·¸ë¡œ ë‘˜ëŸ¬ì‹¸ì¸ ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œì—ì„œ ì‹¤í–‰ë˜ëŠ” HTTP request ëŠ” www.fun-coding.org ì—ë§Œ ìš”ì²­í•  ìˆ˜ ìˆìŒ**
      - `<script></script>`
      - ì •í™•í•˜ê²ŒëŠ” í”„ë¡œí† ì½œ, í˜¸ìŠ¤íŠ¸ëª…, í¬íŠ¸ê°€ ë™ì¼í•´ì•¼ í•¨
      - ì´ë¥¼ **Same Origin Policy** ë¼ê³  í•¨
      
> ajax, axios ì™€ ê°™ì´ `<script></script>` ì•ˆì—ì„œ HTTP request ë¥¼ ë³´ë‚¼ ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì´ ìƒê¹€ì— ë”°ë¼, 
> `<script></script>` ì•ˆì—ì„œë„ ë‹¤ë¥¸ ì‚¬ì´íŠ¸ì˜ ë°ì´í„° ìš”ì²­ì„ ì§€ì›í•´ì•¼ í•œë‹¤ë¼ëŠ” ìš”êµ¬ê°€ ìƒê²¨ì„œ CORS ë¼ëŠ” ê°€ì´ë“œê°€ ë§ˆë ¨ë¨ (ê° ì–¸ì–´ë³„ êµ¬í˜„)

#### Error
- HTTP Response ì˜ í—¤ë”ì— Access-Control-Allow-Origin ê´€ë ¨ ì •ë³´ê°€ ì—†ìœ¼ë¯€ë¡œ ë¸Œë¼ìš°ì € ì •ì±…ì— ë”°ë¼ Cross Domain ì„ í—ˆìš©í•˜ì§€ ì•ŠìŒ
```text
Access to XMLHttpRequest at 'http://localhost:5000/payment/verify' from origin 'null' has been blocked by CORS policy: Response to preflight request doesn't pass access control check: No 'Access-Control-Allow-Origin' header is present on the requested resource.
```

### CORS ì§€ì›
- flask_cors ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš©

```bash
pip install flask_cors
```

#### ì „ì²´ flask ì„œë¹„ìŠ¤ì— CORS ì§€ì›ì‹œ


```python
from flask_cors import CORS

app = Flask(__name__)
CORS(app) # ì´ì™€ ê°™ì´ ì„ ì–¸í•´ì£¼ë©´ ì „ ìš”ì²­/ì‘ë‹µ í—¤ë”ì— CORS ì§€ì› í—¤ë” ì •ë³´ë¥¼ ë„£ì–´ì„œ, CORS ë¥¼ ì§€ì›í•´ì¤Œ
```

###  REST API êµ¬í˜„í•´ë³´ê¸°
 - íŠ¹ì •í•œ URIë¥¼ ìš”ì²­í•˜ë©´ JSON í˜•ì‹ìœ¼ë¡œ íŒŒë¼ë¯¸í„°ê°’ì„ ê°€ì ¸ì˜¤ê³ , JSON í˜•ì‹ìœ¼ë¡œ ë°ì´í„°ë¥¼ ë°˜í™˜í•˜ë„ë¡ ë§Œë“¤ë©´ ë¨
 - flaskì—ì„œëŠ” dict(ì‚¬ì „) ë°ì´í„°ë¥¼ ì‘ë‹µ ë°ì´í„°ë¡œ ë§Œë“¤ê³ , ì´ë¥¼ jsonify() ë©”ì„œë“œë¥¼ í™œìš©í•´ì„œ JSON ì‘ë‹µ ë°ì´í„°ë¡œ ë§Œë“¤ ìˆ˜ ìˆìŒ

### REST API method ì •ì˜í•˜ê¸°
- flask API ì •ì˜ì‹œ, methods ì— ì§€ì›í•˜ëŠ” request method ë¥¼ ì‘ì„±í•˜ë©´ ë¨
  - ê° ìš”ì²­ ë©”ì„œë“œë§ˆë‹¤ ìš”ì²­ ë©”ì„œë“œì— í•¨ê»˜ ì˜¤ëŠ” íŒŒë¼ë¯¸í„°ê°’ì„ ì¶”ì¶œí•˜ëŠ” ë°©ì‹ì´ ë‹¤ë¦„ 
    - GET/PUT/DELETE ëŠ” ë™ì¼, POST ë§Œ ë‹¤ë¦„
- API ë¦¬í„´ê°’ì€ flask ì˜ jsonify() í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•´ì„œ, JSON í˜•ì‹ìœ¼ë¡œ ë¦¬í„´ê°’ì„ ë„£ì–´ì„œ ë³´ë‚´ë©´ ë¨

```python
@app.route("/test", methods=['GET', 'POST', 'PUT', 'DELETE'])
def test():
    if request.method == 'POST':
        print ('POST')
        data = request.get_json()
        print (data['email'])
    if request.method == 'GET':
        print ('GET')
        user = request.args.get('email')
        print (user)
    if request.method == 'PUT':
        print ('PUT')
        user = request.args.get('email')
        print (user)
    if request.method == 'DELETE':
        print ('DELETE')
        user = request.args.get('email')
        print (user)

    return jsonify(
        {'status': 'success'}
    )
```

### axios (frontend) ì—ì„œ ê° ìš”ì²­ ë©”ì„œë“œì™€ íŒŒë¼ë¯¸í„°ê°’ ì „ë‹¬í•˜ê¸°

- vue template ì—ì„œ ê° ë²„íŠ¼ í´ë¦­ì‹œ, ê° ë²„íŠ¼ì— ì—°ê²°ëœ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ëŠ” ì½”ë“œ

```html
    <button type="submit" class="btn btn-secondary" v-on:click="test_get">GET TEST</button>
    <button type="submit" class="btn btn-secondary" v-on:click="test_post">POST TEST</button>
    <button type="submit" class="btn btn-secondary" v-on:click="test_put">PUT TEST</button>
    <button type="submit" class="btn btn-secondary" v-on:click="test_delete">DELETE TEST</button>
```

- vue ì—ì„œ axios ë¡œ HTTPë¥¼ ìš”ì²­í•˜ëŠ” ì½”ë“œ
  - HTTP ìš”ì²­ ë©”ì„œë“œëŠ” method: ì— ë„£ìœ¼ë©´ ë¨
  - GET, PUT, DELETE ëŠ” params ì— ë°ì´í„°ë¥¼ JSON í˜•ì‹ìœ¼ë¡œ ë„£ìœ¼ë©´ ë¨
  - POST ëŠ” data ì— ë°ì´í„°ë¥¼ JSON í˜•ì‹ìœ¼ë¡œ ë„£ìœ¼ë©´ ë¨

- flask ì˜ jsonify() í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•´ì„œ, JSON í˜•ì‹ìœ¼ë¡œ ë¦¬í„´ëœ ë¦¬í„´ê°’ì€ response.data ì— ë‹´ê²¨ì ¸ ìˆìœ¼ë¯€ë¡œ, í•´ë‹¹ ë°ì´í„°ë¥¼ JSON ë°ì´í„°ë¥¼ êº¼ë‚´ë“¯ì´ ì¶”ì¶œí•˜ë©´ ë¨

```javascript
          test_get: () => {
            axios("http://localhost:5000/test", {
              method: "get",
              params: {
                email: "test@test.com",
              }
            })
              .then((response) => {
                console.log(response.data['status']);
              })
              .catch((error) => {
                console.log(error);
              });
          },
          test_post: () => {
            axios("http://localhost:5000/test", {
              method: "post",
              data: {
                email: "test@test.com",
              }
            })
              .then((response) => {
                console.log(response.data["status"]);
              })
              .catch((error) => {
                console.log(error);
              });
          },
          test_put: () => {
            axios("http://localhost:5000/test", {
              method: "put",
              params: {
                email: "test@test.com",
              }
            })
              .then((response) => {
                console.log(response.data["status"]);
              })
              .catch((error) => {
                console.log(error);
              });
          },
          test_delete: () => {
            axios("http://localhost:5000/test", {
              method: "delete",
              params: {
                email: "test@test.com",
              }
            })
              .then((response) => {
                console.log(response.data["status"]);
              })
              .catch((error) => {
                console.log(error);
              });
          }
```

### HTTP ìš”ì²­ ë©”ì„œë“œ (request method)
- í´ë¼ì´ì–¸íŠ¸(client)ê°€ ì„œë²„(server)ì— HTTP ìš”ì²­ì‹œ ìš”ì²­ ëª©ì ì„ ì•Œë¦¬ëŠ” í‘œì‹œ
- í¬ê²Œ GET, POST, PUT, DELETE ë°©ì‹ì´ ìˆìœ¼ë©°, ì´ ì¤‘ì—ì„œ GET ê³¼ POST ë°©ì‹ì„ ë§ì´ ì‚¬ìš©í•¨
- ìš”ì²­ ë©”ì„œë“œì— ë”°ë¼ ìš”ì²­ ë°ì´í„°ë¥¼ ì „ë‹¬í•˜ëŠ” ë°©ì‹ì— ì°¨ì´ê°€ ìˆìŒ

### ì£¼ìš” Request Method in HTML
- HTML ì—ì„œëŠ” GET ê³¼ POST ë§Œ ì§€ì›í•¨

- GET: ì •ë³´ ì½ê¸°(SELECT)
  - ì „ë‹¬ì´ í•„ìš”í•œ íŒŒë¼ë¯¸í„°ë“¤ì€ URLì„ í†µí•´ ì „ë‹¬
<center><img src="https://www.fun-coding.org/00_Images/http_method_get.png"/></center>

- POST: ì •ë³´ ì…ë ¥í•˜ê¸°(INSERT)
  - ì „ë‹¬ì´ í•„ìš”í•œ íŒŒë¼ë¯¸í„°ë“¤ì€ HTTP bodyì— í¬í•¨ë˜ì–´ ì „ë‹¬ë˜ë¯€ë¡œ, ì‚¬ìš©ìëŠ” ì§ì ‘ì ì¸ í™•ì¸ ë¶ˆê°€
<center><img src="https://www.fun-coding.org/00_Images/http_method_post.png"/></center>

- PUT: ì •ë³´ ìˆ˜ì •í•˜ê¸°(UPDATE), DELETE: ì •ë³´ ì‚­ì œí•˜ê¸°(DELETE)
  - GET ê³¼ ë§ˆì°¬ê°€ì§€ë¡œ íŒŒë¼ë¯¸í„°ë“¤ì´ URLì„ í†µí•´ ì „ë‹¬

> ì‚¬ì‹¤ìƒ GET ë˜ëŠ” POST ë°©ì‹ì„ ë§ì´ ì‚¬ìš©í•˜ë©°, POST ë°©ì‹ì´ íŒŒë¼ë¯¸í„° ì •ë³´ë¥¼ ë…¸ì¶œí•˜ì§€ ì•Šìœ¼ë¯€ë¡œ POST ë°©ì‹ì„ ì„ í˜¸ <br>
> ë‹¨, ìš”ì²­ ê¸°ëŠ¥ì— ë”°ë¼ GET, POST, PUT, DELETE HTTP ë©”ì„œë“œë¥¼ ì“°ëŠ” ê²ƒì„ ê¶Œì¥í•˜ê³ ëŠ” ìˆìŒ ('Restful í•˜ë‹¤' ë¼ê³  ì´ì•¼ê¸°í•¨)


<div class="alert alert-block" style="border: 2px solid #1976D2;background-color:#E3F2FD;padding:5px;font-size:0.9em;">
ë³¸ ìë£ŒëŠ” ì €ì‘ê¶Œë²• ì œ25ì¡° 2í•­ì— ì˜í•´ ë³´í˜¸ë¥¼ ë°›ìŠµë‹ˆë‹¤. ë³¸ ìë£Œë¥¼ ì™¸ë¶€ì— ê³µê°œí•˜ì§€ ë§ì•„ì£¼ì„¸ìš”.<br>
ë³¸ ê°•ì˜ë§Œ ì˜ ì •ë¦¬í•˜ë©´, ë°ì´í„° ë¶„ì„, ë°ì´í„° ê³¼í•™, í’€ìŠ¤íƒ(ë°±ì—”ë“œ, í”„ë¡ íŠ¸ì—”ë“œ) ê°œë°œ ëª¨ë‘ ê°€ëŠ¥í•©ë‹ˆë‹¤!<br>
<b><a href="https://school.fun-coding.org/">ì”ì¬ë¯¸ì½”ë”©</a> ì—ì„œ ë³¸ ê°•ì˜ ê¸°ë°˜ ìµœì í™”ëœ ë¡œë“œë§µë„ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤</b></div>



# 7_flask_others
<div class="alert alert-block" style="border: 2px solid #1976D2;background-color:#E3F2FD;padding:5px;font-size:0.9em;">
ë³¸ ìë£ŒëŠ” ì €ì‘ê¶Œë²• ì œ25ì¡° 2í•­ì— ì˜í•´ ë³´í˜¸ë¥¼ ë°›ìŠµë‹ˆë‹¤. ë³¸ ìë£Œë¥¼ ì™¸ë¶€ì— ê³µê°œí•˜ì§€ ë§ì•„ì£¼ì„¸ìš”.<br>
ë³¸ ê°•ì˜ë§Œ ì˜ ì •ë¦¬í•˜ë©´, ë°ì´í„° ë¶„ì„, ë°ì´í„° ê³¼í•™, í’€ìŠ¤íƒ(ë°±ì—”ë“œ, í”„ë¡ íŠ¸ì—”ë“œ) ê°œë°œ ëª¨ë‘ ê°€ëŠ¥í•©ë‹ˆë‹¤!<br>
<b><a href="https://school.fun-coding.org/">ì”ì¬ë¯¸ì½”ë”©</a> ì—ì„œ ë³¸ ê°•ì˜ ê¸°ë°˜ ìµœì í™”ëœ ë¡œë“œë§µë„ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤</b></div>

## 6. flask ë‹¤ì–‘í•œ ê¸°ëŠ¥

### 6.1. ì—ëŸ¬(error) ë‹¤ë£¨ê¸°

* errorhandlerë¥¼ ì‚¬ìš©í•˜ì—¬ HTTP ì˜¤ë¥˜ ì½”ë“œê°€ ë‚˜ì˜¤ëŠ” í˜ì´ì§€ë¥¼ ì •ì˜í•  ìˆ˜ ìˆìŒ
  - return ì˜ ë‘ë²ˆì§¸ ì¸ìë¡œ ì—ëŸ¬ì½”ë“œë¥¼ ë„˜ê²¨ì£¼ì§€ ì•Šìœ¼ë©´ 200 ì„±ê³µìœ¼ë¡œ ì¸ì§€í•¨
  
> HTTP ì‘ë‹µì½”ë“œì™€ í”„ë¡œí† ì½œì— ëŒ€í•´ì„œëŠ” ë³„ë„ ì±•í„°ì—ì„œ ì„¤ëª…


```python
@app.errorhandler(404)  # ì—†ëŠ” í˜ì´ì§€ë¥¼ ìš”ì²­í–ˆì„ ë•Œì˜ ì—ëŸ¬
def page_not_found(error):
    return "<h1>404 Error</h1>", 404
```


```python
from flask import Flask 
import requests

app = Flask(__name__)   

@app.errorhandler(404)
def page_not_found(error):
    return "<h1>404 Error</h1>", 404

@app.route("/google")
def get_google():
    response = requests.get("http://www.google.co.kr")
    return response.text 

if __name__ == "__main__":
    app.run(host="0.0.0.0", port="8080")
```

### 6.2. ë¡œê¹…(logging) ë‹¤ë£¨ê¸°
- ì„œë²„ëŠ” 24ì‹œê°„ ë™ì‘í•˜ë¯€ë¡œ, ë¬¸ì œê°€ ìˆì„ ë•Œ, ì–´ë–¤ ë¬¸ì œê°€ ìˆì—ˆëŠ”ì§€, íŒŒì•…í•˜ê¸° ìœ„í•´ ë¡œê¹… ê¸°ëŠ¥ì„ ì‚¬ìš©í•¨
- ì‚¬ìš©ì ëª¨ë‹ˆí„°ë§, í•´í‚¹ í™•ì¸ë“± ë‹¤ì–‘í•œ ìƒìš©í™”ì‹œ ë¬¸ì œì— ëŒ€í•´ì„œë„ ë¡œê¹… ê¸°ëŠ¥ì„ í™œìš©í•  ìˆ˜ ìˆìŒ

> ë¡œê¹…ì€ ê°œë°œ ë‹¨ê³„ì—ì„œëŠ” í¬ê²Œ í•„ìš”í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ, ê°€ë³ê²Œ ì°¸ê³ ë¡œë§Œ ì•Œì•„ë‘  <br>
> ì¶”í›„ ìƒìš©í™” ë‹¨ê³„ì—ì„œ ì¶”ê°€ ê¸°ëŠ¥ì„ ë„£ì–´ì„œ êµ¬í˜„ ì˜ˆì •

### ê°„ë‹¨í•œ logging ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš©ë²•

- íŒŒì´ì¬ì—ëŠ” ë¡œê·¸ë¥¼ ë‹¤ë£¨ëŠ” logging ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ìˆìŒ
- ë¡œë”© ì •ë³´ëŠ” ë ˆë²¨ì´ ìˆìŒ
- ë¡œê¹… ì •ë³´ëŠ” ë¡œê·¸ì˜ ë ˆë²¨ì— ë”°ë¼ì„œ ì¶œë ¥ì„ ì œí•œ í•  ìˆ˜ ìˆìŒ
  - DEBUG > INFO > WARNING > ERROR > Critical


```python
import logging
# íŒŒì¼ë¡œ ë‚¨ê¸°ê¸° ìœ„í•´ì„œëŠ” filename='test.log' íŒŒë¼ë¯¸í„°, ì–´ëŠ ë¡œê·¸ê¹Œì§€ ë‚¨ê¸¸ ê²ƒì¸ì§€ë¥¼ level ë¡œ ì„¤ì • ê°€ëŠ¥
logging.basicConfig(filename='test.log', level=logging.ERROR)

# ë¡œê·¸ë¥¼ ë‚¨ê¸¸ ë¶€ë¶„ì— ë‹¤ìŒê³¼ ê°™ì´ ë¡œê·¸ ë ˆë²¨ì— ë§ì¶”ì–´ ì¶œë ¥í•´ì£¼ë©´ í•´ë‹¹ ë‚´ìš©ì´ íŒŒì¼ì— ë“¤ì–´ê°
logging.debug("debug")
logging.info("info")
logging.warning("warning")
logging.error("error")
logging.critical("critical")
```

### flask ì™€ logging
- logging ë¼ì´ë¸ŒëŸ¬ë¦¬ì™€ í•¨ê»˜ flask logging ê¸°ëŠ¥ ì‚¬ìš© ê°€ëŠ¥
- ì£¼ìš” logging í•¸ë“¤ëŸ¬ (ì–´ë–»ê²Œ ë¡œê·¸ë¥¼ ë‹¤ë£° ê²ƒì¸ì§€ì— ëŒ€í•´ ë¯¸ë¦¬ êµ¬í˜„ëœ í•¨ìˆ˜ë“¤ì„ ì œê³µ)
  - FileHandler - íŒŒì¼ë¡œ ë¡œê·¸ë¥¼ ì €ì¥
  - RotatingFileHandler - íŒŒì¼ë¡œ ë¡œê·¸ë¥¼ ì €ì¥í•˜ë˜, íŒŒì¼ì´ ì •í•´ì§„ ì‚¬ì´ì¦ˆë¥¼ ë„˜ì–´ê°€ë©´, ìƒˆë¡œìš´ íŒŒì¼ë¡œ ìƒì„±
    - maxBytes=í•˜ë‚˜ì˜íŒŒì¼ì‚¬ì´ì¦ˆ, backupCount=íŒŒì¼ê°¯ìˆ˜
    - ì „ì²´ íŒŒì¼ì„ ë‹¤ ì“°ë©´, ë‹¤ì‹œ ì²˜ìŒë¶€í„° ì”€
  - NTEventLogHandler - ìœˆë„ìš° ì‹œìŠ¤í…œ ë¡œê·¸ë¡œ ë‚¨ê¹€
  - SysLogHandler - ìœ ë‹‰ìŠ¤ ê³„ì—´ ì‹œìŠ¤í…œì˜ syslog ë¡œ ë‚¨ê¹€

> ì„œë²„ ìƒì—ì„œëŠ” ë¡œê·¸ íŒŒì¼ì´ ì „ì²´ ë””ìŠ¤í¬ë¥¼ ì±„ìš¸ ê²½ìš°, ë¹„ì •ìƒë™ì‘ì„ í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ RotatingFileHandler ê°€ ì¼ë°˜ì ì¸ ê²½ìš°ì—ëŠ” ì í•© 

- ë‹¤ìŒê³¼ ê°™ì´ ì‘ì„±í•´ì„œ ë¡œê·¸ë¡œ ë‚¨ê¸¸ì§€ ì—¬ë¶€ë¥¼ ì„¤ì • ê°€ëŠ¥

```python
import logging
from logging.handlers import RotatingFileHandler # logging í•¸ë“¤ëŸ¬ ì´ë¦„ì„ ì ì–´ì¤Œ

app.debug = True
if app.debug:
    file_handler = RotatingFileHandler('dave_server.log', maxBytes=2000, backupCount=10) 
    file_handler.setLevel(logging.WARNING) # ì–´ëŠ ë‹¨ê³„ê¹Œì§€ ë¡œê¹…ì„ í• ì§€ë¥¼ ì ì–´ì¤Œ
    app.logger.addHandler(file_handler) # app.logger.addHandler() ì— ë“±ë¡ì‹œì¼œì¤˜ì•¼ app.logger ë¡œ ì‚¬ìš© ê°€ëŠ¥
```

### @app.errorhandler ì™€ HTTP ìƒíƒœ ì½”ë“œ (ìš”ì•½ ë¦¬ìŠ¤íŠ¸)

* **ê°€ì¥ ì¼ë°˜ì ì¸ ì‚¬ìš©ë²•:** `@app.errorhandler()`ì— **HTTP ìƒíƒœ ì½”ë“œ(ì •ìˆ˜)**ë¥¼ ì¸ìë¡œ ì „ë‹¬í•©ë‹ˆë‹¤.
* **ëª©ì :** íŠ¹ì • HTTP ì˜¤ë¥˜ ë°œìƒ ì‹œ ì‹¤í–‰ë  í•¨ìˆ˜ë¥¼ ì§€ì •í•©ë‹ˆë‹¤.
* **ì£¼ìš” ì˜ˆì‹œ:**
    * `@app.errorhandler(404)`: í˜ì´ì§€ ì°¾ì„ ìˆ˜ ì—†ìŒ (Not Found)
    * `@app.errorhandler(500)`: ì„œë²„ ë‚´ë¶€ ì˜¤ë¥˜ (Internal Server Error)
    * `@app.errorhandler(403)`: ì ‘ê·¼ ê¶Œí•œ ì—†ìŒ (Forbidden)
    * `@app.errorhandler(400)`: ì˜ëª»ëœ ìš”ì²­ (Bad Request)


```python
from flask import Flask 
import logging
from logging.handlers import RotatingFileHandler # logging í•¸ë“¤ëŸ¬ ì´ë¦„ì„ ì ì–´ì¤Œ

app = Flask(__name__)

app.debug = True
if app.debug:
    file_handler = RotatingFileHandler('dave_server.log', maxBytes=2000, backupCount=10) 
    file_handler.setLevel(logging.WARNING) # ì–´ëŠ ë‹¨ê³„ê¹Œì§€ ë¡œê¹…ì„ í• ì§€ë¥¼ ì ì–´ì¤Œ
    app.logger.addHandler(file_handler) # app.logger.addHandler() ì— ë“±ë¡ì‹œì¼œì¤˜ì•¼ app.logger ë¡œ ì‚¬ìš© ê°€ëŠ¥

@app.errorhandler(404)
def page_not_found(error):
    app.logger.error(error)
    return "<h1>404 Error</h1>", 404

if __name__ == "__main__":
    app.run(host="0.0.0.0", port="8080")
```

<div class="alert alert-block" style="border: 1px solid #FFB300;background-color:#F9FBE7;">
<font size="3em" style="font-weight:bold;color:#3f8dbf;">ì‹¤ìŠµí•˜ê¸°</font><br>
http://localhost:8080/test ë¡œ í…ŒìŠ¤íŠ¸í•´ë³´ê¸°
</div>

### 6.3. ë‹¤ì–‘í•œ ë°ì½”ë ˆì´í„°
* before_request : HTTP ìš”ì²­ì´ ë“¤ì–´ì˜¬ ë•Œë§ˆë‹¤ ì‹¤í–‰
  - before_requestëŠ” ì¸ìë¥¼ ì „ë‹¬í•  ìˆ˜ëŠ” ì—†ìŒ
* after_request : HTTP ìš”ì²­ ì²˜ë¦¬ê°€ ëë‚˜ê³  ë¸Œë¼ìš°ì €ì— ì‘ë‹µí•˜ê¸° ì „ì— ì‹¤í–‰
  - response ë¥¼ ì¸ìë¡œ ë°›ì•„ì•¼ í•˜ê³ , response ë¥¼ ë¦¬í„´í•´ì•¼ í•¨


```python
from flask import Flask, request

app = Flask(__name__)

# ì²« ë²ˆì§¸ ìš”ì²­ ì—¬ë¶€ë¥¼ ì¶”ì í•˜ê¸° ìœ„í•œ ì „ì—­ ë³€ìˆ˜
initialized = False

# ì²« ë²ˆì§¸ ìš”ì²­ ì „ì— ì‹¤í–‰ë  í•¨ìˆ˜
def before_first_request():
    print("flask ì‹¤í–‰ í›„ ì²« ìš”ì²­ ë•Œë§Œ ì‹¤í–‰")

# ëª¨ë“  ìš”ì²­ ì „ì— ì‹¤í–‰ë  í•¨ìˆ˜
@app.before_request
def before_request():
    global initialized
    if not initialized:
        before_first_request()
        initialized = True
    print("HTTP ìš”ì²­ì´ ë“¤ì–´ì˜¬ ë•Œë§ˆë‹¤ ì‹¤í–‰")

# ëª¨ë“  ìš”ì²­ í›„ì— ì‹¤í–‰ë  í•¨ìˆ˜
@app.after_request
def after_request(response):
    print("HTTP ìš”ì²­ ì²˜ë¦¬ê°€ ëë‚˜ê³  ë¸Œë¼ìš°ì €ì— ì‘ë‹µí•˜ê¸° ì „ì— ì‹¤í–‰")
    return response

@app.route("/hello")
def hello():
    return "<h1>Hello Flask!</h1>"

if __name__ == "__main__":
    app.run(host="0.0.0.0", port=8080)
```

<div class="alert alert-block" style="border: 2px solid #1976D2;background-color:#E3F2FD;padding:5px;font-size:0.9em;">
ë³¸ ìë£ŒëŠ” ì €ì‘ê¶Œë²• ì œ25ì¡° 2í•­ì— ì˜í•´ ë³´í˜¸ë¥¼ ë°›ìŠµë‹ˆë‹¤. ë³¸ ìë£Œë¥¼ ì™¸ë¶€ì— ê³µê°œí•˜ì§€ ë§ì•„ì£¼ì„¸ìš”.<br>
ë³¸ ê°•ì˜ë§Œ ì˜ ì •ë¦¬í•˜ë©´, ë°ì´í„° ë¶„ì„, ë°ì´í„° ê³¼í•™, í’€ìŠ¤íƒ(ë°±ì—”ë“œ, í”„ë¡ íŠ¸ì—”ë“œ) ê°œë°œ ëª¨ë‘ ê°€ëŠ¥í•©ë‹ˆë‹¤!<br>
<b><a href="https://school.fun-coding.org/">ì”ì¬ë¯¸ì½”ë”©</a> ì—ì„œ ë³¸ ê°•ì˜ ê¸°ë°˜ ìµœì í™”ëœ ë¡œë“œë§µë„ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤</b></div>



# 8_flask_blog_start
<div class="alert alert-block" style="border: 2px solid #1976D2;background-color:#E3F2FD;padding:5px;font-size:0.9em;">
ë³¸ ìë£ŒëŠ” ì €ì‘ê¶Œë²• ì œ25ì¡° 2í•­ì— ì˜í•´ ë³´í˜¸ë¥¼ ë°›ìŠµë‹ˆë‹¤. ë³¸ ìë£Œë¥¼ ì™¸ë¶€ì— ê³µê°œí•˜ì§€ ë§ì•„ì£¼ì„¸ìš”.<br>
ë³¸ ê°•ì˜ë§Œ ì˜ ì •ë¦¬í•˜ë©´, ë°ì´í„° ë¶„ì„, ë°ì´í„° ê³¼í•™, í’€ìŠ¤íƒ(ë°±ì—”ë“œ, í”„ë¡ íŠ¸ì—”ë“œ) ê°œë°œ ëª¨ë‘ ê°€ëŠ¥í•©ë‹ˆë‹¤!<br>
<b><a href="https://school.fun-coding.org/">ì”ì¬ë¯¸ì½”ë”©</a> ì—ì„œ ë³¸ ê°•ì˜ ê¸°ë°˜ ìµœì í™”ëœ ë¡œë“œë§µë„ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤</b></div>

## 7. í•µì‹¬ ê¸°ëŠ¥ì„ ê°€ì§„ ì›¹ì„œë¹„ìŠ¤ êµ¬í˜„

<div class="alert alert-block" style="border: 1px solid #FFB300;background-color:#F9FBE7;">
<font size="3em" style="font-weight:bold;color:#3f8dbf;">ì§€ê¸ˆê¹Œì§€ ìµíŒ flask ê¸°ìˆ  ê¸°ë°˜ìœ¼ë¡œë„ í’€ìŠ¤íƒ ì›¹ì„œë¹„ìŠ¤ êµ¬í˜„ ê°€ëŠ¥</font><br>
- flask ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë°±ì—”ë“œ/í”„ë¡ íŠ¸ì—”ë“œ êµ¬í˜„ <br>
- HTML/CSS ë“± í”„ë¡ íŠ¸ì—”ë“œ ìš”ì†ŒëŠ” ë¶€íŠ¸ìŠ¤íŠ¸ë© UI í”„ë ˆì„ì›Œí¬ì˜ ì˜ˆì œë¥¼ ê°„ë‹¨íˆ ìˆ˜ì •ë§Œ í•´ì„œ ì‚¬ìš© <br>
  - ë°±ì—”ë“œë¥¼ ìµíˆëŠ” ê°•ì¢Œì´ë¯€ë¡œ, ê´€ë ¨ ë¶€ë¶„ì— ëŒ€í•´ì„œëŠ” ëª¨ë¥¸ë‹¤ê³  ê°€ì •í•˜ê³ , ê°€ë³ê²Œ ì˜ˆì œ ê¸°ë°˜, ìˆ˜ì • ë°©ë²•ì„ ê°€ì´ë“œí•¨
- ì‹¤ì œ í˜„ì—…ê³¼ ë§ˆì°¬ê°€ì§€ë¡œ ê°€ë²¼ìš´ ê¸°íšê³¼ MVP ì„¤ì • <br>
    - <b>í˜„ì—… ì´í•´ë„ë¥¼ ë†’ì´ê¸° ìœ„í•´ ì´ˆê°„ë‹¨ ì›¹ì„œë¹„ìŠ¤ ABTest ê¸°ëŠ¥ êµ¬í˜„</b> <br>
</div>

### ì›¹ì„œë¹„ìŠ¤ ê¸°íšì— ëŒ€í•œ ê°€ë²¼ìš´ ì´í•´

### MVP (Minimum Viable Product)
- ìµœì†Œí•œì˜ ê¸°ëŠ¥ì„ êµ¬í˜„í•œ ì œí’ˆ
- ê³ ê°ì˜ í”¼ë“œë°±ì„ ë°›ì•„ì„œ, ê¸°ëŠ¥ì„ ì ì°¨ì ìœ¼ë¡œ ê°œì„ 
- ìµœê·¼ ìŠ¤íƒ€íŠ¸ì—…ì´ ê°œë°œí•˜ëŠ” ë°©ì‹


### ê¸°ë³¸ ëª©í‘œ í”„ë¡œê·¸ë¨
- ë¸”ë¡œê·¸ ì‚¬ì´íŠ¸ë¥¼ êµ¬í˜„ ì˜ˆì •
  - ë¸”ë¡œê·¸ í˜ì´ì§€ë¥¼ ì›¹ìœ¼ë¡œ ì˜¤í”ˆ
  - ABTest ë¡œ ê³ ê°ì—ê²Œ ë‹¤ë¥¸ í˜ì´ì§€ë¥¼ ë³´ì—¬ì£¼ëŠ” ê¸°ëŠ¥
  - ê° í˜ì´ì§€ë§ˆë‹¤ ê³ ê° ì´ë©”ì¼ êµ¬ë… ìœ ë„ ê¸°ëŠ¥
  - ì´ë©”ì¼ êµ¬ë…ì‹œ, ì´ë©”ì¼ ì €ì¥ ê¸°ëŠ¥
  - ì´ë©”ì¼ êµ¬ë…ì‹œ, ê³ ê°ì—ê²Œ ì´ë©”ì¼ êµ¬ë…ì¤‘ì„ì„ ì•Œë ¤ì£¼ëŠ” ê¸°ëŠ¥
  - ê° í˜ì´ì§€ì— ì–¼ë§ˆë‚˜ ë§ì€ ì‚¬ëŒë“¤ì´ ì ‘ê·¼í–ˆëŠ”ì§€ ì ‘ê·¼ ì‹œê°„ ì €ì¥ ê¸°ëŠ¥



### ì›¹ì„œë¹„ìŠ¤ êµ¬í˜„ì„ ìœ„í•´ ì•Œì•„ë‘¬ì•¼ í•˜ëŠ” MVC íŒ¨í„´
- **M**odel-**V**iew-**C**ontroller : **ì†Œí”„íŠ¸ì›¨ì–´ ê³µí•™ í•™ë¬¸ ë¶„ì•¼**ì—ì„œ ë‚˜ì˜¨ ì•„í‚¤í…ì³ 
  - Model: ì‘ìš© í”„ë¡œê·¸ë¨ì˜ ë°ì´í„°ë¥¼ ë‚˜íƒ€ëƒ„ (ì£¼ë¡œ ë°ì´í„°ë² ì´ìŠ¤)
  - View: í…ìŠ¤íŠ¸, ë²„íŠ¼ë“± ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ë¥¼ ë‚˜íƒ€ëƒ„ (ì›¹í˜ì´ì§€)
  - Controller: Model ê³¼ View ë¥¼ ì œì–´í•˜ëŠ” ì¤‘ê°„ ì—­í•  (ì¤‘ê°„ ì œì–´ ì½”ë“œ)
- MVC íŒ¨í„´ëŒ€ë¡œ ì½”ë“œë¥¼ ì‘ì„±í•˜ë©´, ìœ ì§€ë³´ìˆ˜ê°€ ì‰¬ì›Œì§„ë‹¤ëŠ” ì£¼ì¥ì„ í•œ ê²ƒì„

#### ì‹¤ì œë¡œëŠ” ê·¸ë ‡ì§€ ì•Šì€ ê²½ìš°ê°€ ë§ìŒ
- MVC íŒ¨í„´ì€ í•˜ë‚˜ì˜ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ëŠ”ë° ê° ê¸°ëŠ¥ì´ ì—¬ëŸ¬ íŒŒì¼ì— ìª¼ê°œì ¸ ìˆìœ¼ë¯€ë¡œ, ì½”ë“œ ì´í•´/ë””ë²„ê¹…ì´ ì–´ë ¤ì›€
- ì½”ë“œ ìˆ˜ì •ì‹œ, ê²°êµ­ MVC íŠ¹ì • ë¶€ë¶„ë§Œ ìˆ˜ì •í•˜ê¸° ë³´ë‹¤, ì „ì²´ ì—°ê²°ëœ ê¸°ëŠ¥ ê´€ë ¨ ì½”ë“œë¥¼ ìˆ˜ì •í•˜ëŠ” ê²½ìš°ê°€ ë” ë§ì•„ì§€ëŠ” ê²½ìš°ë„ ë§ìŒ

> ê¸°ì¡´ ì½”ë“œê°€ MVC íŒ¨í„´ì´ë©´, ê¸°ì¡´ ì½”ë“œ êµ¬ì¡°ì— ë§ê²Œ ì‘ì„±, ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ ì°¸ê³ ë§Œ í•˜ì„¸ìš”

### êµ¬í˜„í•  ê¸°ëŠ¥
- flask ë¡œ í”„ë¡ íŠ¸ì—”ë“œì™€ ë°±ì—”ë“œë¥¼ ëª¨ë‘ êµ¬í˜„
- ë¸”ë¡œê·¸ í˜ì´ì§€ ì œëª©ë§Œ ë³€ê²½í•˜ì—¬, ë‘ ê°€ì§€ ë²„ì „ êµ¬í˜„
- ë™ì¼í•œ ë¼ìš°íŒ… ê²½ë¡œ ì ‘ì†ì‹œë§ˆë‹¤ ë‘ ê°€ì§€ ë²„ì „ ì¤‘ í•˜ë‚˜ê°€ ë³´ì—¬ì§€ë„ë¡ í•¨ (A: 50%, B: 50%)
  - ì ‘ì† IP ì™€ ì ‘ì†ì‹œê°„ì„ ë¡œê·¸ë¡œ ë‚¨ê¹€
- êµ¬ë…ì‹œ ì´ë©”ì¼ ì£¼ì†Œë¥¼ ë°›ì•„ì„œ ì €ì¥í•¨
  - í•´ë‹¹ ì‚¬ìš©ìëŠ” flask ì„œë²„ê°€ ì¬ì‹¤í–‰ë˜ì§€ ì•ŠëŠ” ì´ìƒ, ë™ì¼ ë¸”ë¡œê·¸ í˜ì´ì§€ê°€ ë³´ì—¬ì§€ê³ , êµ¬ë…ì°½ì´ ë”ì´ìƒ ëœ¨ì§€ ì•Šë„ë¡ í•¨
  
> ì´ëŸ° ì„œë¹„ìŠ¤ êµ¬í˜„ í›„, ë§ì€ ì‚¬ìš©ìë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì‹¤í—˜í•´ë³¸ë‹¤ë©´, ì–´ë–¤ ë¸”ë¡œê·¸ ì œëª©ì´ ë” êµ¬ë…ìë¥¼ ë§ì´ ëŒì–´ëª¨ì„ ìˆ˜ ìˆëŠ”ì§€ë¥¼ ë¡œê·¸ ë¶„ì„ì„ ê¸°ë°˜ìœ¼ë¡œ ì•Œ ìˆ˜ ìˆìŒ <br>
> ë¼ìš°íŒ… ê²½ë¡œë¥¼ ë¬´í•œíˆ ë§Œë“¤ì–´, ë‹¤ì–‘í•œ ë¸”ë¡œê·¸ ì„œë¹„ìŠ¤ ê°€ëŠ¥

### MVC íŒ¨í„´ê³¼ flask blueprint

- í•œ íŒŒì¼ì— ëª¨ë“  ê¸°ëŠ¥ ì½”ë“œë¥¼ ë„£ìœ¼ë©´, ë³µì¡í•´ì§€ê³ , ê´€ë¦¬ê°€ ì–´ë ¤ì›€
- re-usability ë¥¼ í•­ìƒ ìƒê°í•´ì•¼ í•¨
  - ë‹¤ë§Œ, ê·¸ë ‡ë‹¤ê³  ëŒ€í˜• í”„ë¡œê·¸ë¨ì—ì„œë‚˜ í•„ìš”í•œ êµ¬ì¡°ë¥¼ ê°€ì ¸ê°ˆ í•„ìš”ëŠ” ì—†ìŒ

### flask ë°±ì—”ë“œ ì½”ë“œ êµ¬ì¡°
- ê¸°ëŠ¥ë³„ë¡œ í´ë”/íŒŒì¼ êµ¬ë¶„ (blueprint ë¥¼ ì‚¬ìš©í•´ì„œ, ê¸°ëŠ¥ë³„ë¡œ ì¶”ê°€/ì‚­ì œê°€ ì‰½ë„ë¡ êµ¬ì„±)
- MVC ì—ì„œ View ì— í•´ë‹¹í•˜ëŠ” ë¶€ë¶„ì€ ì—†ìŒ (ìˆœìˆ˜ Rest API ì„œë²„ë¡œ, ì¶”í›„ í•´ë‹¹ API ë¥¼ ì‚¬ìš©í•œ í”„ë¡ íŠ¸ì•¤ë“œ ë³„ë„ êµ¬ì¶•)
- C ëŠ” API, M ì€ ë°ì´í„°ë² ì´ìŠ¤/ë°ì´í„° ëª¨ë¸ ë¡œë§Œ êµ¬ì„±í•˜ë©´ ë¨

> **Simple is Best!**

### ê¸°ëŠ¥ë³„ë¡œ í´ë”ë¥¼ ë‚˜ëˆ ì„œ ì½”ë“œ êµ¬í˜„í•˜ê¸°ë¡œ í•¨
- ê°„ë‹¨í•œ ì½”ë“œì¼ ê²½ìš°, MVC íŒ¨í„´ì„ ì‚¬ìš©í•˜ë©´, ì½”ë“œ êµ¬í˜„ ë° í™•ì¸ì„ ìœ„í•´ ì—¬ëŸ¬ ì†ŒìŠ¤íŒŒì¼ì„ ì°¸ê³ í•´ì•¼ í•˜ë¯€ë¡œ ì˜¤íˆë ¤ ì‹œê°„ì´ ë§ì´ ê±¸ë¦¼
  - MVC íŒ¨í„´ì€ ë§¤ìš° ë³µì¡í•œ ê¸°ëŠ¥ì„ ê°€ì§„ í° ê·œëª¨ì˜ ì‹œìŠ¤í…œì—ì„œ, ì¼ë¶€ ìœ ìš©í•  ìˆ˜ ìˆìŒ
- í•˜ì§€ë§Œ, ê¸°ë³¸ì ì¸ MVC íŒ¨í„´ ì´í•´ë¥¼ ìœ„í•´, ë‹¤ìŒê³¼ ê°™ì´ êµ¬ì„±
  - flask ì„œë²„: blog_abtest.py 
  - <b>M</b>odel: db_model
  - <b>V</b>iew: blog_view
  - <b>C</b>ontrol: blog_control
  - ì´ì™¸ì— 
    - static ì€ ë¶€íŠ¸ìŠ¤íŠ¸ë©ë“± HTML íŒŒì¼ì—ì„œ í•„ìš”ë¡œ í•˜ëŠ” ë™ì¼ ì„œë²„ ë‚´ì˜ javascript ì™€ css íŒŒì¼
    - templates ëŠ” flask ì„œë²„ê°€ ì§€ì›í•˜ëŠ” HTML íŒŒì¼
    
```bash
.
â”œâ”€â”€ blog_abtest.py
â”œâ”€â”€ blog_control
â”‚   â”œâ”€â”€ session_mgmt.py
â”‚   â””â”€â”€ user_mgmt.py
â”œâ”€â”€ blog_view
â”‚   â””â”€â”€ blog.py
â”œâ”€â”€ db_model
â”‚   â”œâ”€â”€ mongodb.py
â”‚   â””â”€â”€ mysql.py
â”œâ”€â”€ schema.sql
â”œâ”€â”€ static
â”‚   â”œâ”€â”€ blog.css
â”‚   â”œâ”€â”€ brand
â”‚   â””â”€â”€ dist
â””â”€â”€ templates
    â”œâ”€â”€ blog_A.html
    â””â”€â”€ blog_B.html
```

### flask blueprint
- ì—¬ëŸ¬ ì†ŒìŠ¤ íŒŒì¼ì— flask ì½”ë“œë¥¼ ì‘ì„±í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ê¸°ëŠ¥

- ë©”ì¸ ì½”ë“œ íŒŒì¼ ë‚´

```python
from flask import Flask
from í•˜ìœ„í´ë”ëª…(í´ë”ëª…ì´ blog_view ì´ë©´ blog_view) import í•˜ìœ„í´ë”ì˜ì†ŒìŠ¤íŒŒì¼ëª…(blog.py ì´ë©´ blog)

app = Flask(__name__)
app.register_blueprint(í•˜ìœ„í´ë”ì˜ì†ŒìŠ¤íŒŒì¼ëª….ë¸”ë£¨í”„ë¦°íŠ¸ê°ì²´ì´ë¦„, url_prefix='/blog')
```
- url_prefix=ê¸°ë³¸ê²½ë¡œëª…
  - í•˜ìœ„í´ë”ì˜ ì†ŒìŠ¤íŒŒì¼ì— ìˆëŠ” ë¼ìš°íŒ… ê²½ë¡œëŠ” URL/ê¸°ë³¸ê²½ë¡œëª…/ë¼ìš°íŒ… ê²½ë¡œ ì™€ ê°™ì´ ì„¤ì •ë¨

- ë¶„ë¦¬ëœ í•˜ìœ„ í´ë”ì˜ ì†ŒìŠ¤ íŒŒì¼ ë‚´
  - Blueprint(ë¸”ë£¨í”„ë¦°íŠ¸ì´ë¦„, __name__) ìœ¼ë¡œ ì‘ì„±
  
```python
from flask import Blueprint
# ë¸”ë£¨í”„ë¦°íŠ¸ê°ì²´ì´ë¦„ì€ blog_abtest ê°€ ë¨
blog_abtest = Blueprint('blog', __name__)

# http://localhost:8080/blog/blog1
@blog_abtest.route('/blog1')
def blog():
    return "blueprint test login_google"
```


```python
# dave_server.py
from flask import Flask
from test_view import blog_view

app = Flask(__name__)
app.register_blueprint(blog_view.blog_ab, url_prefix='/blog')

if __name__ == '__main__':
    app.run(host='0.0.0.0', port='8080')
```


```python
# blog.py
from flask import Blueprint

blog_ab = Blueprint('blog', __name__)

# http://localhost:8080/blog/blog1
@blog_ab.route('/blog1')
def blog():
    return 'TEST BLUEPRINT'
```

<div class="alert alert-block" style="border: 2px solid #1976D2;background-color:#E3F2FD;padding:5px;font-size:0.9em;">
ë³¸ ìë£ŒëŠ” ì €ì‘ê¶Œë²• ì œ25ì¡° 2í•­ì— ì˜í•´ ë³´í˜¸ë¥¼ ë°›ìŠµë‹ˆë‹¤. ë³¸ ìë£Œë¥¼ ì™¸ë¶€ì— ê³µê°œí•˜ì§€ ë§ì•„ì£¼ì„¸ìš”.<br>
ë³¸ ê°•ì˜ë§Œ ì˜ ì •ë¦¬í•˜ë©´, ë°ì´í„° ë¶„ì„, ë°ì´í„° ê³¼í•™, í’€ìŠ¤íƒ(ë°±ì—”ë“œ, í”„ë¡ íŠ¸ì—”ë“œ) ê°œë°œ ëª¨ë‘ ê°€ëŠ¥í•©ë‹ˆë‹¤!<br>
<b><a href="https://school.fun-coding.org/">ì”ì¬ë¯¸ì½”ë”©</a> ì—ì„œ ë³¸ ê°•ì˜ ê¸°ë°˜ ìµœì í™”ëœ ë¡œë“œë§µë„ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤</b></div>



# 9_flask_mysql_mongodb
<div class="alert alert-block" style="border: 2px solid #1976D2;background-color:#E3F2FD;padding:5px;font-size:0.9em;">
ë³¸ ìë£ŒëŠ” ì €ì‘ê¶Œë²• ì œ25ì¡° 2í•­ì— ì˜í•´ ë³´í˜¸ë¥¼ ë°›ìŠµë‹ˆë‹¤. ë³¸ ìë£Œë¥¼ ì™¸ë¶€ì— ê³µê°œí•˜ì§€ ë§ì•„ì£¼ì„¸ìš”.<br>
ë³¸ ê°•ì˜ë§Œ ì˜ ì •ë¦¬í•˜ë©´, ë°ì´í„° ë¶„ì„, ë°ì´í„° ê³¼í•™, í’€ìŠ¤íƒ(ë°±ì—”ë“œ, í”„ë¡ íŠ¸ì—”ë“œ) ê°œë°œ ëª¨ë‘ ê°€ëŠ¥í•©ë‹ˆë‹¤!<br>
<b><a href="https://school.fun-coding.org/">ì”ì¬ë¯¸ì½”ë”©</a> ì—ì„œ ë³¸ ê°•ì˜ ê¸°ë°˜ ìµœì í™”ëœ ë¡œë“œë§µë„ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤</b></div>

## 8. flask ì™€ ë°ì´í„°ë² ì´ìŠ¤
- ì‹¤ì œ ì›¹ì„œë¹„ìŠ¤ì—ì„œëŠ” ë‹¤ì–‘í•œ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì‚¬ìš©í•¨
- ë³€ê²½ ì—¬ì§€ê°€ ì ì€ ê²½ìš°, mysql ê³¼ ê°™ì€ ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ ì‚¬ìš©
  - ê°€ì¥ ì •ë³´ê°€ ë§ê³ , ìˆ˜ì‹­ë…„ê°„ ì‚¬ìš©ë˜ì—ˆê¸° ë•Œë¬¸ì— ë³´ì•ˆ, ì•ˆì •ì ì„
- ë³€ê²½ ì—¬ì§€ê°€ í° ì›¹ì„œë¹„ìŠ¤ ë¡œê¹…(logging)ì„ ìœ„í•´ì„œëŠ” NoSQL ì„ ì‚¬ìš©
- ì´ì™¸ì— ì›¹ì„œë¹„ìŠ¤ ì„±ëŠ¥ í–¥ìƒì„ ìœ„í•´ redis ì™€ ê°™ì€ in-memory ë°©ì‹ì˜ ë°ì´í„°ë² ì´ìŠ¤ë„ ë§ì´ ì‚¬ìš©ë¨

> ê¸°ì¡´ ê°•ì¢Œì—ì„œ ë‹¤ë¤˜ë˜ mysql(SQL) ê³¼ mongodb(NoSQL) ì— ëŒ€í•´ ê°„ë‹¨í•œ ì›¹ì„œë¹„ìŠ¤ êµ¬í˜„ì„ ìœ„í•œ ì‚¬ì „ ì‘ì—…ê³¼ í•¨ê»˜, ê¸°ì¡´ ê°•ì¢Œì˜ í•µì‹¬ ë‚´ìš© ì •ë¦¬

### ë¸”ë¡œê·¸ ê¸°ëŠ¥ê³¼ ë°ì´í„°ë² ì´ìŠ¤ í™œìš©
- mysql: êµ¬ë…ìœ¼ë¡œ ì–»ì–´ì§„ ì´ë©”ì¼ ì£¼ì†Œ ì •ë³´ë¥¼ ì €ì¥
- mongodb: ë¸”ë¡œê·¸ ì ‘ê·¼ ì‚¬ìš©ìì˜ IP ì™€ ì ‘ê·¼ ì‹œê°„ì„ ë¡œê·¸ í˜•íƒœë¡œ ì €ì¥ 
  - logging ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ íŒŒì¼ë¡œ ì €ì¥í•˜ì§€ ì•Šê³ , ëª½ê³ dbë¥¼ í™œìš©
  - ëª½ê³ dbê°€ ìµìˆ™ì¹˜ ì•Šì„ ê²½ìš°, logging ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œë„ í™œìš© ê°€ëŠ¥
  - ë¡œê¹…ì€ í†µìƒì ìœ¼ë¡œ ìˆ˜ì‹œë¡œ í¬ë§·ì´ ë°”ë€ŒëŠ” ê²½ìš°ê°€ ë§ìœ¼ë¯€ë¡œ, ìŠ¤í‚¤ë§ˆ ì„¤ì •ì´ í•„ìš”ì—†ëŠ” NoSQL ì´ ì í•©

## 8.1. flask ì™€ MySQL ì‚¬ìš©
- mongodb ëŠ” í¬ë¡¤ë§ ë°ì´í„°ë“±ê³¼ ê°™ì´ ë°©ëŒ€í•˜ì§€ë§Œ, ì¼ë¶€ ìœ ì‹¤ë˜ë„ í° ë¬¸ì œì—†ëŠ” ë°ì´í„° ì²˜ë¦¬ì‹œ ë” ì í•©
- ê·œê²©í™”ë˜ê³  ê° ë°ì´í„°ì˜ ê·¹ë„ì˜ ì•ˆì •ì„±ì´ í•„ìš”í•œ ë°ì´í„°ëŠ” MySQL ì´ ë” ì í•©

### SQLAlchemy VS Pymysql
- Django ë“±ì—ì„œ ë‹¤ì–‘í•œ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ê°ì²´ë¡œ ë§Œë“¤ì–´ì„œ, ì‚¬ìš©ë²•ì„ í†µì¼í•˜ëŠ” ê¸°ë²•ìœ¼ë¡œ SQLAlchemy ë¼ëŠ” ê¸°ëŠ¥ì„ ì‚¬ìš©í•¨
- SQL ì´ì™¸ì— ì¶”ê°€ì ì¸ SQLAlchemy ê¸°ë°˜ CRUD ê¸°ë²•ì„ ìµí˜€ì•¼ í•¨ 
- í˜„ ë‹¨ê³„(ì…ë¬¸ì—ì„œ ë°±ì—”ë“œê°œë°œë¡œ ë„˜ì–´ì˜¤ëŠ” ë‹¨ê³„) ì—ì„œëŠ” SQL, mongodb CRUD ì— ìµìˆ™í•´ì§€ëŠ” ê²ƒì´ ë³´ë‹¤ ì¤‘ìš”í•¨
- ì´í›„ FastAPI ë°±ì—”ë“œ ê°•ì˜ì—ì„œ SQLAlchemy ìƒì„¸ ë¬¸ë²•ê³¼ ì‹¤ìŠµë„ ì§„í–‰í•¨

<center><img src="https://www.fun-coding.org/00_Images/fullstackroadmap_2024_v4.png"></center>

### pymysql ë¼ì´ë¸ŒëŸ¬ë¦¬ ì†Œê°œ ë° ì„¤ì¹˜
* mysqlì„ pythonì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ (pymysql ë¼ì´ë¸ŒëŸ¬ë¦¬ ì´ì™¸ì—ë„ MySQLdb(Mysql-pytion), MySQL connector ë“± ë‹¤ì–‘í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì¡´ì¬)
* ì„¤ì¹˜: `pip install PyMySQL`
* ì¼ë°˜ì ì¸ mysql í•¸ë“¤ë§ ì½”ë“œ ì‘ì„± ìˆœì„œ
  1. PyMySql ëª¨ë“ˆ import
  2. pymysql.connect() ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ MySQLì— ì—°ê²°
     - í˜¸ìŠ¤íŠ¸ëª…, í¬íŠ¸, ë¡œê·¸ì¸, ì•”í˜¸, ì ‘ì†í•  DB ë“±ì„ íŒŒë¼ë¯¸í„°ë¡œ ì§€ì •
  3. MySQL ì ‘ì†ì´ ì„±ê³µí•˜ë©´, Connection ê°ì²´ë¡œë¶€í„° cursor() ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ì—¬ Cursor ê°ì²´ë¥¼ ê°€ì ¸ì˜´
  4. Cursor ê°ì²´ì˜ execute() ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ SQL ë¬¸ì¥ì„ DB ì„œë²„ì— ì „ì†¡
  5. SQL ì¿¼ë¦¬ì˜ ê²½ìš° Cursor ê°ì²´ì˜ fetchall(), fetchone() ë“±ì˜ ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ì„œë²„ë¡œë¶€í„° ê°€ì ¸ì˜¨ ë°ì´íƒ€ë¥¼ ì½”ë“œì—ì„œ í™œìš©
  6. ì‚½ì…, ê°±ì‹ , ì‚­ì œ ë“±ì˜ SQL êµ¬ë¬¸ì„ ì‹¤í–‰í•˜ëŠ” ê²½ìš°ëŠ” INSERT/UPDATE/DELETE í›„ Connection ê°ì²´ì˜ commit() ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ë°ì´íƒ€ë¥¼ í™•ì •
  7. Connection ê°ì²´ì˜ close() ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ DB ì—°ê²°ì„ ë‹«ìŒ

### Pymysql ë¡œ mysql ì ‘ì†
* pymysql.connect() ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ MySQLì— ì—°ê²°
     - í˜¸ìŠ¤íŠ¸ëª…, í¬íŠ¸, ë¡œê·¸ì¸, ì•”í˜¸, ì ‘ì†í•  DB ë“±ì„ íŒŒë¼ë¯¸í„°ë¡œ ì§€ì •
     - ì£¼ìš” íŒŒë¼ë¯¸í„°
       - host : ì ‘ì†í•  mysql server ì£¼ì†Œ
       - port : ì ‘ì†í•  mysql server ì˜ í¬íŠ¸ ë²ˆí˜¸
       - user : mysql ID
       - passwd : mysql IDì˜ ì•”í˜¸
       - db : ì ‘ì†í•  ë°ì´í„°ë² ì´ìŠ¤
       - charset='utf8' : mysqlì—ì„œ selectí•˜ì—¬ ë°ì´íƒ€ë¥¼ ê°€ì ¸ì˜¬ ë•Œ í•œê¸€ì´ ê¹¨ì§ˆ ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì—°ê²° ì„¤ì •ì— ë„£ì–´ì¤Œ

### ì‚¬ì „ ì‘ì—…
```
CREATE DATABASE blog_db;
```

### ì°¸ê³ : mysql ì— ë³„ë„ ID ìƒì„±
```
mysql -u root -p
GRANT ALL PRIVILEGES ON *.* TO 'root'@'localhost';
CREATE USER 'dave'@'localhost' IDENTIFIED BY 'funcoding';
GRANT ALL PRIVILEGES ON *.* TO 'dave'@'localhost';
flush privileges;
```


```python
import pymysql

db_conn = pymysql.connect(
        host='localhost', 
        port=3306, 
        user='dave', 
        passwd='funcoding', 
        db='blog_db', 
        charset='utf8')
```

### ì‚¬ìš©ì í…Œì´ë¸”
- USER_ID ë¡œ ì‚¬ìš©ì ì •ë³´ë¥¼ ì ‘ê·¼
- USER_EMAIL ë„ unique í•´ì•¼ í•˜ì§€ë§Œ ë™ì¼í•œ USER_EMAIL ì€ ì…ë ¥ ì½”ë“œì—ì„œ ì²´í¬í•˜ê¸°ë¡œ í•¨

```sql
CREATE TABLE user_info (
    USER_ID INT UNSIGNED NOT NULL AUTO_INCREMENT,
    USER_EMAIL VARCHAR(100) NOT NULL,
    BLOG_ID CHAR(4),
    PRIMARY KEY(USER_ID)
);
```

### mysql í…ŒìŠ¤íŠ¸

> ì‹¤ì œ flask ì½”ë“œì— ë„£ì–´ì„œ í…ŒìŠ¤íŠ¸í•  ê²½ìš°, í…ŒìŠ¤íŠ¸ì— êµ‰ì¥í•œ ì‹œê°„ ì†Œìš”
> í•„ìš”í•œ í…ŒìŠ¤íŠ¸ëŠ” ì£¼í”¼í„° ë…¸íŠ¸ë¶ìƒì—ì„œ ê°€ëŠ¥í•œ ë§ì´ í•œ í›„ì—, ìµœì¢… ê²°ê³¼ê°€ ë  ìˆ˜ ìˆëŠ” ì½”ë“œë§Œ flask ì½”ë“œë¡œ ë³€í™˜


```python
import pymysql

db_conn = pymysql.connect(
        host='localhost', 
        port=3306, 
        user='dave', 
        passwd='funcoding', 
        db='blog_db', 
        charset='utf8')

dave_db = db_conn.cursor()
dave_db
```




    <pymysql.cursors.Cursor at 0x7f9e2709b390>



### ê¸°ì¡´ í…Œì´ë¸” ìˆ˜ í™•ì¸í•˜ê¸°


```python
sql = 'SHOW TABLES;'
dave_db.execute(sql)
```




    1




```python
sql = """
CREATE TABLE user_info (
    USER_ID INT UNSIGNED NOT NULL AUTO_INCREMENT,
    USER_EMAIL VARCHAR(100) NOT NULL,
    BLOG_ID CHAR(4),
    PRIMARY KEY(USER_ID)
);
"""
dave_db.execute(sql)
db_conn.commit() # ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ë³€ê²½í•˜ëŠ” ëª…ë ¹ì€ commit() í•´ì£¼ê¸°
```

### í…Œì´ë¸” ìˆ˜ í™•ì¸í•˜ê¸°
- í…Œì´ë¸” ìƒì„±ë˜ì—ˆìœ¼ë¯€ë¡œ í…Œì´ë¸” ìˆ˜ê°€ 1ì´ì–´ì•¼ ë§ìŒ


```python
sql = 'SHOW TABLES;'
dave_db.execute(sql)
```




    1



### í…Œì´ë¸” ì‚­ì œí•˜ê¸°


```python
sql = 'DROP TABLE user_info;'
dave_db.execute(sql)
db_conn.commit() # ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ë³€ê²½í•˜ëŠ” ëª…ë ¹ì€ commit() í•´ì£¼ê¸°
```

### í…Œì´ë¸” ìˆ˜ í™•ì¸í•˜ê¸°
- í…Œì´ë¸” ìƒì„±ë˜ì—ˆìœ¼ë¯€ë¡œ í…Œì´ë¸” ìˆ˜ê°€ 1ì´ì–´ì•¼ ë§ìŒ


```python
sql = 'SHOW TABLES;'
dave_db.execute(sql)
```




    0



### í…Œì´ë¸” ì¬ìƒì„±í•˜ê¸°


```python
sql = """
CREATE TABLE user_info (
    USER_ID INT UNSIGNED NOT NULL AUTO_INCREMENT,
    USER_EMAIL VARCHAR(100) NOT NULL,
    BLOG_ID CHAR(4),
    PRIMARY KEY(USER_ID)
);
"""
dave_db.execute(sql)
db_conn.commit() # ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ë³€ê²½í•˜ëŠ” ëª…ë ¹ì€ commit() í•´ì£¼ê¸°
```

### í…Œì´ë¸”ì— ë°ì´í„° ë„£ê¸°


```python
user_email = 'test@test.com'
blog_id = 'A'
```


```python
sql = "INSERT INTO user_info (USER_EMAIL, BLOG_ID) VALUES ('%s', '%s')" % (str(user_email), str(blog_id))
dave_db.execute(sql)
db_conn.commit() # ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ë³€ê²½í•˜ëŠ” ëª…ë ¹ì€ commit() í•´ì£¼ê¸°
```

### í…Œì´ë¸” ë°ì´í„° ì¡°íšŒ(SELECT)
  - Cursor Object ê°€ì ¸ì˜¤ê¸°: cursor = db.cursor()  
  - SQL ì‹¤í–‰í•˜ê¸°: cursor.execute(SQL)
  - mysql ì„œë²„ë¡œë¶€í„° ë°ì´í„° ê°€ì ¸ì˜¤ê¸°: fetch ë©”ì„œë“œ ì‚¬ìš©
    - fetchall(): Fetch all the rows
    - fetchmany(size=None): Fetch several rows
    - fetchone(): Fetch the next row


```python
sql = "SELECT * FROM user_info"
dave_db.execute(sql)
results = dave_db.fetchall()
for result in results:
    print (result, type(result))
```

    (2, 'jhleeroot@gmail.com', 'A') <class 'tuple'>
    (3, 'dave@gmail.com', 'A') <class 'tuple'>
    (4, 'dream@fun-coding.org', 'A') <class 'tuple'>
    

### USER_EMAIL ë¡œ í…Œì´ë¸” ë°ì´í„° ì¡°íšŒ


```python
user_id = 1
```


```python
sql = "DELETE FROM user_info WHERE USER_ID = %d" % (user_id)
print(dave_db.execute(sql))
db_conn.commit() # ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ë³€ê²½í•˜ëŠ” ëª…ë ¹ì€ commit() í•´ì£¼ê¸°
```

    0
    

### ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° í•´ì œ


```python
db_conn.close()
```

### ì°¸ê³ : ë°ì´í„°ë² ì´ìŠ¤ ë°ì´í„° ì‚­ì œí•˜ê¸°
- ê°•ì¢Œ í›„ë°˜ë¶€ ì‹¤ì œ êµ¬í˜„ì‹œ ê´€ë ¨ ë‚´ìš©ì„ ì˜ìƒìœ¼ë¡œ ë³´ì—¬ë“œë¦¼


```python
import pymysql

db_conn = pymysql.connect(
        host='localhost', 
        port=3306, 
        user='dave', 
        passwd='funcoding', 
        db='blog_db', 
        charset='utf8')

dave_db = db_conn.cursor()
dave_db
```




    <pymysql.cursors.Cursor at 0x7f9e270a07d0>




```python
sql = "SELECT * FROM user_info"
dave_db.execute(sql)
results = dave_db.fetchall()
for result in results:
    print (result, type(result))
```

    (2, 'jhleeroot@gmail.com', 'A') <class 'tuple'>
    (3, 'dave@gmail.com', 'A') <class 'tuple'>
    


```python
user_id = 4
```


```python
sql = "DELETE FROM user_info WHERE USER_ID = %d" % (user_id)
print(dave_db.execute(sql))
db_conn.commit() # ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ë³€ê²½í•˜ëŠ” ëª…ë ¹ì€ commit() í•´ì£¼ê¸°
```

    0
    

## 8.2. Mongodb ì„¤ì¹˜ í•„ìš”

> mongodb ê°•ì˜ì—ì„œ í•´ë‹¹ ê°•ì¢ŒëŠ” ë¬´ë£Œë¡œ ì˜¤í”ˆí•´ë†“ì•˜ìœ¼ë‹ˆ ìˆ˜ê°•í•˜ì…”ì„œ í™•ì¸ë„ ê°€ëŠ¥í•©ë‹ˆë‹¤

### Mongodb ì—°ê²°


```python
import pymongo

username = ''
password = ''
ip_address = 'localhost'
connection = pymongo.MongoClient()
connection = pymongo.MongoClient('mongodb://%s' % (ip_address))
# connection = pymongo.MongoClient('mongodb://%s:%s@%s' % (username, password, ip_address))
blog_session_db = connection.blog_session_db
blog_ab = blog_session_db.blog_ab
```

### Mongodb ì—°ê²° í™•ì¸
- mongodb ì—°ê²°ì„ í•œë²ˆ í•´ë†“ìœ¼ë©´, ì´ë¡ ì ìœ¼ë¡œëŠ” í•´ë‹¹ ê°ì²´ë¥¼ ì‚¬ìš©, ëª½ê³ db CRUD ë¥¼ ì‹¤í–‰í•˜ë©´ ë¨
- í•˜ì§€ë§Œ, ì‹¤ì œë¡œëŠ” mongodb ê°€ ë‹¤ì–‘í•œ ì›ì¸ìœ¼ë¡œ ë‹¤ìš´ë˜ê±°ë‚˜, ì—°ê²°ì´ í•´ì œë˜ëŠ” ê²½ìš°ê°€ ìˆìŒ
  - ì´ ê²½ìš°, ì—°ê²°ì´ ë˜ì–´ìˆìŒì„ ê°€ì •í•˜ê³ , CRUDë¥¼ ì‹¤í–‰í•  ê²½ìš° ì—ëŸ¬ê°€ ë‚¨
- ë”°ë¼ì„œ ì—°ê²°ëœ ê°ì²´ê°€ ì•„ì§ mongodb ì— ì—°ê²°ì´ ë˜ì–´ìˆëŠ”ì§€ ì²´í¬í•˜ëŠ” ë°©ë²•ì´ í•„ìš”í•¨
  - ë¬¼ë¡ , ì´ ë°©ë²•ë„ mongodb ê°€ ì•„ì˜ˆ ë‹¤ìš´ëœ ê²½ìš°ë“±ì„ ì²´í¬í•˜ë„ë¡ ì½”ë“œë¥¼ ë” ì •êµí•˜ê²Œ ì‘ì„±í•  ìˆ˜ë„ ìˆì§€ë§Œ,
  - ë¬¸ì œë¥¼ mongodb ëŠ” ë‹¤ìš´ë˜ë”ë¼ë„ ì¬ê¸°ë™ëœë‹¤ê³  ê°€ì •í•˜ê³ , (docker ë“± ë‹¤ë¥¸ ì‹œìŠ¤í…œì„ í†µí•´ í•´ë‹¹ ê¸°ëŠ¥ í™œì„±í™”)
  - ì—°ê²°ì´ í•´ì œëœ ê²½ìš°ë§Œ ì²´í¬í•˜ëŠ” ê¸°ë²•ì„ ì‚¬ìš© 
    - íŠ¹ë³„í•œ ë°©ë²•ì´ ì—†ìœ¼ë¯€ë¡œ, ê°€ì¥ ê°„ë‹¨í•œ ëª…ë ¹ì„ ë‚´ë ¤ë³´ëŠ” ë°©ë²•ìœ¼ë¡œ ì§„í–‰


```python
connection.admin.command('ismaster')
```




    {'ismaster': True,
     'maxBsonObjectSize': 16777216,
     'maxMessageSizeBytes': 48000000,
     'maxWriteBatchSize': 100000,
     'localTime': datetime.datetime(2020, 8, 15, 7, 25, 55, 594000),
     'logicalSessionTimeoutMinutes': 30,
     'connectionId': 61,
     'minWireVersion': 0,
     'maxWireVersion': 8,
     'readOnly': False,
     'ok': 1.0}




```python
connection.server_info()
```




    {'version': '4.2.8',
     'gitVersion': '43d25964249164d76d5e04dd6cf38f6111e21f5f',
     'modules': [],
     'allocator': 'system',
     'javascriptEngine': 'mozjs',
     'sysInfo': 'deprecated',
     'versionArray': [4, 2, 8, 0],
     'openssl': {'running': 'Apple Secure Transport'},
     'buildEnvironment': {'distmod': '',
      'distarch': 'x86_64',
      'cc': '/Applications/Xcode10.2.0.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/clang: Apple LLVM version 10.0.1 (clang-1001.0.46.3)',
      'ccflags': '-isysroot /Applications/Xcode10.2.0.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.14.sdk -mmacosx-version-min=10.12 -target darwin16.0.0 -arch x86_64 -fno-omit-frame-pointer -fno-strict-aliasing -ggdb -pthread -Wall -Wsign-compare -Wno-unknown-pragmas -Winvalid-pch -Werror -O2 -Wno-unused-local-typedefs -Wno-unused-function -Wno-unused-private-field -Wno-deprecated-declarations -Wno-tautological-constant-out-of-range-compare -Wno-tautological-constant-compare -Wno-tautological-unsigned-zero-compare -Wno-tautological-unsigned-enum-zero-compare -Wno-unused-const-variable -Wno-missing-braces -Wno-inconsistent-missing-override -Wno-potentially-evaluated-expression -Wno-unused-lambda-capture -Wno-exceptions -Wunguarded-availability -fstack-protector-strong -fno-builtin-memcmp',
      'cxx': '/Applications/Xcode10.2.0.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/clang++: Apple LLVM version 10.0.1 (clang-1001.0.46.3)',
      'cxxflags': '-Woverloaded-virtual -Werror=unused-result -Wpessimizing-move -Wredundant-move -Wno-undefined-var-template -Wno-instantiation-after-specialization -fsized-deallocation -stdlib=libc++ -std=c++17',
      'linkflags': '-Wl,-syslibroot,/Applications/Xcode10.2.0.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.14.sdk -mmacosx-version-min=10.12 -target darwin16.0.0 -arch x86_64 -Wl,-bind_at_load -Wl,-fatal_warnings -fstack-protector-strong -stdlib=libc++',
      'target_arch': 'x86_64',
      'target_os': 'macOS'},
     'bits': 64,
     'debug': False,
     'maxBsonObjectSize': 16777216,
     'storageEngines': ['biggie', 'devnull', 'ephemeralForTest', 'wiredTiger'],
     'ok': 1.0}



### INSERT


```python
blog_ab.insert_one({'emailid':'jhleeroot@gmail.com'})
```




    <pymongo.results.InsertOneResult at 0x7f9a8e32d960>



### SELECT


```python
blog_ab.find_one( {'emailid':'jhleeroot@gmail.com'} )
```




    {'_id': ObjectId('5f34e53a2171fe53b403d027'), 'emailid': 'jhleeroot@gmail.com'}



### DELETE


```python
blog_ab.delete_one( {'emailid':'jhleeroot@gmail.com'} )
```




    <pymongo.results.DeleteResult at 0x7f9a8e365b40>



### SELECT *


```python
blog_logs = blog_ab.find()
for log in blog_logs:
    print(log)
```

    {'_id': ObjectId('5f36362bd30e2ec7d748d6e9'), 'session_ip': '127.0.0.1', 'user_email': 'anonymous', 'access_time': '14/08/2020 15:58:51'}
    {'_id': ObjectId('5f36362bd30e2ec7d748d6eb'), 'session_ip': '127.0.0.1', 'user_email': 'anonymous', 'access_time': '14/08/2020 15:58:51'}
    {'_id': ObjectId('5f363660d30e2ec7d748d6ed'), 'session_ip': '127.0.0.1', 'user_email': 'anonymous', 'access_time': '14/08/2020 15:59:44'}
    {'_id': ObjectId('5f36366dd30e2ec7d748d6ef'), 'session_ip': '127.0.0.1', 'user_email': 'jhleeroot@gmail.com', 'access_time': '14/08/2020 15:59:57'}
    {'_id': ObjectId('5f36372b043800e068a3edb9'), 'session_ip': '127.0.0.1', 'user_email': 'anonymous', 'page': 'blog_A.html', 'access_time': '14/08/2020 16:03:07'}
    {'_id': ObjectId('5f36372f043800e068a3edbb'), 'session_ip': '127.0.0.1', 'user_email': 'jhleeroot@gmail.com', 'page': 'blog_A.html', 'access_time': '14/08/2020 16:03:11'}
    {'_id': ObjectId('5f363734043800e068a3edbd'), 'session_ip': '127.0.0.1', 'user_email': 'jhleeroot@gmail.com', 'page': 'blog_A.html', 'access_time': '14/08/2020 16:03:16'}
    {'_id': ObjectId('5f363cddcffa954628adc169'), 'session_ip': '127.0.0.1', 'user_email': 'anonymous', 'page': 'blog_A.html', 'access_time': '14/08/2020 16:27:25'}
    {'_id': ObjectId('5f37632d4c602baac5341f2c'), 'session_ip': '127.0.0.1', 'user_email': 'anonymous', 'page': 'blog_A.html', 'access_time': '15/08/2020 13:23:09'}
    {'_id': ObjectId('5f37632f4c602baac5341f2e'), 'session_ip': '127.0.0.1', 'user_email': 'anonymous', 'page': 'blog_B.html', 'access_time': '15/08/2020 13:23:11'}
    {'_id': ObjectId('5f3763334c602baac5341f30'), 'session_ip': '127.0.0.1', 'user_email': 'anonymous', 'page': 'blog_A.html', 'access_time': '15/08/2020 13:23:15'}
    {'_id': ObjectId('5f3763344c602baac5341f32'), 'session_ip': '127.0.0.1', 'user_email': 'anonymous', 'page': 'blog_B.html', 'access_time': '15/08/2020 13:23:16'}
    {'_id': ObjectId('5f3763354c602baac5341f34'), 'session_ip': '127.0.0.1', 'user_email': 'anonymous', 'page': 'blog_A.html', 'access_time': '15/08/2020 13:23:17'}
    {'_id': ObjectId('5f3763374c602baac5341f36'), 'session_ip': '127.0.0.1', 'user_email': 'anonymous', 'page': 'blog_B.html', 'access_time': '15/08/2020 13:23:19'}
    {'_id': ObjectId('5f3763384c602baac5341f38'), 'session_ip': '127.0.0.1', 'user_email': 'anonymous', 'page': 'blog_A.html', 'access_time': '15/08/2020 13:23:20'}
    {'_id': ObjectId('5f3763394c602baac5341f3a'), 'session_ip': '127.0.0.1', 'user_email': 'anonymous', 'page': 'blog_B.html', 'access_time': '15/08/2020 13:23:21'}
    {'_id': ObjectId('5f3763394c602baac5341f3c'), 'session_ip': '127.0.0.1', 'user_email': 'anonymous', 'page': 'blog_A.html', 'access_time': '15/08/2020 13:23:21'}
    {'_id': ObjectId('5f37633b4c602baac5341f3e'), 'session_ip': '127.0.0.1', 'user_email': 'anonymous', 'page': 'blog_B.html', 'access_time': '15/08/2020 13:23:23'}
    {'_id': ObjectId('5f376365e920969e033c591e'), 'session_ip': '127.0.0.1', 'user_email': 'anonymous', 'page': 'blog_A.html', 'access_time': '15/08/2020 13:24:05'}
    {'_id': ObjectId('5f376365e920969e033c5920'), 'session_ip': '127.0.0.1', 'user_email': 'anonymous', 'page': 'blog_B.html', 'access_time': '15/08/2020 13:24:05'}
    {'_id': ObjectId('5f376366e920969e033c5922'), 'session_ip': '127.0.0.1', 'user_email': 'anonymous', 'page': 'blog_A.html', 'access_time': '15/08/2020 13:24:06'}
    {'_id': ObjectId('5f376369e920969e033c5924'), 'session_ip': '127.0.0.1', 'user_email': 'jhleeroot@gmail.com', 'page': 'blog_A.html', 'access_time': '15/08/2020 13:24:09'}
    {'_id': ObjectId('5f37636ae920969e033c5926'), 'session_ip': '127.0.0.1', 'user_email': 'jhleeroot@gmail.com', 'page': 'blog_A.html', 'access_time': '15/08/2020 13:24:10'}
    {'_id': ObjectId('5f37636be920969e033c5928'), 'session_ip': '127.0.0.1', 'user_email': 'jhleeroot@gmail.com', 'page': 'blog_A.html', 'access_time': '15/08/2020 13:24:11'}
    {'_id': ObjectId('5f376375e920969e033c592a'), 'session_ip': '127.0.0.1', 'user_email': 'jhleeroot@gmail.com', 'page': 'blog_A.html', 'access_time': '15/08/2020 13:24:21'}
    {'_id': ObjectId('5f376376e920969e033c592c'), 'session_ip': '127.0.0.1', 'user_email': 'jhleeroot@gmail.com', 'page': 'blog_A.html', 'access_time': '15/08/2020 13:24:22'}
    {'_id': ObjectId('5f3765f8d2ad6b71e5970b2f'), 'session_ip': '127.0.0.1', 'user_email': 'anonymous', 'page': 'blog_A.html', 'access_time': '15/08/2020 13:35:04'}
    {'_id': ObjectId('5f3765fbd2ad6b71e5970b31'), 'session_ip': '127.0.0.1', 'user_email': 'anonymous', 'page': 'blog_B.html', 'access_time': '15/08/2020 13:35:07'}
    {'_id': ObjectId('5f376619d2ad6b71e5970b33'), 'session_ip': '127.0.0.1', 'user_email': 'anonymous', 'page': 'blog_A.html', 'access_time': '15/08/2020 13:35:37'}
    {'_id': ObjectId('5f376641d2ad6b71e5970b35'), 'session_ip': '127.0.0.1', 'user_email': 'anonymous', 'page': 'blog_B.html', 'access_time': '15/08/2020 13:36:17'}
    {'_id': ObjectId('5f376649d2ad6b71e5970b37'), 'session_ip': '127.0.0.1', 'user_email': 'anonymous', 'page': 'blog_A.html', 'access_time': '15/08/2020 13:36:25'}
    {'_id': ObjectId('5f376668d2ad6b71e5970b39'), 'session_ip': '127.0.0.1', 'user_email': 'jhleeroot@gmail.com', 'page': 'blog_A.html', 'access_time': '15/08/2020 13:36:56'}
    {'_id': ObjectId('5f376673d2ad6b71e5970b3b'), 'session_ip': '127.0.0.1', 'user_email': 'jhleeroot@gmail.com', 'page': 'blog_A.html', 'access_time': '15/08/2020 13:37:07'}
    {'_id': ObjectId('5f376692d2ad6b71e5970b3d'), 'session_ip': '127.0.0.1', 'user_email': 'jhleeroot@gmail.com', 'page': 'blog_A.html', 'access_time': '15/08/2020 13:37:38'}
    {'_id': ObjectId('5f378e22b0f391a391291cc5'), 'emailid': 'jhleeroot@gmail.com'}
    {'_id': ObjectId('5f3790b127142a0c16f9e0c9'), 'session_ip': '127.0.0.1', 'user_email': 'anonymous', 'page': 'blog_A.html', 'access_time': '15/08/2020 16:37:21'}
    {'_id': ObjectId('5f3790b327142a0c16f9e0cb'), 'session_ip': '127.0.0.1', 'user_email': 'anonymous', 'page': 'blog_B.html', 'access_time': '15/08/2020 16:37:23'}
    {'_id': ObjectId('5f3790c927142a0c16f9e0cd'), 'session_ip': '127.0.0.1', 'user_email': 'jhleeroot@gmail.com', 'page': 'blog_A.html', 'access_time': '15/08/2020 16:37:45'}
    {'_id': ObjectId('5f3795122eca64cf5477d2a4'), 'session_ip': '127.0.0.1', 'user_email': 'anonymous', 'page': 'blog_A.html', 'access_time': '15/08/2020 16:56:02'}
    {'_id': ObjectId('5f3795162eca64cf5477d2a6'), 'session_ip': '127.0.0.1', 'user_email': 'anonymous', 'page': 'blog_B.html', 'access_time': '15/08/2020 16:56:06'}
    {'_id': ObjectId('5f37963d2eca64cf5477d2a8'), 'session_ip': '127.0.0.1', 'user_email': 'dave@gmail.com', 'page': 'blog_A.html', 'access_time': '15/08/2020 17:01:01'}
    {'_id': ObjectId('5f37969d2eca64cf5477d2aa'), 'session_ip': '127.0.0.1', 'user_email': 'dave@gmail.com', 'page': 'blog_A.html', 'access_time': '15/08/2020 17:02:37'}
    {'_id': ObjectId('5f379ceddcebda5dc50bc5ff'), 'session_ip': '127.0.0.1', 'user_email': 'anonymous', 'page': 'blog_A.html', 'access_time': '15/08/2020 17:29:33'}
    {'_id': ObjectId('5f379cf1dcebda5dc50bc601'), 'session_ip': '127.0.0.1', 'user_email': 'dave@gmail.com', 'page': 'blog_A.html', 'access_time': '15/08/2020 17:29:37'}
    {'_id': ObjectId('5f379cfe42d06e6eea66e3f2'), 'session_ip': '127.0.0.1', 'user_email': 'dave@gmail.com', 'page': 'blog_A.html', 'access_time': '15/08/2020 17:29:50'}
    {'_id': ObjectId('5f379cff42d06e6eea66e3f4'), 'session_ip': '127.0.0.1', 'user_email': 'dave@gmail.com', 'page': 'blog_A.html', 'access_time': '15/08/2020 17:29:51'}
    {'_id': ObjectId('5f379d21968b9888985d3f74'), 'session_ip': '127.0.0.1', 'user_email': 'anonymous', 'page': 'blog_A.html', 'access_time': '15/08/2020 17:30:25'}
    {'_id': ObjectId('5f379d25968b9888985d3f76'), 'session_ip': '127.0.0.1', 'user_email': 'dave@gmail.com', 'page': 'blog_A.html', 'access_time': '15/08/2020 17:30:29'}
    {'_id': ObjectId('5f379d339c299e2cd3279ecb'), 'session_ip': '127.0.0.1', 'user_email': 'anonymous', 'page': 'blog_A.html', 'access_time': '15/08/2020 17:30:43'}
    {'_id': ObjectId('5f379d5dc96379d42af666ee'), 'session_ip': '127.0.0.1', 'user_email': 'anonymous', 'page': 'blog_A.html', 'access_time': '15/08/2020 17:31:25'}
    {'_id': ObjectId('5f379d60c96379d42af666f0'), 'session_ip': '127.0.0.1', 'user_email': 'dave@gmail.com', 'page': 'blog_A.html', 'access_time': '15/08/2020 17:31:28'}
    {'_id': ObjectId('5f379d693294dbc555bbe741'), 'session_ip': '127.0.0.1', 'user_email': 'dave@gmail.com', 'page': 'blog_A.html', 'access_time': '15/08/2020 17:31:37'}
    {'_id': ObjectId('5f379f09f7377e47140f4486'), 'session_ip': '127.0.0.1', 'user_email': 'dave@gmail.com', 'page': 'blog_A.html', 'access_time': '15/08/2020 17:38:33'}
    {'_id': ObjectId('5f379f3554325706bcb76545'), 'session_ip': '127.0.0.1', 'user_email': 'anonymous', 'page': 'blog_A.html', 'access_time': '15/08/2020 17:39:17'}
    {'_id': ObjectId('5f379f3654325706bcb76547'), 'session_ip': '127.0.0.1', 'user_email': 'anonymous', 'page': 'blog_B.html', 'access_time': '15/08/2020 17:39:18'}
    {'_id': ObjectId('5f37a07ee470163669d97fd0'), 'session_ip': '127.0.0.1', 'user_email': 'anonymous', 'page': 'blog_A.html', 'access_time': '15/08/2020 17:44:46'}
    {'_id': ObjectId('5f37a082e470163669d97fd2'), 'session_ip': '127.0.0.1', 'user_email': 'dave@gmail.com', 'page': 'blog_A.html', 'access_time': '15/08/2020 17:44:50'}
    {'_id': ObjectId('5f38d3011f03a27627a61de8'), 'session_ip': '127.0.0.1', 'user_email': 'anonymous', 'page': 'blog_A.html', 'access_time': '16/08/2020 15:32:33'}
    {'_id': ObjectId('5f38d3051f03a27627a61dea'), 'session_ip': '127.0.0.1', 'user_email': 'anonymous', 'page': 'blog_B.html', 'access_time': '16/08/2020 15:32:37'}
    {'_id': ObjectId('5f38d30d1f03a27627a61dec'), 'session_ip': '127.0.0.1', 'user_email': 'anonymous', 'page': 'blog_A.html', 'access_time': '16/08/2020 15:32:45'}
    {'_id': ObjectId('5f38d404fa835e2a15457254'), 'session_ip': '127.0.0.1', 'user_email': 'anonymous', 'page': 'blog_A.html', 'access_time': '16/08/2020 15:36:52'}
    {'_id': ObjectId('5f38d407fa835e2a15457256'), 'session_ip': '127.0.0.1', 'user_email': 'anonymous', 'page': 'blog_B.html', 'access_time': '16/08/2020 15:36:55'}
    {'_id': ObjectId('5f38d40dfa835e2a15457258'), 'session_ip': '127.0.0.1', 'user_email': 'dave@gmail.com', 'page': 'blog_A.html', 'access_time': '16/08/2020 15:37:01'}
    {'_id': ObjectId('5f38d40efa835e2a1545725a'), 'session_ip': '127.0.0.1', 'user_email': 'dave@gmail.com', 'page': 'blog_A.html', 'access_time': '16/08/2020 15:37:02'}
    {'_id': ObjectId('5f38d40ffa835e2a1545725c'), 'session_ip': '127.0.0.1', 'user_email': 'dave@gmail.com', 'page': 'blog_A.html', 'access_time': '16/08/2020 15:37:03'}
    {'_id': ObjectId('5f38d40ffa835e2a1545725e'), 'session_ip': '127.0.0.1', 'user_email': 'dave@gmail.com', 'page': 'blog_A.html', 'access_time': '16/08/2020 15:37:03'}
    {'_id': ObjectId('5f38d410fa835e2a15457260'), 'session_ip': '127.0.0.1', 'user_email': 'dave@gmail.com', 'page': 'blog_A.html', 'access_time': '16/08/2020 15:37:04'}
    {'_id': ObjectId('5f38defa34213b984bbcbc6f'), 'session_ip': '127.0.0.1', 'user_email': 'dave@gmail.com', 'page': 'blog_A.html', 'access_time': '16/08/2020 16:23:38'}
    {'_id': ObjectId('5f38e434704a2b25147ce925'), 'session_ip': '127.0.0.1', 'user_email': 'dave@gmail.com', 'page': 'blog_A.html', 'access_time': '16/08/2020 16:45:56'}
    {'_id': ObjectId('5f38e434704a2b25147ce927'), 'session_ip': '127.0.0.1', 'user_email': 'dave@gmail.com', 'page': 'blog_A.html', 'access_time': '16/08/2020 16:45:56'}
    {'_id': ObjectId('5f38e9c8d2ec0435489632c7'), 'session_ip': '127.0.0.1', 'user_email': 'anonymous', 'page': 'blog_A.html', 'access_time': '16/08/2020 17:09:44'}
    {'_id': ObjectId('5f39e30a4353de02944bc5e6'), 'session_ip': '192.168.35.190', 'user_email': 'anonymous', 'page': 'blog_A.html', 'access_time': '17/08/2020 10:53:14'}
    {'_id': ObjectId('5f39e3144353de02944bc5e8'), 'session_ip': '192.168.35.84', 'user_email': 'anonymous', 'page': 'blog_B.html', 'access_time': '17/08/2020 10:53:24'}
    {'_id': ObjectId('5f39e3184353de02944bc5ea'), 'session_ip': '192.168.35.84', 'user_email': 'dream@fun-coding.org', 'page': 'blog_A.html', 'access_time': '17/08/2020 10:53:28'}
    {'_id': ObjectId('5f39e31e4353de02944bc5ec'), 'session_ip': '192.168.35.190', 'user_email': 'jhleeroot@gmail.com', 'page': 'blog_A.html', 'access_time': '17/08/2020 10:53:34'}
    {'_id': ObjectId('5f39e3214353de02944bc5ee'), 'session_ip': '192.168.35.190', 'user_email': 'jhleeroot@gmail.com', 'page': 'blog_A.html', 'access_time': '17/08/2020 10:53:37'}
    {'_id': ObjectId('5f39e3224353de02944bc5f0'), 'session_ip': '192.168.35.84', 'user_email': 'dream@fun-coding.org', 'page': 'blog_A.html', 'access_time': '17/08/2020 10:53:38'}
    {'_id': ObjectId('5f3a3218de04be4c3f1ea802'), 'session_ip': '127.0.0.1', 'user_email': 'anonymous', 'page': 'blog_A.html', 'access_time': '17/08/2020 16:30:32'}
    {'_id': ObjectId('5f3a3219de04be4c3f1ea804'), 'session_ip': '127.0.0.1', 'user_email': 'anonymous', 'page': 'blog_B.html', 'access_time': '17/08/2020 16:30:33'}
    {'_id': ObjectId('5f3a321dde04be4c3f1ea806'), 'session_ip': '127.0.0.1', 'user_email': 'dave@gmail.com', 'page': 'blog_A.html', 'access_time': '17/08/2020 16:30:37'}
    {'_id': ObjectId('5f3a322ade04be4c3f1ea808'), 'session_ip': '127.0.0.1', 'user_email': 'dave@gmail.com', 'page': 'blog_A.html', 'access_time': '17/08/2020 16:30:50'}
    {'_id': ObjectId('5f3a3245de04be4c3f1ea80a'), 'session_ip': '127.0.0.1', 'user_email': 'anonymous', 'page': 'blog_A.html', 'access_time': '17/08/2020 16:31:17'}
    {'_id': ObjectId('5f3a324ede04be4c3f1ea80c'), 'session_ip': '127.0.0.1', 'user_email': 'dave@gmail.com', 'page': 'blog_A.html', 'access_time': '17/08/2020 16:31:26'}
    {'_id': ObjectId('5f3a3258de04be4c3f1ea80e'), 'session_ip': '127.0.0.1', 'user_email': 'dave@gmail.com', 'page': 'blog_A.html', 'access_time': '17/08/2020 16:31:36'}
    {'_id': ObjectId('5f3a3266de04be4c3f1ea810'), 'session_ip': '127.0.0.1', 'user_email': 'anonymous', 'page': 'blog_B.html', 'access_time': '17/08/2020 16:31:50'}
    {'_id': ObjectId('5f3a3267de04be4c3f1ea812'), 'session_ip': '127.0.0.1', 'user_email': 'anonymous', 'page': 'blog_A.html', 'access_time': '17/08/2020 16:31:51'}
    {'_id': ObjectId('5f3a326ade04be4c3f1ea814'), 'session_ip': '127.0.0.1', 'user_email': 'dave@gmail.com', 'page': 'blog_A.html', 'access_time': '17/08/2020 16:31:54'}
    {'_id': ObjectId('5f3a32a260f3aa42ffa76598'), 'session_ip': '127.0.0.1', 'user_email': 'anonymous', 'page': 'blog_A.html', 'access_time': '17/08/2020 16:32:50'}
    {'_id': ObjectId('5f3a32a360f3aa42ffa7659a'), 'session_ip': '127.0.0.1', 'user_email': 'anonymous', 'page': 'blog_B.html', 'access_time': '17/08/2020 16:32:51'}
    {'_id': ObjectId('5f3a32a660f3aa42ffa7659c'), 'session_ip': '127.0.0.1', 'user_email': 'dave@gmail.com', 'page': 'blog_A.html', 'access_time': '17/08/2020 16:32:54'}
    {'_id': ObjectId('5f3a32b660f3aa42ffa7659e'), 'session_ip': '127.0.0.1', 'user_email': 'anonymous', 'page': 'blog_A.html', 'access_time': '17/08/2020 16:33:10'}
    {'_id': ObjectId('5f3a32c8f6fe4fb8a93d1573'), 'session_ip': '127.0.0.1', 'user_email': 'dave@gmail.com', 'page': 'blog_A.html', 'access_time': '17/08/2020 16:33:28'}
    {'_id': ObjectId('5f3a32d3f6fe4fb8a93d1575'), 'session_ip': '127.0.0.1', 'user_email': 'anonymous', 'page': 'blog_A.html', 'access_time': '17/08/2020 16:33:39'}
    {'_id': ObjectId('5f3a32d5f6fe4fb8a93d1577'), 'session_ip': '127.0.0.1', 'user_email': 'anonymous', 'page': 'blog_B.html', 'access_time': '17/08/2020 16:33:41'}
    {'_id': ObjectId('5f3a3388b824ad43bd0a5ae6'), 'session_ip': '127.0.0.1', 'user_email': 'anonymous', 'page': 'blog_A.html', 'access_time': '17/08/2020 16:36:40'}
    {'_id': ObjectId('5f3a338cb824ad43bd0a5ae8'), 'session_ip': '127.0.0.1', 'user_email': 'dave@gmail.com', 'page': 'blog_A.html', 'access_time': '17/08/2020 16:36:44'}
    {'_id': ObjectId('5f3a3391b824ad43bd0a5aea'), 'session_ip': '127.0.0.1', 'user_email': 'dave@gmail.com', 'page': 'blog_A.html', 'access_time': '17/08/2020 16:36:49'}
    {'_id': ObjectId('5f3a3391b824ad43bd0a5aec'), 'session_ip': '127.0.0.1', 'user_email': 'dave@gmail.com', 'page': 'blog_A.html', 'access_time': '17/08/2020 16:36:49'}
    {'_id': ObjectId('5f3a339ab824ad43bd0a5aee'), 'session_ip': '127.0.0.1', 'user_email': 'dave@gmail.com', 'page': 'blog_A.html', 'access_time': '17/08/2020 16:36:58'}
    {'_id': ObjectId('5f3a3f197945cba084d7078d'), 'session_ip': '127.0.0.1', 'user_email': 'anonymous', 'page': 'blog_A.html', 'access_time': '17/08/2020 17:26:01'}
    {'_id': ObjectId('5f3a3f197945cba084d7078f'), 'session_ip': '127.0.0.1', 'user_email': 'anonymous', 'page': 'blog_B.html', 'access_time': '17/08/2020 17:26:01'}
    {'_id': ObjectId('5f3a3f1e7945cba084d70791'), 'session_ip': '127.0.0.1', 'user_email': 'kkk@kkk.com', 'page': 'blog_A.html', 'access_time': '17/08/2020 17:26:06'}
    {'_id': ObjectId('5f3a3f47554010887967b925'), 'session_ip': '127.0.0.1', 'user_email': 'kkk@kkk.com', 'page': 'blog_A.html', 'access_time': '17/08/2020 17:26:47'}
    {'_id': ObjectId('5f3a3f65b730ad4daa643ece'), 'session_ip': '127.0.0.1', 'user_email': 'anonymous', 'page': 'blog_A.html', 'access_time': '17/08/2020 17:27:17'}
    {'_id': ObjectId('5f3a3f66b730ad4daa643ed0'), 'session_ip': '127.0.0.1', 'user_email': 'anonymous', 'page': 'blog_B.html', 'access_time': '17/08/2020 17:27:18'}
    {'_id': ObjectId('5f3a3f6fb730ad4daa643ed2'), 'session_ip': '127.0.0.1', 'user_email': 'korea@korea.com', 'page': 'blog_A.html', 'access_time': '17/08/2020 17:27:27'}
    {'_id': ObjectId('5f3a3f8a77b01dbfa041099a'), 'session_ip': '127.0.0.1', 'user_email': 'anonymous', 'page': 'blog_A.html', 'access_time': '17/08/2020 17:27:54'}
    {'_id': ObjectId('5f3a3f8c77b01dbfa041099c'), 'session_ip': '127.0.0.1', 'user_email': 'anonymous', 'page': 'blog_B.html', 'access_time': '17/08/2020 17:27:56'}
    {'_id': ObjectId('5f3a3f9277b01dbfa041099e'), 'session_ip': '127.0.0.1', 'user_email': 'eee@eee.com', 'page': 'blog_A.html', 'access_time': '17/08/2020 17:28:02'}
    {'_id': ObjectId('5f3a3f9477b01dbfa04109a0'), 'session_ip': '127.0.0.1', 'user_email': 'anonymous', 'page': 'blog_A.html', 'access_time': '17/08/2020 17:28:04'}
    {'_id': ObjectId('5f3a48d1f06f511c40484472'), 'session_ip': '127.0.0.1', 'user_email': 'anonymous', 'page': 'blog_A.html', 'access_time': '17/08/2020 18:07:29'}
    {'_id': ObjectId('5f3a48d3f06f511c40484474'), 'session_ip': '127.0.0.1', 'user_email': 'anonymous', 'page': 'blog_B.html', 'access_time': '17/08/2020 18:07:31'}
    {'_id': ObjectId('5f3a48d5f06f511c40484476'), 'session_ip': '127.0.0.1', 'user_email': 'anonymous', 'page': 'blog_A.html', 'access_time': '17/08/2020 18:07:33'}
    {'_id': ObjectId('5f3b3ed84b108b3db28fb55e'), 'session_ip': '127.0.0.1', 'user_email': 'anonymous', 'page': 'blog_A.html', 'access_time': '18/08/2020 11:37:12'}
    {'_id': ObjectId('5f3b3f273445b86ba754e8a5'), 'session_ip': '127.0.0.1', 'user_email': 'anonymous', 'page': 'blog_A.html', 'access_time': '18/08/2020 11:38:31'}
    {'_id': ObjectId('5f3b3f2b3445b86ba754e8a7'), 'session_ip': '127.0.0.1', 'user_email': 'anonymous', 'page': 'blog_B.html', 'access_time': '18/08/2020 11:38:35'}
    {'_id': ObjectId('5f3b3f2c3445b86ba754e8a9'), 'session_ip': '127.0.0.1', 'user_email': 'anonymous', 'page': 'blog_A.html', 'access_time': '18/08/2020 11:38:36'}
    {'_id': ObjectId('5f3b3f2e3445b86ba754e8ab'), 'session_ip': '127.0.0.1', 'user_email': 'anonymous', 'page': 'blog_B.html', 'access_time': '18/08/2020 11:38:38'}
    {'_id': ObjectId('5f3b3f363445b86ba754e8ad'), 'session_ip': '127.0.0.1', 'user_email': 'anonymous', 'page': 'blog_A.html', 'access_time': '18/08/2020 11:38:46'}
    {'_id': ObjectId('5f3b3fd75ce16e9db0abbfb2'), 'session_ip': '127.0.0.1', 'user_email': 'anonymous', 'page': 'blog_A.html', 'access_time': '18/08/2020 11:41:27'}
    {'_id': ObjectId('5f3b3fd95ce16e9db0abbfb4'), 'session_ip': '127.0.0.1', 'user_email': 'anonymous', 'page': 'blog_B.html', 'access_time': '18/08/2020 11:41:29'}
    {'_id': ObjectId('5f3b414e1288cd63c98cf1f8'), 'session_ip': '127.0.0.1', 'user_email': 'anonymous', 'page': 'blog_A.html', 'access_time': '18/08/2020 11:47:42'}
    {'_id': ObjectId('5f3b4214693bdf55ebdc4f5c'), 'session_ip': '127.0.0.1', 'user_email': 'anonymous', 'page': 'blog_B.html', 'access_time': '18/08/2020 11:51:00'}
    {'_id': ObjectId('5f3b4318a987a7fc03d150d3'), 'session_ip': '127.0.0.1', 'user_email': 'anonymous', 'page': 'blog_A.html', 'access_time': '18/08/2020 11:55:20'}
    {'_id': ObjectId('5f3b431fa987a7fc03d150d5'), 'session_ip': '127.0.0.1', 'user_email': 'ggg@kkk.com', 'page': 'blog_A.html', 'access_time': '18/08/2020 11:55:27'}
    {'_id': ObjectId('5f3b4323a987a7fc03d150d7'), 'session_ip': '127.0.0.1', 'user_email': 'ggg@kkk.com', 'page': 'blog_A.html', 'access_time': '18/08/2020 11:55:31'}
    {'_id': ObjectId('5f3b4328a987a7fc03d150d9'), 'session_ip': '127.0.0.1', 'user_email': 'ggg@kkk.com', 'page': 'blog_A.html', 'access_time': '18/08/2020 11:55:36'}
    {'_id': ObjectId('5f3b4740775f63b2838feb0c'), 'session_ip': '127.0.0.1', 'user_email': 'anonymous', 'page': 'blog_A.html', 'access_time': '18/08/2020 12:13:04'}
    {'_id': ObjectId('5f3b4748775f63b2838feb0e'), 'session_ip': '127.0.0.1', 'user_email': 'dave@gmail.com', 'page': 'blog_A.html', 'access_time': '18/08/2020 12:13:12'}
    

<div class="alert alert-block" style="border: 2px solid #1976D2;background-color:#E3F2FD;padding:5px;font-size:0.9em;">
ë³¸ ìë£ŒëŠ” ì €ì‘ê¶Œë²• ì œ25ì¡° 2í•­ì— ì˜í•´ ë³´í˜¸ë¥¼ ë°›ìŠµë‹ˆë‹¤. ë³¸ ìë£Œë¥¼ ì™¸ë¶€ì— ê³µê°œí•˜ì§€ ë§ì•„ì£¼ì„¸ìš”.<br>
ë³¸ ê°•ì˜ë§Œ ì˜ ì •ë¦¬í•˜ë©´, ë°ì´í„° ë¶„ì„, ë°ì´í„° ê³¼í•™, í’€ìŠ¤íƒ(ë°±ì—”ë“œ, í”„ë¡ íŠ¸ì—”ë“œ) ê°œë°œ ëª¨ë‘ ê°€ëŠ¥í•©ë‹ˆë‹¤!<br>
<b><a href="https://school.fun-coding.org/">ì”ì¬ë¯¸ì½”ë”©</a> ì—ì„œ ë³¸ ê°•ì˜ ê¸°ë°˜ ìµœì í™”ëœ ë¡œë“œë§µë„ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤</b></div>



# 10_flask_login
<div class="alert alert-block" style="border: 2px solid #1976D2;background-color:#E3F2FD;padding:5px;font-size:0.9em;">
ë³¸ ìë£ŒëŠ” ì €ì‘ê¶Œë²• ì œ25ì¡° 2í•­ì— ì˜í•´ ë³´í˜¸ë¥¼ ë°›ìŠµë‹ˆë‹¤. ë³¸ ìë£Œë¥¼ ì™¸ë¶€ì— ê³µê°œí•˜ì§€ ë§ì•„ì£¼ì„¸ìš”.<br>
ë³¸ ê°•ì˜ë§Œ ì˜ ì •ë¦¬í•˜ë©´, ë°ì´í„° ë¶„ì„, ë°ì´í„° ê³¼í•™, í’€ìŠ¤íƒ(ë°±ì—”ë“œ, í”„ë¡ íŠ¸ì—”ë“œ) ê°œë°œ ëª¨ë‘ ê°€ëŠ¥í•©ë‹ˆë‹¤!<br>
<b><a href="https://school.fun-coding.org/">ì”ì¬ë¯¸ì½”ë”©</a> ì—ì„œ ë³¸ ê°•ì˜ ê¸°ë°˜ ìµœì í™”ëœ ë¡œë“œë§µë„ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤</b></div>

## flask_login ë¼ì´ë¸ŒëŸ¬ë¦¬

## 1. flask_login ë€?

- ì‚¬ìš©ìë¥¼ ì²´í¬í•˜ëŠ” ê¸°ëŠ¥ì„ ë‹´ë‹¹í•˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬
- ì˜ˆ:
  - ì‚¬ìš©ìê°€ ë¡œê·¸ì¸ì‹œ, flask_login ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ë©´, ì‚¬ìš©ì ê´€ë ¨ session ì •ë³´ë¥¼ HTTP response ì— ë„£ì–´ì„œ ë³´ë‚´ì£¼ê³ ,
  - ì´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ flask ì„œë²„ì—ì„œ ì‚¬ìš©ìë¥¼ êµ¬ë³„í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì„ ì œê³µ

### flask_login ì£¼ìš” ë™ì‘ ë°©ì‹

1. ì‚¬ìš©ìê°€ ë¡œê·¸ì¸í•˜ë©´, ë¡œê·¸ì¸ ì •ë³´ë¥¼ User class ì—ì„œ ê°ì²´ë¡œ ê°€ì ¸ì˜¤ê³ , LoginManager() ì— ì¶”ê°€í•˜ì—¬ ì„¸ì…˜ ìƒì„±
   - flask ì„œë²„ê°€ ë¦¬í„´ì‹œì— í•´ë‹¹ ì„¸ì…˜ ì •ë³´ë¥¼ ì›¹í˜ì´ì§€ì— ì†¡ë¶€
2. current_user ê°ì²´ì— í•´ë‹¹ ê°ì²´ê°€ ì €ì¥ë¨
   - ì£¼ìš” attribute
     - current_user.id : ì‚¬ìš©ì ID (unicode ë¡œ ëœ ê°’, python string ì´ë¼ê³  ë´ë„ ë¨)
       - python3 ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ unicode ë¥¼ ì‚¬ìš©
     - current_user.is_authenticated : ì‚¬ìš©ìê°€ ë¡œê·¸ì¸ë˜ì—ˆëŠ”ì§€ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ê°’ (True or False)
     - ì´ì™¸ì˜ attribute ëŠ” User class ë¥¼ ì •ì˜í•˜ë©´ì„œ, í•„ìš”ì— ë”°ë¼ ì¶”ê°€í•˜ë©´ ë¨
3. ë¡œê·¸ì¸ í›„ ì›¹í˜ì´ì§€ë¡œ flask ì„œë²„ ì ‘ê·¼ì‹œ, ì „ë‹¬ë°›ì€ ì„¸ì…˜ ì •ë³´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì ‘ê·¼
   - ì„¸ì…˜ ì •ë³´ì—ì„œ idë¥¼ ì¶”ì¶œí•´ì„œ, LoginManager() ì—ì„œ ë‹¤ë£¨ëŠ” id ì¼ ê²½ìš°, @login_required ë¡œ ë°ì½”ë ˆì´í„°ê°€ ì¶”ê°€ëœ API ì ‘ê·¼ í—ˆìš©
4. ì‚¬ìš©ìê°€ ë¡œê·¸ì•„ì›ƒì‹œ LoginManager() ì—ì„œ í•´ë‹¹ id ì œê±°

### ë¬¸ì œëŠ” User class êµ¬í˜„ ì˜ˆê°€ ë§ì§€ ì•ŠìŒ
- ì¦‰, ê°ìì˜ ì•„í‚¤í…ì³ ê¸°ë°˜ í•˜ì— ìƒì„± í•„ìš”
- User class ì—ëŠ” flask_login ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ UserMixin í´ë˜ìŠ¤ë¥¼ ìƒì†ë°›ì•„ì„œ êµ¬í˜„í•˜ëŠ” ê²ƒë§Œ ê°€ì´ë“œ

### flask_login User class ê°€ ì§€ì›í•´ì•¼í•  ë³€ìˆ˜/í•¨ìˆ˜ë“¤
- is_authenticated: This property should return True if the user is authenticated
- is_active: This property should return True if this is an active user (ê³„ì • ì¤‘ì§€ëœ ì‚¬ìš©ì í™•ì¸)
- is_anonymous: This property should return True if this is an anonymous user
- get_id(): This method must return a unicode that uniquely identifies this user, and can be used to load the user from the user_loader callback

> UserMixin í´ë˜ìŠ¤ ìƒì†ì‹œ ê´€ë ¨ ê¸°ë³¸ ë³€ìˆ˜/í•¨ìˆ˜ê°€ ìƒì†ë˜ê³ , í•„ìš”ì‹œì—ë§Œ override í•˜ë©´ ë¨

## 2. flask_login ì½”ë“œ êµ¬í˜„

### flask_login ì´ˆê¸° ì„¤ì • ì½”ë“œ
- ì„¸ì…˜ generation ì„ ìœ„í•´, flask ì—ì„œ secret key ë¥¼ ì •ì˜í•´ì¤˜ì•¼ í•¨
```python
app.secret_key = os.urandom(24)
```

- flask_login ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ì„œ ì„¸ì…˜ ê´€ë¦¬
  - ë‹¤ìŒ ì½”ë“œì—ì„œ "strong" ì˜µì…˜ì„ ì‚¬ìš©í•  ì‹œ Session ë³´ì•ˆ ì ìš©
```python
login_manager = LoginManager()
login_manager.init_app(app)
login_manager.session_protection = "strong"
```

### ì‚¬ìš©ì session ìƒì„±
- User í´ë˜ìŠ¤ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì‚¬ìš©ì ê°ì²´ë¥¼ ìƒì„±í•œ í›„, flask_login.login_user() í•¨ìˆ˜ì— í•´ë‹¹ ê°ì²´ë¥¼ ë„£ì–´ì£¼ë©´,
- í•´ë‹¹ ì‚¬ìš©ì ê¸°ë°˜ session ì´ ìƒì„±ë¨
- í•´ë‹¹ session ì€ HTTP response ì— ë„£ì–´ì ¸ì„œ ì‚¬ìš©ì ì›¹ë¸Œë¼ìš°ì €ì— ì†¡ë¶€ë¨
  - HTTP Response ì— Set-Cookie ì˜µì…˜ì— í•´ë‹¹ session ì •ë³´ë¥¼ ë„£ì–´ì„œ ì†¡ë¶€í•˜ë©´,
  - ì‚¬ìš©ì ì›¹ë¸Œë¼ìš°ì €ì—ì„œëŠ” ì¶”í›„ í•´ë‹¹ ì„œë²„ ì£¼ì†Œë¡œ HTTP request ì†¡ë¶€ì‹œ í•´ë‹¹ session ì •ë³´ë¥¼ ìë™ìœ¼ë¡œ ë„£ì–´ì„œ ìš”ì²­í•¨
  - flask_login ì€ HTTP request ì—ì„œ ìë™ìœ¼ë¡œ session ì •ë³´ë¥¼ ê°€ì ¸ì™€ì„œ, ì‚¬ìš©ìë¥¼ êµ¬ë¶„í•¨
- session ìƒì„±ì‹œ, ì‚¬ìš©ì HTTP request ì— ë“¤ì–´ ìˆëŠ” ì‚¬ìš©ì IP address ì™€ user agent ë“±ì„ í•¨ê»˜ ì°¸ì¡°í•´ì„œ session ì„ ìƒì„±í•˜ë¯€ë¡œ,
  - ë‹¤ë¥¸ ì‚¬ìš©ìê°€ session íƒˆì·¨í•˜ë”ë¼ë„, ì‚¬ìš©ì IP address ì™€ user agent ê¹Œì§€ ë™ì¼í•˜ê²Œ HTTP request ì— ë„£ì–´ì„œ ìš”ì²­í•´ì•¼ í•˜ê³ ,
  - ì´ ê²½ìš° ì´ì— ëŒ€í•œ ì‘ë‹µì€ ë‹¤ë¥¸ ì»´í“¨í„°ì˜ ì‚¬ìš©ìê°€ ì•„ë‹Œ, í•´ë‹¹ ì‚¬ìš©ì IP ë¡œ ì „ì†¡ë˜ë¯€ë¡œ, session ë³´ì•ˆì— ìœ ìš©í•¨
  
```python
from flask_login import login_user

user = User.create(user_email, blog_id)
login_user(user)
```

### login_manager ê´€ë ¨ ì‚¬ì „ ì„ ì–¸ í•„ìš” í•¨ìˆ˜

> ë‹¤ìŒ ë‘ í•¨ìˆ˜ëŠ” ì‚¬ì „ ì„ ì–¸ í•„ìš”

#### ë¡œê·¸ì¸ í›„ ìµœì´ˆ current_user í˜¸ì¶œì‹œ ë‹¤ìŒ ì½”ë“œ í˜¸ì¶œ

- ì‚¬ìš©ì ì •ë³´ë¥¼ flask_login ê³¼ í•¨ê»˜ ì‚¬ìš©ë˜ëŠ” User class ë¥¼ í†µí•´ ê°€ì ¸ì˜´

```python
@login_manager.user_loader
def load_user(user_id):
    return User.get(user_id)
```

#### @login_required ë°ì½”ë ˆì´í„°ë¡œ ë¡œê·¸ì¸ í›„ ì ‘ê·¼ ê°€ëŠ¥í•œ í˜ì´ì§€ protection ê°€ëŠ¥
> ë¡œê·¸ì¸ì´ ì•ˆëœ ì±„ë¡œ í•´ë‹¹ í˜ì´ì§€ ì ‘ê·¼ì‹œ @login_manager.unauthorized_handler ì— ì •ì˜ëœ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë¯€ë¡œ, í•„ìš”ì‹œ êµ¬í˜„ ì›í•˜ëŠ” í˜•íƒœë¡œ êµ¬í˜„ ê°€ëŠ¥ <br>
  
```python
@login_manager.unauthorized_handler
def unauthorized():
    return make_response(jsonify(success=False), 401)
```

### User class êµ¬í˜„
- User class ëŠ” UserMixin class ë¥¼ ìƒì†í•´ì•¼ í•¨
- ì†ì„±ìœ¼ë¡œ ì‚¬ìš©ìë¥¼ êµ¬ë¶„í•  ìˆ˜ ìˆëŠ” id ë¥¼ ë°˜ë“œì‹œ ê°€ì§€ê³  ìˆì–´ì•¼ í•¨
- ì´ì™¸ ì½”ë“œì— ëŒ€í•´ì„œëŠ” êµ¬í˜„ì„ í†µí•´ ì„¤ëª…

```python
class User(UserMixin):

    def __init__(self, user_id, user_email, blog_id):
        self.id = user_id
        self.user_email = user_email
        self.blog_id = blog_id

    def get_id(self):
        return str(self.id)

    @staticmethod
    def get(user_id):
        mysql_db = conn_mysqldb()
        db_cursor = mysql_db.cursor()
        sql = "SELECT * FROM user_info WHERE USER_ID = '" + \
            str(user_id) + "'"
        db_cursor.execute(sql)
        user = db_cursor.fetchone()
        if not user:
            db_cursor.close()
            return None

        print(user)
        user = User(user_id=user[0], user_email=user[1], blog_id=user[2])
        db_cursor.close()
        return user

    @staticmethod
    def find(user_email):
        mysql_db = conn_mysqldb()
        db_cursor = mysql_db.cursor()
        sql = "SELECT * FROM user_info WHERE USER_EMAIL = '" + \
            str(user_email) + "'"
        db_cursor.execute(sql)
        user = db_cursor.fetchone()
        if not user:
            db_cursor.close()
            return None

        print(user)
        user = User(user_id=user[0], user_email=user[1], blog_id=user[2])
        db_cursor.close()
        return user

    @staticmethod
    def create(user_email, blog_id):
        user = User.find(user_email)
        if user == None:
            mysql_db = conn_mysqldb()
            db_cursor = mysql_db.cursor()
            sql = "INSERT INTO user_info (USER_EMAIL, BLOG_ID) VALUES ('%s', '%s')" % (
                str(user_email), str(blog_id))
            db_cursor.execute(sql)
            mysql_db.commit()
            return User.find(user_email)
        else:
            return user
```

<div class="alert alert-block" style="border: 2px solid #1976D2;background-color:#E3F2FD;padding:5px;font-size:0.9em;">
ë³¸ ìë£ŒëŠ” ì €ì‘ê¶Œë²• ì œ25ì¡° 2í•­ì— ì˜í•´ ë³´í˜¸ë¥¼ ë°›ìŠµë‹ˆë‹¤. ë³¸ ìë£Œë¥¼ ì™¸ë¶€ì— ê³µê°œí•˜ì§€ ë§ì•„ì£¼ì„¸ìš”.<br>
ë³¸ ê°•ì˜ë§Œ ì˜ ì •ë¦¬í•˜ë©´, ë°ì´í„° ë¶„ì„, ë°ì´í„° ê³¼í•™, í’€ìŠ¤íƒ(ë°±ì—”ë“œ, í”„ë¡ íŠ¸ì—”ë“œ) ê°œë°œ ëª¨ë‘ ê°€ëŠ¥í•©ë‹ˆë‹¤!<br>
<b><a href="https://school.fun-coding.org/">ì”ì¬ë¯¸ì½”ë”©</a> ì—ì„œ ë³¸ ê°•ì˜ ê¸°ë°˜ ìµœì í™”ëœ ë¡œë“œë§µë„ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤</b></div>



# 11_class_basic
<div class="alert alert-block" style="border: 2px solid #1976D2;background-color:#E3F2FD;padding:5px;font-size:0.9em;">
ë³¸ ìë£ŒëŠ” ì €ì‘ê¶Œë²• ì œ25ì¡° 2í•­ì— ì˜í•´ ë³´í˜¸ë¥¼ ë°›ìŠµë‹ˆë‹¤. ë³¸ ìë£Œë¥¼ ì™¸ë¶€ì— ê³µê°œí•˜ì§€ ë§ì•„ì£¼ì„¸ìš”.<br>
ë³¸ ê°•ì˜ë§Œ ì˜ ì •ë¦¬í•˜ë©´, ë°ì´í„° ë¶„ì„, ë°ì´í„° ê³¼í•™, í’€ìŠ¤íƒ(ë°±ì—”ë“œ, í”„ë¡ íŠ¸ì—”ë“œ) ê°œë°œ ëª¨ë‘ ê°€ëŠ¥í•©ë‹ˆë‹¤!<br>
<b><a href="https://school.fun-coding.org/">ì”ì¬ë¯¸ì½”ë”©</a> ì—ì„œ ë³¸ ê°•ì˜ ê¸°ë°˜ ìµœì í™”ëœ ë¡œë“œë§µë„ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤</b></div>

## 1. ì˜ˆì œë¡œ ì´í•´í•˜ëŠ” ê°ì²´ì§€í–¥ ë¬¸ë²• (classì™€ object)

### ì‚¬ê°í˜• ë§Œë“¤ê¸°

  <img src="https://www.fun-coding.org/00_Images/quadrangle.png" />

### 3.1. class ì„ ì–¸í•˜ê¸°
### ê°ì²´ ìƒì„± ì „ì— ë¯¸ë¦¬ classë¥¼ ì„ ì–¸í•´ì•¼ í•¨


```python
class Quadrangle:
    pass
```


```python
class SingleWord:
    pass
```


```python
dir (SingleWord)
```




    ['__class__',
     '__delattr__',
     '__dict__',
     '__dir__',
     '__doc__',
     '__eq__',
     '__format__',
     '__ge__',
     '__getattribute__',
     '__gt__',
     '__hash__',
     '__init__',
     '__init_subclass__',
     '__le__',
     '__lt__',
     '__module__',
     '__ne__',
     '__new__',
     '__reduce__',
     '__reduce_ex__',
     '__repr__',
     '__setattr__',
     '__sizeof__',
     '__str__',
     '__subclasshook__',
     '__weakref__']



* class ë„ ë³€ìˆ˜/í•¨ìˆ˜ì™€ ë§ˆì°¬ê°€ì§€ë¡œ ìœ ì¼í•œ ì´ë¦„ì„ ì§€ì–´ì¤˜ì•¼ í•¨
* class ì— attribute/methodë¥¼ ì•„ì§ ì•ˆë„£ì€ ìƒíƒœì´ë¯€ë¡œ, í´ë˜ìŠ¤ì— ë‚´ìš©ì´ ì—†ê¸°ì— ì„ì˜ë¡œ pass ë¥¼ ë„£ì–´ í´ë˜ìŠ¤ ì„ ì–¸ì´ ëë‚¬ìŒì„ ì•Œë ¤ì¤Œ
  - passëŠ” ì•„ë¬´ê²ƒë„ ìˆ˜í–‰í•˜ì§€ ì•ŠëŠ” ë¬¸ë²•, ì„ì‹œ ì½”ë“œ ì‘ì„±ì‹œ ì£¼ë¡œ ì‚¬ìš©
* í´ë˜ìŠ¤ëª…ì€ PEP Coding Conventionì— ê°€ì´ë“œëœ ëŒ€ë¡œ ê° ë‹¨ì–´ì˜ ì²« ë¬¸ìë¥¼ ëŒ€ë¬¸ìë¡œ í•˜ëŠ” CapWords ë°©ì‹ì„ ì‚¬ìš©

### ë§Œë“¤ì–´ì§„ í´ë˜ìŠ¤ë¡œ ê°ì²´ë¥¼ ë§Œë“¤ ìˆ˜ ìˆìŒ
* ê°ì²´ë„ ë³€ìˆ˜/í•¨ìˆ˜/í´ë˜ìŠ¤ì™€ ë§ˆì°¬ê°€ì§€ë¡œ ìœ ì¼í•œ ì´ë¦„ì„ ì§€ì–´ì¤˜ì•¼ í•¨
* í•¨ìˆ˜ì™€ ë§ˆì°¬ê°€ì§€ë¡œ ì¸ìˆ˜ë¥¼ ë„£ì„ ìˆ˜ ìˆìŒ


```python
square = Quadrangle()
```


```python
dave = Quadrangle()
```


```python
dave1 = Quadrangle()
```


```python
dir(dave)
```




    ['__class__',
     '__delattr__',
     '__dict__',
     '__dir__',
     '__doc__',
     '__eq__',
     '__format__',
     '__ge__',
     '__getattribute__',
     '__gt__',
     '__hash__',
     '__init__',
     '__init_subclass__',
     '__le__',
     '__lt__',
     '__module__',
     '__ne__',
     '__new__',
     '__reduce__',
     '__reduce_ex__',
     '__repr__',
     '__setattr__',
     '__sizeof__',
     '__str__',
     '__subclasshook__',
     '__weakref__']




```python
# ê°ì²´ squareëŠ” Quadrangleì˜ ì¸ìŠ¤í„´ìŠ¤
type(square)
```




    __main__.Quadrangle




```python
type(dave)
```




    __main__.Quadrangle



### 3.2. attribute ë„£ì–´ë³´ê¸°
* ë§Œë“¤ê³ ì í•˜ëŠ” ì†ì„± ìƒê°í•´ë³´ê¸°
  - width, height, color


```python
class Quadrangle:
    def __init__(self, width, height, color):
        self.width = width
        self.height = height
        self.color = color
```


```python
dir(Quadrangle)
```




    ['__class__',
     '__delattr__',
     '__dict__',
     '__dir__',
     '__doc__',
     '__eq__',
     '__format__',
     '__ge__',
     '__getattribute__',
     '__gt__',
     '__hash__',
     '__init__',
     '__init_subclass__',
     '__le__',
     '__lt__',
     '__module__',
     '__ne__',
     '__new__',
     '__reduce__',
     '__reduce_ex__',
     '__repr__',
     '__setattr__',
     '__sizeof__',
     '__str__',
     '__subclasshook__',
     '__weakref__']




```python
square1 = Quadrangle(12, 12, 'red')
square2 = Quadrangle(10, 10, 'blue')
```


```python
dir(square1)
```




    ['__class__',
     '__delattr__',
     '__dict__',
     '__dir__',
     '__doc__',
     '__eq__',
     '__format__',
     '__ge__',
     '__getattribute__',
     '__gt__',
     '__hash__',
     '__init__',
     '__init_subclass__',
     '__le__',
     '__lt__',
     '__module__',
     '__ne__',
     '__new__',
     '__reduce__',
     '__reduce_ex__',
     '__repr__',
     '__setattr__',
     '__sizeof__',
     '__str__',
     '__subclasshook__',
     '__weakref__',
     'color',
     'height',
     'width']



### ê°ì²´ì˜ attribute ì ‘ê·¼í•˜ê¸°
* ê°ì²´ëª….attributeëª…


```python
square1.color
```




    'red'




```python
square2.color = 'red'
```


```python
square1.color
```




    'red'




```python
square2.color
```




    'red'




```python
square1.height = 5
```


```python
print (square1.height, square2.height)
```

    5 10
    

<div class="alert alert-block alert-success">
<strong><font color="blue" size="4em">ì´ˆê°„ë‹¨ ì—°ìŠµ</font></strong><br>
* width, height, color ì†ì„±ì„ ê°€ì§„ ì‚¬ê°í˜• í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ê³  ë‹¤ìŒ 2ê°œì˜ ê°ì²´ ë§Œë“¤ê¸° (ê°ì²´ ì†ì„±ì„ ë°”ê¿”ì£¼ì‹œê³ , ì¶œë ¥ë„ í•´ë³´ì„¸ìš”)<br>
  - ì§ì‚¬ê°í˜• 1ê°œ ê°ì²´ ì†ì„±: width=10, height=5, color='red'<br>
  - ì •ì‚¬ê°í˜• 1ê°œ ê°ì²´ ì†ì„±: width=7, height=7, color='blue'<br>
</div>


```python
class Dave:
    def __init__(self, width, height, color):    
        self.width = width
        self.height = height
        self.color = color
        
square1 = Dave(10, 5, 'red')
square2 = Dave(7, 7, 'blue')

print (square1.width, square1.height, square1.color)
print (square2.width, square2.height, square2.color)
```

    10 5 red
    7 7 blue
    

### 3.3 method ë„£ì–´ë³´ê¸°
#### ë§Œë“¤ê³ ì í•˜ëŠ” method ìƒê°í•´ë³´ê¸°1
  - ì‚¬ê°í˜• ë„“ì´ êµ¬í•˜ê¸°    


```python
class Quadrangle:
    def __init__(self, width, height, color):    
        self.width = width
        self.height = height
        self.color = color

    def get_area(self):
        return self.width * self.height
```

#### ì´ ë¶€ë¶„ì„ ì´í•´í•´ì•¼ í•¨
* íŒŒì´ì¬ methodëŠ” í•­ìƒ ì²« ë²ˆì§¸ íŒŒë¼ë¯¸í„°ë¡œ self ì‚¬ìš©
  * ì¸ìê°€ í•„ìš”ì—†ì„ ë•Œì—ë„ selfëŠ” ì‚¬ìš©
* í´ë˜ìŠ¤ì˜ attributeëŠ” ë‚´ë¶€ì—ì„œ ì ‘ê·¼ì‹œ, **self.attributeëª… ìœ¼ë¡œ ì ‘ê·¼**

#### ë§Œë“¤ê³ ì í•˜ëŠ” method ìƒê°í•´ë³´ê¸°2
  - ì‚¬ê°í˜• width, height ì„¤ì •í•˜ê¸°   


```python
class Quadrangle:
    def __init__(self, width, height, color):    
        self.width = width
        self.height = height
        self.color = color

    def get_area(self):
        return self.width * self.height
    
    def set_area(self, data1, data2):
        self.width = data1 
        self.height = data2
```

### ê°ì²´ì˜ method ì ‘ê·¼í•˜ê¸°
* ê°ì²´ëª….methodëª…


```python
square = Quadrangle(2, 3, 'blue')
square.set_area(5, 5)
```


```python
square.width
```




    5



#### method í˜¸ì¶œì‹œ, ì²« ë²ˆì§¸ ì¸ìë¡œ ê°ì²´ ìì‹ ì´ ë„£ì–´ì§€ê¸° ë•Œë¬¸ì—, self ë¥¼ method ì²« ë²ˆì§¸ ì¸ìë¡œ í•­ìƒ ë„£ì–´ì•¼ í•¨

  <img src="https://www.fun-coding.org/00_Images/self.png" />


```python
square.get_area()
```




    25



<div class="alert alert-block alert-success">
<strong><font color="blue" size="4em">ì´ˆê°„ë‹¨ ì—°ìŠµ</font></strong><br>
* ìœ„ì—ì„œ ì‘ì„±í•œ Quadrangle í´ë˜ìŠ¤ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì§ì‚¬ê°í˜• 1ê°œ ê°ì²´ì™€ ì •ì‚¬ê°í˜• 1ê°œ ê°ì²´ë¥¼ ë§Œë“¤ê³ , ê° ì‚¬ê°í˜• ë„ˆë¹„ ì¶œë ¥í•˜ê¸°<br>
  - ì§ì‚¬ê°í˜•2ê°œ ì†ì„±: width=10, height=5, color='red'<br>
  - ì •ì‚¬ê°í˜•2ê°œ ì†ì„±: width=7, height=7, color='blue'<br>
</div>


```python
class Quadrangle:
    def __init__(self, width, height, color):    
        self.width = width
        self.height = height
        self.color = color

    def get_area(self):
        return self.width * self.height
    
    def set_area(self, data1, data2):
        self.width = data1 
        self.height = data2

square1 = Quadrangle(1, 2, 'blue')
square2 = Quadrangle(3, 4, 'red')

square1.set_area(10, 5)
square2.set_area(7, 7)
square1.color = 'red'
square1.color = 'blue'

print(square1.get_area())
print(square2.get_area())

```

    50
    49
    

<div class="alert alert-block" style="border: 2px solid #1976D2;background-color:#E3F2FD;padding:5px;font-size:0.9em;">
ë³¸ ìë£ŒëŠ” ì €ì‘ê¶Œë²• ì œ25ì¡° 2í•­ì— ì˜í•´ ë³´í˜¸ë¥¼ ë°›ìŠµë‹ˆë‹¤. ë³¸ ìë£Œë¥¼ ì™¸ë¶€ì— ê³µê°œí•˜ì§€ ë§ì•„ì£¼ì„¸ìš”.<br>
ë³¸ ê°•ì˜ë§Œ ì˜ ì •ë¦¬í•˜ë©´, ë°ì´í„° ë¶„ì„, ë°ì´í„° ê³¼í•™, í’€ìŠ¤íƒ(ë°±ì—”ë“œ, í”„ë¡ íŠ¸ì—”ë“œ) ê°œë°œ ëª¨ë‘ ê°€ëŠ¥í•©ë‹ˆë‹¤!<br>
<b><a href="https://school.fun-coding.org/">ì”ì¬ë¯¸ì½”ë”©</a> ì—ì„œ ë³¸ ê°•ì˜ ê¸°ë°˜ ìµœì í™”ëœ ë¡œë“œë§µë„ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤</b></div>



# 12_inheritance
<div class="alert alert-block" style="border: 2px solid #1976D2;background-color:#E3F2FD;padding:5px;font-size:0.9em;">
ë³¸ ìë£ŒëŠ” ì €ì‘ê¶Œë²• ì œ25ì¡° 2í•­ì— ì˜í•´ ë³´í˜¸ë¥¼ ë°›ìŠµë‹ˆë‹¤. ë³¸ ìë£Œë¥¼ ì™¸ë¶€ì— ê³µê°œí•˜ì§€ ë§ì•„ì£¼ì„¸ìš”.<br>
ë³¸ ê°•ì˜ë§Œ ì˜ ì •ë¦¬í•˜ë©´, ë°ì´í„° ë¶„ì„, ë°ì´í„° ê³¼í•™, í’€ìŠ¤íƒ(ë°±ì—”ë“œ, í”„ë¡ íŠ¸ì—”ë“œ) ê°œë°œ ëª¨ë‘ ê°€ëŠ¥í•©ë‹ˆë‹¤!<br>
<b><a href="https://school.fun-coding.org/">ì”ì¬ë¯¸ì½”ë”©</a> ì—ì„œ ë³¸ ê°•ì˜ ê¸°ë°˜ ìµœì í™”ëœ ë¡œë“œë§µë„ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤</b></div>

## 2. ì˜ˆì œë¡œ ì´í•´í•˜ëŠ” ê°ì²´ì§€í–¥ ë¬¸ë²• (ìƒì†)

### 1. Class Inheritance (ìƒì†)
  - **ì¶”ìƒí™”(abstraction)**: ì—¬ëŸ¬ í´ë˜ìŠ¤ì— ì¤‘ë³µë˜ëŠ” ì†ì„±, ë©”ì„œë“œë¥¼ í•˜ë‚˜ì˜ ê¸°ë³¸ í´ë˜ìŠ¤ë¡œ ì‘ì„±í•˜ëŠ” ì‘ì—…
  - **ìƒì†(inheritance)**: ê¸°ë³¸ í´ë˜ìŠ¤ì˜ ê³µí†µ ê¸°ëŠ¥ì„ ë¬¼ë ¤ë°›ê³ , ë‹¤ë¥¸ ë¶€ë¶„ë§Œ ì¶”ê°€ ë˜ëŠ” ë³€ê²½í•˜ëŠ” ê²ƒ
    + ì´ ë•Œ ê¸°ë³¸ í´ë˜ìŠ¤ëŠ” ë¶€ëª¨ í´ë˜ìŠ¤(ë˜ëŠ” ìƒìœ„ í´ë˜ìŠ¤), Parent, Super, Base class ë¼ê³  ë¶€ë¦„
    + ê¸°ë³¸ í´ë˜ìŠ¤ ê¸°ëŠ¥ì„ ë¬¼ë ¤ë°›ëŠ” í´ë˜ìŠ¤ëŠ” ìì‹ í´ë˜ìŠ¤(ë˜ëŠ” í•˜ìœ„ í´ë˜ìŠ¤), Child, Sub, Derived class ë¼ê³  ë¶€ë¦„
  <br><br>
  - ì½”ë“œ ì¬ì‚¬ìš©ì´ ê°€ëŠ¥, ê³µí†µ ê¸°ëŠ¥ì˜ ê²½ìš° ê¸°ë³¸ í´ë˜ìŠ¤ ì½”ë“œë§Œ ìˆ˜ì •í•˜ë©´ ëœë‹¤ëŠ” ì¥ì 
  - ë¶€ëª¨ í´ë˜ìŠ¤ê°€ ë‘˜ ì´ìƒì¸ ê²½ìš°ëŠ” ë‹¤ì¤‘ ìƒì† ì´ë¼ê³  ë¶€ë¦„
 <img src="https://www.fun-coding.org/00_Images/oop3.png" />

### ì˜ˆ: ì‚¬ê°í˜•, ì‚¼ê°í˜•, ì› í´ë˜ìŠ¤
* ê³µí†µì ê³¼ ì°¨ì´ì  ì°¾ì•„ë³´ê¸°
  + ì‚¬ê°í˜•: **ì‚¬ê°í˜• ì´ë¦„, ì‚¬ê°í˜• ìƒ‰**, ì‚¬ê°í˜• ë„ˆë¹„/ë†’ì´, ì‚¬ê°í˜• ë„“ì´
  + ì‚¼ê°í˜•: **ì‚¼ê°í˜• ì´ë¦„, ì‚¼ê°í˜• ìƒ‰**, ì‚¼ê°í˜• í•œ ë³€ ê¸¸ì´, ì‚¼ê°í˜• ë„“ì´
  + ì›: **ì› ì´ë¦„, ì› ìƒ‰**, ì› ë°˜ì§€ë¦„, ì› ë„“ì´

* ë¶€ëª¨ í´ë˜ìŠ¤ë¥¼ ìì‹ í´ë˜ìŠ¤ì— ì¸ìë¡œ ë„£ìœ¼ë©´ ìƒì†ì´ ë¨
<pre>
  - ë‹¤ìŒ ì½”ë“œëŠ” __init__(self, name, color) ë©”ì„œë“œê°€ ìƒì†ë˜ê³ ,
  - self.nameê³¼ self.color ë„ __init__ ì‹¤í–‰ì‹œ ìƒì„±ë¨
</pre>


```python
class Figure:
    def __init__(self, name, color):
        self.name = name
        self.color = color
```


```python
class Quadrangle(Figure):
    def set_area(self, width, height):
        self.width = width 
        self.height = height

    def get_info(self):
        print (self.name, self.color, self.width * self.height)
```


```python
square = Quadrangle('dave', 'blue')
square.set_area(5, 5)
square.get_info()
```

    dave blue 25
    


```python
class Quadrangle:
    def __init__(self, name, color):
        self.name = name
        self.color = color
        
    def set_area(self, width, height):
        self.width = width 
        self.height = height

    def get_info(self):
        print (self.name, self.color, self.width * self.height)
```


```python
square = Quadrangle('dave', 'red')
square.set_area(5, 5)
square.get_info()
```

    dave red 25
    

### ë³´ë©° ë‹¤ì‹œ í•œë²ˆ ì´í•´í•´ë³´ê¸°
* https://goo.gl/AXau2u

* ìƒì† ê´€ê³„ì¸ í´ë˜ìŠ¤ í™•ì¸í•˜ê¸° 
  - ë‚´ì¥í•¨ìˆ˜ issubclass(ìì‹ í´ë˜ìŠ¤, ë¶€ëª¨ í´ë˜ìŠ¤) ì‚¬ìš©í•˜ê¸°


```python
class Figure:
    def __init__(self, name, color):
        self.name = name
        self.color = color

class Quadrangle(Figure):
    def set_area(self, width, height):
        self.width = width 
        self.height = height

    def get_info(self):
        print (self.name, self.color, self.width * self.height)
```


```python
# Quadrangle í´ë˜ìŠ¤ê°€ Figure í´ë˜ìŠ¤ì˜ ìì‹ í´ë˜ìŠ¤ì¸ì§€ í™•ì¸
issubclass(Quadrangle, Figure)
```




    True



* í´ë˜ìŠ¤ì™€ ê°ì²´ê°„ì˜ ê´€ê³„ í™•ì¸í•˜ê¸° 
  - ë‚´ì¥í•¨ìˆ˜ isinstance(ê°ì²´, í´ë˜ìŠ¤) ì‚¬ìš©í•˜ê¸°


```python
figure1 = Figure('figure1', 'black')
square = Quadrangle('square', 'red')
```


```python
print(isinstance(figure1, Figure))
print(isinstance(square, Figure))
print(isinstance(figure1, Quadrangle))
print(isinstance(square, Quadrangle))
```

    True
    True
    False
    True
    

### ë˜ ë‹¤ë¥¸ ì˜ˆ: ì‚¬ëŒê³¼ í•™ìƒ


```python
# í´ë˜ìŠ¤ ì„ ì–¸
class Person:
    def __init__(self, name):
        self.name = name
        
class Student(Person):
    def study(self):
        print (self.name + " studies hard")

class Employee(Person):
    def work(self):
        print (self.name + " works hard")
```


```python
# ê°ì²´ ìƒì„±
student1 = Student("Dave")
employee1 = Employee("David")
```


```python
# ê°ì²´ ì‹¤í–‰
student1.study()
employee1.work()
```

    Dave studies hard
    David works hard
    

### 2. Method Override (ë©”ì„œë“œ ì¬ì •ì˜)

* ë¶€ëª¨ í´ë˜ìŠ¤ì˜ methodë¥¼ ìì‹ í´ë˜ìŠ¤ì—ì„œ ì¬ì •ì˜(override)
* ìì‹ í´ë˜ìŠ¤ì—ì„œ **ë¶€ëª¨ í´ë˜ìŠ¤ methodë¥¼ ì¬ì •ì˜**í•¨
* ìì‹ í´ë˜ìŠ¤ ê°ì²´ì—ì„œëŠ” ì¬ì •ì˜ëœ ë©”ì†Œë“œê°€ í˜¸ì¶œë¨
* ìì‹ í´ë˜ìŠ¤ì—ì„œ **ë¶€ëª¨ í´ë˜ìŠ¤ì˜ ë©”ì„œë“œì™€ ì´ë¦„ë§Œ ë™ì¼í•˜ë©´ ë©”ì„œë“œ ì¬ì •ì˜ê°€ ê°€ëŠ¥í•¨**
  - C++/Javaì–¸ì–´ ë“±ì—ì„œëŠ” ë©”ì„œë“œì™€ ì¸ìë„ ë™ì¼í•´ì•¼ í•¨ 


```python
# í´ë˜ìŠ¤ ì„ ì–¸
class Person:
    def __init__(self, name):
        self.name = name

    def work(self):
        print (self.name + " works hard")        

class Student(Person):
    def work(self):
        print (self.name + " studies hard")
```


```python
# ê°ì²´ ìƒì„±
student1 = Student("Dave")
# ìì‹ í´ë˜ìŠ¤(Student)ì˜ ì¬ì •ì˜ëœ work(self) í˜¸ì¶œ
student1.work()
```

    Dave studies hard
    

### Sub í´ë˜ìŠ¤ì— ë©”ì„œë“œë¥¼ ë” ì¶”ê°€í•  ìˆ˜ë„ ìˆì£ !


```python
class Person:
    def work(self):
        print('work hard')

class Student(Person):
    def work(self):
        print('Study hard')
        
    def go_to_school(self):
        print('Go to school')
```


```python
p1 = Person()
s1 = Student()

p1.work()
#p1.go_to_school()

s1.work()
s1.go_to_school()
```

    work hard
    Study hard
    Go to school
    

<div class="alert alert-block alert-success">
<strong><font color="blue" size="4em">ì´ˆê°„ë‹¨ ì—°ìŠµ</font></strong><br>
* Car class ë§Œë“¤ê¸°<br>
- Car class<br>
  - attribute: ìƒì„±ìì—ì„œ self.name ì„¤ì •<br>
  - method: get_info(self) - ì´ë¦„ ì¶œë ¥<br>
<br>
- Eletronic Car class<br>
  - attribute: ìƒì„±ìì—ì„œ self.name ì„¤ì •<br>
  - method overide: get_info(self) - ì´ë¦„ê³¼ ì‚¬ìš© ì—°ë£Œ(Eletronic) ì¶œë ¥<br>
<br>
- Gasoline Car class<br>
  - attribute: ìƒì„±ìì—ì„œ self.name ì„¤ì •<br>
  - method overide: get_info(self) - ì´ë¦„ê³¼ ì‚¬ìš© ì—°ë£Œ(Gasoline) ì¶œë ¥
</div>


```python
class Car:
    def __init__(self, name):
        self.name = name
    
    def get_info(self):
        print (self.name)

class ElecCar(Car):
    def get_info(self):
        print (self.name, 'Fuel: Eletronic')

        
class GasoCar(Car):
    def get_info(self):
        print (self.name, 'Fuel: Gasoline')

elec = ElecCar('dave')
gaso = GasoCar('david')
elec.get_info()
gaso.get_info()
```

    dave Fuel: Eletronic
    david Fuel: Gasoline
    

### 3. ìì‹ í´ë˜ìŠ¤ì—ì„œ ë¶€ëª¨ í´ë˜ìŠ¤ ë©”ì„œë“œ í˜¸ì¶œ (super ì™€ self)
### super()
 - ìì‹ í´ë˜ìŠ¤ì—ì„œ ë¶€ëª¨ í´ë˜ìŠ¤ì˜ methodë¥¼ í˜¸ì¶œí•  ë•Œ ì‚¬ìš©
   - super().ë¶€ëª¨ í´ë˜ìŠ¤ì˜ methodëª…


```python
# í´ë˜ìŠ¤ ì„ ì–¸
class Person:
    def work(self):
        print('work hard')

class Student(Person):
    def work(self):
        print('Study hard')
        
    def parttime(self):
        super().work()
```


```python
student1 = Student()
student1.work()
student1.parttime()
```

    Study hard
    work hard
    

### self
 - selfëŠ” í˜„ì¬ì˜ ê°ì²´ë¥¼ ë‚˜íƒ€ëƒ„
   - self.methodëª… ë˜ëŠ” attributeëª… ìœ¼ë¡œ í˜¸ì¶œí•¨
 - C++/C#, Javaì–¸ì–´ì—ì„œëŠ” this ë¼ëŠ” í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•¨


```python
# í´ë˜ìŠ¤ ì„ ì–¸
class Person:
    def work(self):
        print('work hard')

class Student(Person):
    def work(self):
        print('Study hard')
        
    def parttime(self):
        super().work()

    def general(self):
        self.work() 
```


```python
student1 = Student()
student1.work()
student1.parttime()
student1.general()
```

    Study hard
    work hard
    Study hard
    

<div class="alert alert-block" style="border: 2px solid #1976D2;background-color:#E3F2FD;padding:5px;font-size:0.9em;">
ë³¸ ìë£ŒëŠ” ì €ì‘ê¶Œë²• ì œ25ì¡° 2í•­ì— ì˜í•´ ë³´í˜¸ë¥¼ ë°›ìŠµë‹ˆë‹¤. ë³¸ ìë£Œë¥¼ ì™¸ë¶€ì— ê³µê°œí•˜ì§€ ë§ì•„ì£¼ì„¸ìš”.<br>
ë³¸ ê°•ì˜ë§Œ ì˜ ì •ë¦¬í•˜ë©´, ë°ì´í„° ë¶„ì„, ë°ì´í„° ê³¼í•™, í’€ìŠ¤íƒ(ë°±ì—”ë“œ, í”„ë¡ íŠ¸ì—”ë“œ) ê°œë°œ ëª¨ë‘ ê°€ëŠ¥í•©ë‹ˆë‹¤!<br>
<b><a href="https://school.fun-coding.org/">ì”ì¬ë¯¸ì½”ë”©</a> ì—ì„œ ë³¸ ê°•ì˜ ê¸°ë°˜ ìµœì í™”ëœ ë¡œë“œë§µë„ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤</b></div>



# 13_class_method
<div class="alert alert-block" style="border: 2px solid #1976D2;background-color:#E3F2FD;padding:5px;font-size:0.9em;">
ë³¸ ìë£ŒëŠ” ì €ì‘ê¶Œë²• ì œ25ì¡° 2í•­ì— ì˜í•´ ë³´í˜¸ë¥¼ ë°›ìŠµë‹ˆë‹¤. ë³¸ ìë£Œë¥¼ ì™¸ë¶€ì— ê³µê°œí•˜ì§€ ë§ì•„ì£¼ì„¸ìš”.<br>
ë³¸ ê°•ì˜ë§Œ ì˜ ì •ë¦¬í•˜ë©´, ë°ì´í„° ë¶„ì„, ë°ì´í„° ê³¼í•™, í’€ìŠ¤íƒ(ë°±ì—”ë“œ, í”„ë¡ íŠ¸ì—”ë“œ) ê°œë°œ ëª¨ë‘ ê°€ëŠ¥í•©ë‹ˆë‹¤!<br>
<b><a href="https://school.fun-coding.org/">ì”ì¬ë¯¸ì½”ë”©</a> ì—ì„œ ë³¸ ê°•ì˜ ê¸°ë°˜ ìµœì í™”ëœ ë¡œë“œë§µë„ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤</b></div>

## 3. í´ë˜ìŠ¤ ì†ì„±ê³¼ ë©”ì„œë“œ

### 1. í´ë˜ìŠ¤ ë³€ìˆ˜ì™€ ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ (attributeë¥¼ í•œ ë‹¨ê³„ ë” êµ¬ë¶„í•´ë³´ì)
* í´ë˜ìŠ¤ ë³€ìˆ˜: í´ë˜ìŠ¤ ì •ì˜ì—ì„œ ë©”ì„œë“œ ë°–ì— ì¡´ì¬í•˜ëŠ” ë³€ìˆ˜
  - í•´ë‹¹ í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•˜ëŠ” ëª¨ë‘ì—ê²Œ ê³µìš©ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” ë³€ìˆ˜
  - í´ë˜ìŠ¤ ë³€ìˆ˜ëŠ” í´ë˜ìŠ¤ **ë‚´ì™¸ë¶€**ì—ì„œ "í´ë˜ìŠ¤ëª….ë³€ìˆ˜ëª…" ìœ¼ë¡œ ì—‘ì„¸ìŠ¤ ê°€ëŠ¥
* ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜: í´ë˜ìŠ¤ ì •ì˜ì—ì„œ ë©”ì„œë“œ ì•ˆì—ì„œ ì‚¬ìš©ë˜ë©´ì„œ "self.ë³€ìˆ˜ëª…"ì²˜ëŸ¼ ì‚¬ìš©ë˜ëŠ” ë³€ìˆ˜
  - ê° ê°ì²´ë³„ë¡œ ì„œë¡œ ë‹¤ë¥¸ ê°’ì„ ê°€ì§
  - í´ë˜ìŠ¤ ë‚´ë¶€ì—ì„œëŠ” self.ì¸ìŠ¤í„´ìŠ¤ë³€ìˆ˜ëª… ì„ ì‚¬ìš©í•˜ì—¬ ì—‘ì„¸ìŠ¤, í´ë˜ìŠ¤ ë°–ì—ì„œëŠ” ê°ì²´ëª….ì¸ìŠ¤í„´ìŠ¤ë³€ìˆ˜ëª… ìœ¼ë¡œ ì—‘ì„¸ìŠ¤


```python
class Figure:
    count = 0  # í´ë˜ìŠ¤ ë³€ìˆ˜
 
    # ìƒì„±ì(initializer)
    def __init__(self, width, height):
        # self.* : ì¸ìŠ¤í„´ìŠ¤ë³€ìˆ˜
        self.width = width
        self.height = height
        # í´ë˜ìŠ¤ ë³€ìˆ˜ ì ‘ê·¼ ì˜ˆ
        Figure.count += 1
    
    def __del__(self):
        Figure.count -= 1
    
    # ë©”ì„œë“œ
    def calc_area(self):
        return self.width * self.height
```


```python
figure1 = Figure(2, 3)
Figure.count
figure2 = Figure(2, 3)
Figure.count
```




    2



<div class="alert alert-block alert-success">
<strong><font color="blue" size="4em">ì´ˆê°„ë‹¨ ì—°ìŠµ</font></strong><br>
* ë‹¤ìŒ ì½”ë“œë¥¼ ì‹¤í–‰ì‹œí‚¤ë©´ì„œ, ì¶œë ¥ ê°’ì´ ì™œ ì´ë ‡ê²Œ ë‚˜ì™”ëŠ”ì§€ ì´í•´í•˜ê¸°(í´ë˜ìŠ¤ ë³€ìˆ˜ì™€ ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ ì´í•´)
</div>


```python
print(Figure.count)
figure1 = Figure(2, 3)
print(Figure.count)
figure2 = Figure(4, 5)
print(Figure.count)
print(figure1.width)
print(figure2.width)
del figure1
print(Figure.count)
del figure2
print(Figure.count)
```

    0
    1
    2
    2
    4
    1
    0
    

### 2. instance method, static method, class method
### **instance method**: í•´ë‹¹ ê°ì²´ ì•ˆì—ì„œ í˜¸ì¶œ (ì§€ê¸ˆê¹Œì§€ ë‹¤ë£¬ self.ë©”ì„œë“œëª…ì„ ì˜ë¯¸í•¨)
 - í•´ë‹¹ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•œ ê°ì²´ì—ë§Œ ì˜í–¥ì„ ë¯¸ì¹¨
 - **ê°ì²´ ì†ì„±ì— ì ‘ê·¼ ê°€ëŠ¥**

### **static method**: ê°ì²´ì™€ ë…ë¦½ì ì´ì§€ë§Œ, ë¡œì§ìƒ í´ë˜ìŠ¤ë‚´ì— í¬í•¨ë˜ëŠ” ë©”ì„œë“œ
 - self íŒŒë¼ë¯¸í„°ë¥¼ ê°–ê³  ìˆì§€ ì•ŠìŒ
 - **ê°ì²´ ì†ì„±ì— ì ‘ê·¼ ë¶ˆê°€**
 - <strong><font color='#BF360C'>ì •ì  ë©”ì„œë“œëŠ” ë©”ì„œë“œ ì•ì— @staticmethod ë¼ëŠ” Decoratorë¥¼ ë„£ì–´ì•¼ í•¨</font></strong>
 - í´ë˜ìŠ¤ëª….ì •ì ë©”ì„œë“œëª… ë˜ëŠ” ê°ì²´ëª….ì •ì ë©”ì„œë“œëª… ë‘˜ ë‹¤ í˜¸ì¶œ ê°€ëŠ¥


```python
class Figure:
    # ìƒì„±ì(initializer)
    def __init__(self, width, height):
        self.width = width
        self.height = height
    
    # ë©”ì„œë“œ
    def calc_area(self):
        Figure.is_square(2, 3)
        return self.width * self.height

    # ì •ì  ë©”ì„œë“œ (Figure ì— ë„ˆë¹„ì™€ ë†’ì´ê°€ ê°™ì€ ë„í˜•ì€ ì •ì‚¬ê°í˜•ì„ì„ ì•Œë ¤ì£¼ëŠ” ê¸°ëŠ¥)
    @staticmethod
    def is_square(rect_width, rect_height):
        if rect_width == rect_height:
            print("ì •ì‚¬ê°í˜•ì´ ë  ìˆ˜ ìˆëŠ” ë„ˆë¹„/ë†’ì´ì…ë‹ˆë‹¤.")
        else:
            print("ì •ì‚¬ê°í˜•ì´ ë  ìˆ˜ ì—†ëŠ” ë„ˆë¹„/ë†’ì´ì…ë‹ˆë‹¤.")
```


```python
figure1 = Figure(2, 3)
figure1.is_square(5, 5)         # ê°ì²´ëª….ì •ì ë©”ì„œë“œëª…ìœ¼ë¡œ í˜¸ì¶œ ê°€ëŠ¥
Figure.is_square(4, 5)          # í´ë˜ìŠ¤ëª….ì •ì ë©”ì„œë“œëª…ìœ¼ë¡œ í˜¸ì¶œ ê°€ëŠ¥
```

    ì •ì‚¬ê°í˜•ì´ ë  ìˆ˜ ìˆëŠ” ë„ˆë¹„/ë†’ì´ì…ë‹ˆë‹¤.
    ì •ì‚¬ê°í˜•ì´ ë  ìˆ˜ ì—†ëŠ” ë„ˆë¹„/ë†’ì´ì…ë‹ˆë‹¤.
    

<div class="alert alert-block alert-info">
<strong><font color="blue" size="4em">í•œë°œì§ ë” ë‚˜ê°€ë³´ê¸°!(ì‹¬í™” ë¬¸ì œ)</font></strong><br>
ì•„ë˜ ì½”ë“œë¥¼ ì‹¤í–‰ì‹œí‚¤ë©´ì„œ íŠ¹ì´ ê°’ê³¼ ì—ëŸ¬ë¥¼ í™•ì¸í•˜ê³ , ì¶œë ¥ ê°’ì´ ì™œ ì´ë ‡ê²Œ ë‚˜ì™”ëŠ”ì§€ ì´í•´í•˜ê¸°(ì •ì /ì¸ìŠ¤í„´ìŠ¤ ë©”ì„œë“œ ì´í•´)
</div>


```python
class Figure:
    count = 0  # í´ë˜ìŠ¤ ë³€ìˆ˜

    # ìƒì„±ì(initializer)
    def __init__(self, width, height):
        # self.* : ì¸ìŠ¤í„´ìŠ¤ë³€ìˆ˜
        self.width = width
        self.height = height
        # í´ë˜ìŠ¤ ë³€ìˆ˜ ì ‘ê·¼ ì˜ˆ
        Figure.count += 1
        
    # ì •ì  ë©”ì„œë“œ (ì •ì  ë©”ì„œë“œì—ì„œëŠ” í´ë˜ìŠ¤ attribute ëŠ” ì ‘ê·¼ ê°€ëŠ¥)
    @staticmethod
    def print_count():
        print(Figure.count)

    # ì •ì  ë©”ì„œë“œ (ì—ëŸ¬: ì •ì  ë©”ì„œë“œì—ì„œëŠ” ê°ì²´ attribute ëŠ” ì ‘ê·¼ ë¶ˆê°€)
    @staticmethod
    def print_width():
        print(self.width)
```


```python
figure1 = Figure(1, 2)
print(Figure.count)
print(figure1.print_count())
print(figure1.print_width())
```

    1
    1
    None
    


    ---------------------------------------------------------------------------

    NameError                                 Traceback (most recent call last)

    <ipython-input-49-21f7c2ae98bb> in <module>
          2 print(Figure.count)
          3 print(figure1.print_count())
    ----> 4 print(figure1.print_width())
    

    <ipython-input-48-455732a5813d> in print_width()
         18     @staticmethod
         19     def print_width():
    ---> 20         print(self.width)
    

    NameError: name 'self' is not defined


### **class method**: í•´ë‹¹ class ì•ˆì—ì„œ í˜¸ì¶œ (í•´ë‹¹ í´ë˜ìŠ¤ë¡œ ë§Œë“¤ì–´ì§„ ê°ì²´ì—ì„œ í˜¸ì¶œë˜ì§€ ì•Šê³ , ì§ì ‘ í´ë˜ìŠ¤ ìì²´ì—ì„œ í˜¸ì¶œ)
 - self íŒŒë¼ë¯¸í„° ëŒ€ì‹ , cls íŒŒë¼ë¯¸í„°ë¥¼ ê°€ì§
 - **í´ë˜ìŠ¤ ë³€ìˆ˜ ì ‘ê·¼ ê°€ëŠ¥í•˜ë©° cls.í´ë˜ìŠ¤ë³€ìˆ˜ëª… ìœ¼ë¡œ ì—‘ì„¸ìŠ¤ ê°€ëŠ¥** ë‹¨, ê°ì²´ ì†ì„±/ë©”ì„œë“œëŠ” ì ‘ê·¼ ë¶ˆê°€
 - <strong><font color='#BF360C'>í´ë˜ìŠ¤ ë©”ì„œë“œëŠ” ë©”ì„œë“œ ì•ì— @classmethod ë¼ëŠ” Decoratorë¥¼ ë„£ì–´ì•¼ í•¨</font></strong>
 - í´ë˜ìŠ¤ëª….í´ë˜ìŠ¤ë©”ì„œë“œëª… ë˜ëŠ” ê°ì²´ëª….í´ë˜ìŠ¤ë©”ì„œë“œëª… ë‘˜ ë‹¤ í˜¸ì¶œ ê°€ëŠ¥


```python
class Figure1:
    count = 0  # í´ë˜ìŠ¤ ë³€ìˆ˜
 
    # ìƒì„±ì(initializer)
    def __init__(self, width, height):
        # self.* : ì¸ìŠ¤í„´ìŠ¤ë³€ìˆ˜
        self.width = width
        self.height = height
        # í´ë˜ìŠ¤ ë³€ìˆ˜ ì ‘ê·¼ ì˜ˆ
        Figure1.count += 1
    
    # ë©”ì„œë“œ
    def calc_area(self):
        return self.width * self.height

    # í´ë˜ìŠ¤ ë©”ì„œë“œ
    @classmethod
    def print_count(cls):
        return cls.count

figure1 = Figure1(2, 3)
figure2 = Figure1(4, 5)
print(Figure1.count)
print(Figure1.print_count()) # 2
print(figure1.print_count()) # 2
```

    2
    2
    2
    

### static method ì™€ class method ì°¨ì´


```python
class Figure:
    @classmethod
    def set_name(cls, name):
        cls.name = name

class Circle(Figure):
   pass
 
Figure.set_name("figure")
print (Figure.name, Circle.name)

Circle.set_name("circle")
print (Figure.name, Circle.name)
```

    figure figure
    figure circle
    


```python
class Figure:
    @staticmethod
    def set_name(name):
        Figure.name = name

class Circle(Figure):
   pass
 
Figure.set_name("figure")
print (Figure.name, Circle.name)

Circle.set_name("circle")
print (Figure.name, Circle.name)
```

    figure figure
    circle circle
    

<div class="alert alert-block" style="border: 2px solid #1976D2;background-color:#E3F2FD;padding:5px;font-size:0.9em;">
ë³¸ ìë£ŒëŠ” ì €ì‘ê¶Œë²• ì œ25ì¡° 2í•­ì— ì˜í•´ ë³´í˜¸ë¥¼ ë°›ìŠµë‹ˆë‹¤. ë³¸ ìë£Œë¥¼ ì™¸ë¶€ì— ê³µê°œí•˜ì§€ ë§ì•„ì£¼ì„¸ìš”.<br>
ë³¸ ê°•ì˜ë§Œ ì˜ ì •ë¦¬í•˜ë©´, ë°ì´í„° ë¶„ì„, ë°ì´í„° ê³¼í•™, í’€ìŠ¤íƒ(ë°±ì—”ë“œ, í”„ë¡ íŠ¸ì—”ë“œ) ê°œë°œ ëª¨ë‘ ê°€ëŠ¥í•©ë‹ˆë‹¤!<br>
<b><a href="https://school.fun-coding.org/">ì”ì¬ë¯¸ì½”ë”©</a> ì—ì„œ ë³¸ ê°•ì˜ ê¸°ë°˜ ìµœì í™”ëœ ë¡œë“œë§µë„ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤</b></div>



# 14_control_class
<div class="alert alert-block" style="border: 2px solid #1976D2;background-color:#E3F2FD;padding:5px;font-size:0.9em;">
ë³¸ ìë£ŒëŠ” ì €ì‘ê¶Œë²• ì œ25ì¡° 2í•­ì— ì˜í•´ ë³´í˜¸ë¥¼ ë°›ìŠµë‹ˆë‹¤. ë³¸ ìë£Œë¥¼ ì™¸ë¶€ì— ê³µê°œí•˜ì§€ ë§ì•„ì£¼ì„¸ìš”.<br>
ë³¸ ê°•ì˜ë§Œ ì˜ ì •ë¦¬í•˜ë©´, ë°ì´í„° ë¶„ì„, ë°ì´í„° ê³¼í•™, í’€ìŠ¤íƒ(ë°±ì—”ë“œ, í”„ë¡ íŠ¸ì—”ë“œ) ê°œë°œ ëª¨ë‘ ê°€ëŠ¥í•©ë‹ˆë‹¤!<br>
<b><a href="https://school.fun-coding.org/">ì”ì¬ë¯¸ì½”ë”©</a> ì—ì„œ ë³¸ ê°•ì˜ ê¸°ë°˜ ìµœì í™”ëœ ë¡œë“œë§µë„ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤</b></div>

### MVC íŒ¨í„´ì¤‘ Control ê¸°ëŠ¥ êµ¬í˜„ì„ ìœ„í•´ í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©
- í´ë˜ìŠ¤ëª….í•¨ìˆ˜ í˜•íƒœë¡œ ì½”ë“œ ì‘ì„±ì´ ê°€ëŠ¥í•˜ì—¬, ì½”ë“œë§Œ ë³´ë”ë¼ë„ ì–´ë–¤ ì½”ë“œì¸ì§€ ì•Œ ìˆ˜ ìˆê³ , í•¨ìˆ˜ë³„ êµ¬ë¶„ì´ ê°€ëŠ¥í•¨
- í´ë˜ìŠ¤ë‚´ì— ìœ ì‚¬í•œ ê¸°ëŠ¥ì„ ë„£ì–´ì„œ ê¸°ëŠ¥ë³„ë¡œ êµ¬í˜„ ë° ìœ ì§€ë³´ìˆ˜ê°€ ìœ ë¦¬í•¨

### ì‚¬ìš©ì(email) í´ë˜ìŠ¤

### mysql schema
```sql
CREATE TABLE user_info (
    USER_ID INT UNSIGNED NOT NULL AUTO_INCREMENT,
    USER_EMAIL VARCHAR(100) NOT NULL,
    BLOG_ID CHAR(4),
    PRIMARY KEY(USER_ID)
);
```

```python
class User(UserMixin):

    def __init__(self, user_id, user_email, blog_id):
        self.id = user_id
        self.user_email = user_email
        self.blog_id = blog_id

    def get_id(self):
        return str(self.id)

    @staticmethod
    def get(user_id):
        mysql_db = conn_mysqldb()
        db_cursor = mysql_db.cursor()
        sql = "SELECT * FROM user_info WHERE USER_ID = '" + \
            str(user_id) + "'"
        db_cursor.execute(sql)
        user = db_cursor.fetchone()
        if not user:
            db_cursor.close()
            return None

        print(user)
        user = User(user_id=user[0], user_email=user[1], blog_id=user[2])
        db_cursor.close()
        return user

    @staticmethod
    def find(user_email):
        mysql_db = conn_mysqldb()
        db_cursor = mysql_db.cursor()
        sql = "SELECT * FROM user_info WHERE USER_EMAIL = '" + \
            str(user_email) + "'"
        db_cursor.execute(sql)
        user = db_cursor.fetchone()
        if not user:
            db_cursor.close()
            return None

        print(user)
        user = User(user_id=user[0], user_email=user[1], blog_id=user[2])
        db_cursor.close()
        return user

    @staticmethod
    def create(user_email, blog_id):
        user = User.find(user_email)
        if user == None:
            mysql_db = conn_mysqldb()
            db_cursor = mysql_db.cursor()
            sql = "INSERT INTO user_info (USER_EMAIL, BLOG_ID) VALUES ('%s', '%s')" % (
                str(user_email), str(blog_id))
            db_cursor.execute(sql)
            mysql_db.commit()
            return User.find(user_email)
        else:
            return user

```

### blog ì„¸ì…˜ ê´€ë¦¬ í´ë˜ìŠ¤

```python
class BlogSession():
    blog_page = {'A': 'blog_A.html', 'B': 'blog_B.html'}
    session_count = 0

    @staticmethod
    def save_session_info(session_ip, user_email, webpage_name):
        now = datetime.now()
        now_time = now.strftime("%d/%m/%Y %H:%M:%S")

        mongo_db = conn_mongodb()
        mongo_db.insert_one({'session_ip': session_ip,
                             'user_email': user_email,
                             'page': webpage_name,
                             'access_time': now_time})

    @staticmethod
    def get_blog_page(force=None):
        print(force)
        if force == None:
            if BlogSession.session_count == 0:
                BlogSession.session_count = 1
                return 'blog_A.html'
            else:
                BlogSession.session_count = 0
                return 'blog_B.html'
        else:
            return BlogSession.blog_page[force]
```

<div class="alert alert-block" style="border: 2px solid #1976D2;background-color:#E3F2FD;padding:5px;font-size:0.9em;">
ë³¸ ìë£ŒëŠ” ì €ì‘ê¶Œë²• ì œ25ì¡° 2í•­ì— ì˜í•´ ë³´í˜¸ë¥¼ ë°›ìŠµë‹ˆë‹¤. ë³¸ ìë£Œë¥¼ ì™¸ë¶€ì— ê³µê°œí•˜ì§€ ë§ì•„ì£¼ì„¸ìš”.<br>
ë³¸ ê°•ì˜ë§Œ ì˜ ì •ë¦¬í•˜ë©´, ë°ì´í„° ë¶„ì„, ë°ì´í„° ê³¼í•™, í’€ìŠ¤íƒ(ë°±ì—”ë“œ, í”„ë¡ íŠ¸ì—”ë“œ) ê°œë°œ ëª¨ë‘ ê°€ëŠ¥í•©ë‹ˆë‹¤!<br>
<b><a href="https://school.fun-coding.org/">ì”ì¬ë¯¸ì½”ë”©</a> ì—ì„œ ë³¸ ê°•ì˜ ê¸°ë°˜ ìµœì í™”ëœ ë¡œë“œë§µë„ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤</b></div>



# 15_deployment
<div class="alert alert-block" style="border: 2px solid #1976D2;background-color:#E3F2FD;padding:5px;font-size:0.9em;">
ë³¸ ìë£ŒëŠ” ì €ì‘ê¶Œë²• ì œ25ì¡° 2í•­ì— ì˜í•´ ë³´í˜¸ë¥¼ ë°›ìŠµë‹ˆë‹¤. ë³¸ ìë£Œë¥¼ ì™¸ë¶€ì— ê³µê°œí•˜ì§€ ë§ì•„ì£¼ì„¸ìš”.<br>
ë³¸ ê°•ì˜ë§Œ ì˜ ì •ë¦¬í•˜ë©´, ë°ì´í„° ë¶„ì„, ë°ì´í„° ê³¼í•™, í’€ìŠ¤íƒ(ë°±ì—”ë“œ, í”„ë¡ íŠ¸ì—”ë“œ) ê°œë°œ ëª¨ë‘ ê°€ëŠ¥í•©ë‹ˆë‹¤!<br>
<b><a href="https://school.fun-coding.org/">ì”ì¬ë¯¸ì½”ë”©</a> ì—ì„œ ë³¸ ê°•ì˜ ê¸°ë°˜ ìµœì í™”ëœ ë¡œë“œë§µë„ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤</b></div>

## ë°°í¬ (deployment)
- í´ë¼ìš°ë“œ ì„œë¹„ìŠ¤(AWS)ë¥¼ ì‚¬ìš©í•˜ì—¬, ë¦¬ëˆ…ìŠ¤ ê¸°ë°˜ ì„œë²„ì— docker ê¸°ë°˜ ë°°í¬ê°€ ê°€ì¥ ì¼ë°˜ì ì¸ í˜•íƒœì„
- ì´ë¥¼ ìœ„í•´ì„œëŠ” í´ë¼ìš°ë“œ ì„œë¹„ìŠ¤(AWS) ì‚¬ìš©ë²•, ë¦¬ëˆ…ìŠ¤ ì‚¬ìš©ë²•, docker ì‚¬ìš©ë²•ì„ ìµí˜€ì•¼ í•¨
  - ì´ì™¸ì— í´ë¼ìš°ë“œ ì„œë¹„ìŠ¤(AWS) ê¸°ëŠ¥ê³¼ íŒŒì´ì¬ì„ ì‚¬ìš©í•˜ì—¬, ìë™ ë°°í¬ ê¸°ëŠ¥ì„ êµ¬í˜„

### ì´ˆê°„ë‹¨ ì›¹ì„œë¹„ìŠ¤ ë°°í¬
- ngrok ë¥¼ í†µí•´, ìì‹ ì˜ PC ì—ì„œ ë™ì‘í•˜ëŠ” ì›¹ì„œë²„ë¥¼ ì™¸ë¶€ì—ì„œë„ ì ‘ì†í•  ìˆ˜ ìˆë„ë¡ í•  ìˆ˜ ìˆìŒ

- ë§¥ í™˜ê²½
  - Homebrew ì„¤ì¹˜ í•„ìš”
    - https://brew.sh/index_ko
```bash
brew cask install ngrok
ngrok http 8080
```
  - ngrok --help ë¥¼ í†µí•´, ë‹¤ì–‘í•œ ëª…ë ¹ì„ ì•Œ ìˆ˜ ìˆìŒ
  
- ìœˆë„ìš° í™˜ê²½
  - https://ngrok.com/ ì ‘ì† í›„, íšŒì›ê°€ì…
  - ìœˆë„ìš°ìš© ngrok ë‹¤ìš´ë¡œë“œ ë° ì ì ˆí•œ ìœ„ì¹˜ì— ì••ì¶• í’€ê¸°
  - cmd ëª…ë ¹ìœ¼ë¡œ í„°ë¯¸ë„ì„ ì˜¤í”ˆí•˜ê³ , í•´ë‹¹ ìœ„ì¹˜ë¡œ ì´ë™ í›„

```
ngrok.exe http 8080
```
  > ìœˆë„ìš°ì˜ ê²½ìš° ë‹¤ì–‘í•œ ë°©í™”ë²½ í”„ë¡œê·¸ë¨ì´ ì„¤ì¹˜ë˜ì–´ ìˆì„ ê°€ëŠ¥ì„±ì´ ë†’ìœ¼ë¯€ë¡œ
  > 8080 í¬íŠ¸ (ì¸ë°”ìš´ë“œ, ì¦‰ ì™¸ë¶€ì—ì„œ 8080 í¬íŠ¸ì— ì ‘ì†í•˜ëŠ” ì¼€ì´ìŠ¤)ë¥¼ ë§‰ì•„ë†“ì•˜ëŠ”ì§€ë¥¼ í™•ì¸í•´ì•¼ í•¨

<div class="alert alert-block" style="border: 1px solid #FFB300;background-color:#F9FBE7;">
<font size="3em" style="font-weight:bold;color:#3f8dbf;">AWSì—ì„œ ì‹¤ì œ ë°°í¬ ê¸°ìˆ ë¡œ ë°°í¬í•˜ê¸°</font><br>
AWSì—ì„œ ì‹¤ì œ ë°°í¬í•˜ëŠ” ê¸°ìˆ ì€ ë¦¬ëˆ…ìŠ¤, AWS ë“±ì— ë§¤ìš° ìµìˆ™í•´ì•¼ í•˜ë©°, <b>ê° í™˜ê²½ì— ë”°ë¼ ë¬¸ì œ ë°œìƒì‹œì—ë„ ê° ë¬¸ì œ ì‚¬í•­ì„ ìŠ¤ìŠ¤ë¡œ í•´ê²°í•  ìˆ˜ ìˆëŠ” ê¸°ìˆ ë ¥ì„ ê°–ì¶˜ ìƒíƒœì—ì„œë§Œ ë°°í¬ê°€ ê°€ëŠ¥</b>í•©ë‹ˆë‹¤. ë°”ë¡œ ì§„í–‰í•˜ê¸°ì—ëŠ” ë³„ë„ ê°•ì˜ë¡œ ë§Œë“¤ ì •ë„ë¡œ ë§ì€ ë‚´ìš©ì´ í•„ìš”í•œ ì‚¬í•­ì´ë©°, ë”°ë¼ì„œ, ê´€ë ¨ ê¸°ìˆ ì— ì•„ì§ ìµìˆ™í•˜ì§€ ì•Šë‹¤ë©´, ì°¸ê³ ë¡œë§Œ ë´ì£¼ì‹œëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.
</div>

### ì°¸ê³ : AWS ë¬´ë£Œ ì„œë¹„ìŠ¤(Free Tier) ê°€ì…ê³¼ ì„œë²„(EC2) ë§Œë“¤ê¸°
  - ì‹¤ìŠµ: http://blog.saltfactory.net/create-instance-on-aws/
  - https://aws.amazon.com/ -> My Account -> AWS Management Console -> Region (Seoul)
  - EC2 -> Launch Instance -> Ubuntu Server 16.04 ->t2.micro -> pemíŒŒì¼ ë‹¤ìš´ë¡œë“œ (ë¡œì»¬PCì— ~/.ssh/ì— ì €ì¥)
    - https://medium.com/flearning-edu/aws-ec2-%EC%9D%B8%EC%8A%A4%ED%84%B4%EC%8A%A4-%EC%83%9D%EC%84%B1%ED%95%98%EA%B8%B0-ed5d28cd875a
    
  - Elastic IP
    - Go Elastic IP -> Allocate New Address
    - Action -> Associate Address -> Select Instance
      Private IP: Private IP AddressëŠ” ì„¤ì •ëœ ê·¸ëŒ€ë¡œ! 172.x.x.x ë¡œ ì„¤ì •ëœ í´ë¼ìš°ë“œ ë‚´ë¶€ IPë¥¼ 52.x.x.x ê³µê°œ IPë¡œ ì—°ê²°í•˜ê² ë‹¤ëŠ” ê²ƒ
      
  - ìš”ê¸ˆë¶ˆì•ˆ: http://gun0912.tistory.com/45 , https://aws.amazon.com/ko/free/

### EC2ì— ì ‘ì†í•˜ëŠ” ë°©ë²•

* ì„œë²„ ì ‘ì† ë°©ë²•
    + **osx**
      - chmod 400 [pem_file]
      - ssh -i path/[pemfile] ubuntu@[aws_server_public_ip]
      
    + **windows** 
      - ìœˆë„ìš°ì¦ˆì—ì„œ ì ‘ì†í•˜ê¸° ë§í¬(http://docs.aws.amazon.com/ko_kr/AWSEC2/latest/UserGuide/putty.html)
      - putty(ssh client), puttygen download (https://www.chiark.greenend.org.uk/~sgtatham/putty/latest.html)
<br><br>
* ì„œë²„ í„°ë¯¸ë„ ì ‘ì† ë°©ë²•
    + **osx**
      - chmod 400 [pem_file]
      - ssh -i path/[pemfile] ubuntu@[aws_server_public_ip]
      
    + **windows** 
      - ìœˆë„ìš°ì¦ˆì—ì„œ ì ‘ì†í•˜ê¸° ë§í¬(https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/putty.html)
      - putty(ssh client), puttygen download (http://www.chiark.greenend.org.uk/~sgtatham/putty/download.html)
<br><br>
* ì„œë²„ FTP ì ‘ì† ë°©ë²•
    + FileZilla FTP í”„ë¡œê·¸ë¨ ì‚¬ìš©
      - ìœˆë„ìš°: http://hyeonstorage.tistory.com/272
      - ë§¥: http://devgyugyu.tistory.com/8

### EC2 ì„œë²„ì— apache ì›¹ì„œë²„ ì„¤ì¹˜

- sudo apt-get update -y
- sudo apt-get install apache2
- sudo a2enmod rewrite
- sudo service apache2 restart
  - í˜„ì¬ ì•„íŒŒì¹˜ ì‹¤í–‰ ìƒíƒœ í™•ì¸ ëª…ë ¹: sudo service apache2 status

### FTP ì ‘ì† ë° ì›¹í˜ì´ì§€ ì—…ë¡œë“œ
- Fizilla ì ‘ì† ì„¤ì • ì°¸ê³ : https://babamba-playground.tistory.com/27
- FTP ì ‘ì† - web ë””ë ‰í† ë¦¬ ë§Œë“¤ê¸° - upload
- SSH ì ‘ì† í›„
  - cd web
  - sudo cp -rf * /var/www/html/

### EC2 ì„œë²„ì— anaconda ì„¤ì¹˜
- anaconda ë‹¤ìš´ë¡œë“œ: https://www.anaconda.com/products/individual
- FTP ì—°ê²° ë° í•´ë‹¹ íŒŒì¼ ì—…ë¡œë“œ
- ë‹¤ìŒ ëª…ë ¹ìœ¼ë¡œ ì„¤ì¹˜ (íŒŒì¼ëª…ì€ ë‹¤ìš´ë¡œë“œ ì‹œì ë§ˆë‹¤ ë‹¤ë¥¼ ìˆ˜ ìˆìŒ)
  - ë¼ì´ì„¼ìŠ¤ ë™ì˜ (yes), ì„¤ì¹˜ ìœ„ì¹˜ (Enter) 
```
sudo bash Anaconda3-2020.07-Linux-x86_64.sh
```

- anaconda ëŠ” ë‹¤ìŒ ë””ë ‰í† ë¦¬ì— ì„¤ì¹˜
  - /home/ubuntu/anaconda3

- ì°¸ê³ : https://docs.anaconda.com/anaconda/install/linux/

### ì°¸ê³ : Ubuntu + flask

```bash
sudo apt-get install apache2-dev
```

1. mod_wsgi ì†ŒìŠ¤ ë‹¤ìš´ë¡œë“œ
   - ê¸€ë¡œë²Œ pythonìœ¼ë¡œ ë™ì‘ì‹œí‚¤ê¸° ìœ„í•´, í˜„ í™˜ê²½ì— ë§ê²Œ mod_wsgi ëª¨ë“ˆì„ ìƒì„±í•´ì•¼ í•¨
   - https://github.com/GrahamDumpleton/mod_wsgi/releases

2. ì†ŒìŠ¤ í’€ê¸°
```
    tar -xvzf mod_wsgi-4.7.1.tar.gz -C .
```

3. mod_wsgi ë¹Œë“œ
```
    cd mod_wsgi-4.7.1
    ./configure
    make
    sudo make install
```

4. mod_wsgi.so ìœ„ì¹˜ í™•ì¸ (make install ì‹œ ë§ˆì§€ë§‰ ë¼ì¸ì—ì„œ í™•ì¸ ê°€ëŠ¥)
```
    sudo chmod 755 /usr/lib/apache2/modules/mod_wsgi.so
```

5. mod_wsgi ì„¤ì¹˜
 - ìš°ì„  sudo ëª…ë ¹ì—ì„œë„ /home/ubuntu/anaconda3/bin ë””ë ‰í† ë¦¬ì˜ ëª…ë ¹ì„ ì‹¤í–‰í•  ìˆ˜ ìˆë„ë¡, sudo ëª…ë ¹ì—ì„œë§Œ ì“°ëŠ” secure path ì— í•´ë‹¹ ë””ë ‰í† ë¦¬ë¥¼ ì¶”ê°€í•´ì¤˜ì•¼ í•¨ (ë§¤ìš° ë§¤ìš° ë³µì¡)
   - nano ì—ë””í„°ë¡œ ë‹¤ìŒ ëª…ë ¹ì´ ì‹¤í–‰ë˜ë¯€ë¡œ, nano ì—ë””í„° ì‚¬ìš©ë²•ì€ ë‹¤ìŒ ë¶€ë¶„ ì°¸ê³ 
     - secure_path ë§ˆì§€ë§‰ì— :/home/ubuntu/anaconda3/bin ì¶”ê°€
```
sudo visudo
```


6. ë‹¤ìŒ ì‹¤í–‰ ê²°ê³¼ ë³µì‚¬ í›„, 000-default.conf ì— ë¶™ì„
   - ë‹¤ìŒ ëª…ë ¹ìœ¼ë¡œ ìš°ì„  mod_wsgi-express ì„¤ì¹˜
```
sudo pip install mod_wsgi
```

   - ë‹¤ìŒ ì‹¤í–‰ ê²°ê³¼ ë³µì‚¬ í›„, 000-default.conf ì— ë¶™ì„
```
mod_wsgi-express module-config
```

7. apache2 ì„¤ì • 

```
sudo vi /etc/apache2/sites-available/000-default.conf
```

   - ë‹¤ìŒê³¼ ê°™ì´ mod_wsgi-express ì‹¤í–‰ ê²°ê³¼ë¥¼ ìµœìƒë‹¨ì— ë¶™ì—¬ë„£ê¸°

```
LoadModule wsgi_module "/home/ubuntu/anaconda3/lib/python3.8/site-packages/mod_wsgi/server/mod_wsgi-py38.cpython-38-x86_64-linux-gnu.so"
WSGIPythonHome "/home/ubuntu/anaconda3"

<VirtualHost *:80>
```

#### flask íŒŒì¼ ìƒì„±

```
mkdir /home/ubuntu/web/backend
```

- create runserver.py in backend directory

```
rom flask import Flask

@app.route("/")
def hello():
    return "Hello, I love Flask!"
if __name__ == "__main__":
    app.run(host= '0.0.0.0', port="8081")
```

- create runserver.wsgi in backend directory

```
import sys, os
sys.path.insert(0, "/home/ubuntu/web/backend")

from runserver import app as application
```

### apache2 ì„¤ì •

1. 8081 í¬íŠ¸ ì¶”ê°€ 
   - <b>AWS EC2 ì„¤ì •ì—ì„œë„ í•´ë‹¹ í¬íŠ¸ ì¶”ê°€</b>
   - ì•„íŒŒì¹˜ ì„¤ì •ì—ì„œë„ ë‹¤ìŒê³¼ ê°™ì´ 8081 í¬íŠ¸ ì¶”ê°€
   
```bash
    sudo vi /etc/apache2/ports.conf

    Listen 80
    Listen 8081 # ì¶”ê°€
```

2. ê°€ìƒí˜¸ìŠ¤íŠ¸ ì¶”ê°€
   - fun-coding.org ë¥¼ ìì‹ ì˜ ì„œë²„ IPë¡œ ë³€ê²½í•˜ë©´ ë¨
   
```bash
    sudo vi /etc/apache2/sites-available/000-default.conf

```

```bash
<VirtualHost *:8081>
        # The ServerName directive sets the request scheme, hostname and port that
        # the server uses to identify itself. This is used when creating
        # redirection URLs. In the context of virtual hosts, the ServerName
        # specifies what hostname must appear in the request's Host: header to
        # match this virtual host. For the default virtual host (this file) this
        # value is not decisive as it is used as a last resort host regardless.
        # However, you must set it for any further virtual host explicitly.
        #ServerName www.example.com

        ServerAdmin dream@fun-coding.org
        ServerName fun-coding.org
        ServerAlias www.fun-coding.org

        # Available loglevels: trace8, ..., trace1, debug, info, notice, warn,
        # error, crit, alert, emerg.
        # It is also possible to configure the loglevel for particular
        # modules, e.g.
        #LogLevel info ssl:warn

        ErrorLog /home/ubuntu/web/backend/error.log
        CustomLog /home/ubuntu/web/backend/access.log combined

        WSGIDaemonProcess runserver python-path=/home/ubuntu/anaconda3 user=ubuntu group=ubuntu threads=5
        WSGIProcessGroup runserver
        WSGIScriptAlias / "home/ubuntu/web/backend/runserver.wsgi"
        <Directory "/home/ubuntu/web/backend">
                Require all granted
        </Directory>
</VirtualHost>
```

- apache2 ì¬ì‹¤í–‰
```
    sudo service apache2 restart
```

<div class="alert alert-block" style="border: 2px solid #1976D2;background-color:#E3F2FD;padding:5px;font-size:0.9em;">
ë³¸ ìë£ŒëŠ” ì €ì‘ê¶Œë²• ì œ25ì¡° 2í•­ì— ì˜í•´ ë³´í˜¸ë¥¼ ë°›ìŠµë‹ˆë‹¤. ë³¸ ìë£Œë¥¼ ì™¸ë¶€ì— ê³µê°œí•˜ì§€ ë§ì•„ì£¼ì„¸ìš”.<br>
ë³¸ ê°•ì˜ë§Œ ì˜ ì •ë¦¬í•˜ë©´, ë°ì´í„° ë¶„ì„, ë°ì´í„° ê³¼í•™, í’€ìŠ¤íƒ(ë°±ì—”ë“œ, í”„ë¡ íŠ¸ì—”ë“œ) ê°œë°œ ëª¨ë‘ ê°€ëŠ¥í•©ë‹ˆë‹¤!<br>
<b><a href="https://school.fun-coding.org/">ì”ì¬ë¯¸ì½”ë”©</a> ì—ì„œ ë³¸ ê°•ì˜ ê¸°ë°˜ ìµœì í™”ëœ ë¡œë“œë§µë„ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤</b></div>



